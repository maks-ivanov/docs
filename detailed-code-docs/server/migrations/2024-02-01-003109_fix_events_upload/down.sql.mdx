---
title: "down.sql"
---

## High-level description
This SQL migration script is designed to revert changes made in the corresponding `up.sql` file. It removes a function and renames a table, effectively undoing modifications related to event uploads and notification counts.

## Table of contents
- Function removal
- Table renaming

## Symbols

### DROP FUNCTION IF EXISTS public.update_notification_count() CASCADE
#### Description
This command removes the `update_notification_count()` function from the public schema if it exists. The CASCADE option ensures that any dependent objects are also removed.

#### Side Effects
- Removes the `update_notification_count()` function and any objects that depend on it.

### ALTER TABLE dataset_event_counts RENAME TO dataset_notification_counts
#### Description
This command renames the table `dataset_event_counts` back to `dataset_notification_counts`.

#### Side Effects
- Changes the name of the table in the database schema.
- May affect any queries, views, or other database objects that reference the original table name.

## Future Improvements
- Consider adding comments to explain the reason for the reversion, which could help future developers understand the migration history.
- If there are any data migrations or transformations in the corresponding `up.sql`, consider adding reverse operations to ensure data integrity.