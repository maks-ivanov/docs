---
title: "Overview"
---

## High-level description
The files in the `server/migrations/2024-05-23-184907_add-number-col` directory manage a database migration related to the `chunk_metadata` table. This migration adds a new column named `num_value` to the table and creates an index on this column. The directory contains two SQL files: `up.sql` for applying the migration and `down.sql` for reverting it.

## What does it do?
This migration modifies the database schema by adding a new column for storing floating-point numbers to the `chunk_metadata` table. It also optimizes data retrieval by creating an index on this new column. This index allows the database to quickly locate rows based on the values in the `num_value` column, improving the performance of queries that use this column for filtering or sorting. The migration scripts ensure that these changes can be applied and reverted in a controlled manner, making database schema updates more manageable.

## Key Files
- **up.sql:** This script is responsible for applying the migration. It contains SQL commands to add the `num_value` column to the `chunk_metadata` table and create the `idx_num_val_chunk_metadata` index on this column.
- **down.sql:** This script reverts the changes made by `up.sql`. It removes the `num_value` column from the `chunk_metadata` table and drops the `idx_num_val_chunk_metadata` index. 
