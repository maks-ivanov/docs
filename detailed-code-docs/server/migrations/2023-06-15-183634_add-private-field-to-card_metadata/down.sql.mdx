---
title: "down.sql"
---

## High-level description
This SQL migration script reverts changes made to the `card_metadata` table, specifically removing the `private` column, modifying the `qdrant_point_id` column, and dropping a CHECK constraint.

## Table of contents
- Remove CHECK constraint
- Modify `qdrant_point_id` column
- Remove `private` column

## Code Structure
The script consists of three SQL ALTER TABLE statements, each performing a specific modification to the `card_metadata` table.

## Symbols

### ALTER TABLE card_metadata DROP CONSTRAINT qdrant_point_nullable_constraint
#### Description
This statement removes a CHECK constraint named `qdrant_point_nullable_constraint` from the `card_metadata` table.

### ALTER TABLE card_metadata ALTER COLUMN qdrant_point_id SET NOT NULL
#### Description
This statement modifies the `qdrant_point_id` column in the `card_metadata` table to disallow NULL values.

### ALTER TABLE card_metadata DROP COLUMN private
#### Description
This statement removes the `private` column from the `card_metadata` table.

## Future Improvements
- Consider adding comments to explain the purpose of each alteration for better maintainability.
- If this migration is part of a larger schema change, consider combining it with other related migrations to reduce the number of separate migration files.