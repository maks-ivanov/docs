---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for adding a `private` field to the `card_metadata` table. The `up.sql` script applies the changes, while the `down.sql` script reverts them.

## What does it do?
These scripts manage database schema changes related to card privacy. The `up.sql` script adds a new boolean field named `private` to the `card_metadata` table. This field indicates whether a card is private or not. It also adjusts the `qdrant_point_id` column to be nullable and adds a constraint ensuring that if a card is not private, it must have a `qdrant_point_id`.

The `down.sql` script reverses these changes. It removes the `private` column, makes `qdrant_point_id` non-nullable again, and drops the constraint. 

These scripts are designed to be run in sequence by a database migration tool, ensuring the database schema is correctly updated or reverted as needed.
