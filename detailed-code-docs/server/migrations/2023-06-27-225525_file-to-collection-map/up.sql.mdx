---
title: "up.sql"
---

## High-level description
This SQL script creates a new table named `collections_from_files` in the database. This table is designed to store a many-to-many relationship between `card_collection` and `files` tables, tracking which files are associated with which card collections. 

## Table of contents
- Create Table `collections_from_files`

## Code Structure
The code consists of a single SQL statement that defines the structure of the `collections_from_files` table. It outlines the columns, their data types, constraints, and default values.

## References
- `card_collection` table (referenced in `collection_id` foreign key constraint)
- `files` table (referenced in `file_id` foreign key constraint)

## Symbols
### Symbol Name
  `collections_from_files` table

#### Description
This table represents a mapping between card collections and files, indicating which files belong to which collections.

#### Inputs
N/A - This is a table definition, not a function.

#### Outputs
N/A - This is a table definition, not a function.

#### Internal Logic
The table structure is defined with the following columns:
- `id`: A universally unique identifier (UUID) serving as the primary key for each record in the table.
- `collection_id`: A foreign key (UUID) referencing the `card_collection` table, establishing the link to a specific collection. It includes a "ON DELETE CASCADE" constraint, meaning deleting a collection will automatically delete related records in this table.
- `file_id`: A foreign key (UUID) referencing the `files` table, establishing the link to a specific file. It also includes a "ON DELETE CASCADE" constraint, ensuring data integrity when a file is deleted.
- `created_at`: A timestamp automatically populated with the record creation time.
- `updated_at`: A timestamp automatically updated with the last modification time of the record. 
