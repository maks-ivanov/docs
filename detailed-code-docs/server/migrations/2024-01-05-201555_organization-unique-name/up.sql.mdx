---
title: "up.sql"
---

## High-level description
This SQL migration script adds a unique constraint to the 'name' column of the 'organizations' table, ensuring that each organization name in the database is unique.

## Table of contents
- ALTER TABLE statement
- CONSTRAINT addition

## Symbols

### ALTER TABLE organizations
#### Description
This SQL command modifies the existing 'organizations' table structure.

### ADD CONSTRAINT organizations_name_key UNIQUE (name)
#### Description
This clause adds a new constraint to the 'organizations' table. It creates a unique constraint named 'organizations_name_key' on the 'name' column.

#### Internal Logic
The constraint ensures that no two rows in the 'organizations' table can have the same value in the 'name' column. If an attempt is made to insert or update a row with a name that already exists in the table, the database will reject the operation and raise an error.

## Side Effects
- Existing duplicate names in the 'organizations' table (if any) will cause this migration to fail.
- Future attempts to insert or update organization names must ensure uniqueness.
- This constraint may impact the performance of insert and update operations on the 'organizations' table, as the database will need to check for uniqueness each time.

## Future Improvements
- Consider adding a corresponding DOWN migration to remove this constraint if needed.
- If case-insensitive uniqueness is required, consider using a functional index or a computed column with a unique constraint instead.