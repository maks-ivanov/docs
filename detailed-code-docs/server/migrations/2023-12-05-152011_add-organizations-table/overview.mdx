---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for managing the `organizations` table in the database. The scripts handle both the creation and deletion of the table and its associated index.

## What does it do?
This directory contains two SQL scripts that manage the lifecycle of the `organizations` table in the database. One script is responsible for creating the table and its associated index, while the other script is responsible for dropping them. These scripts are intended to be run as part of a database migration process, ensuring that the database schema stays in sync with the application code.

## Key Files
### `up.sql`
This script creates the `organizations` table and an index on the `name` column. The table is designed to store information about organizations, including:

- `id`: A unique identifier for the organization, generated as a UUID.
- `name`: The name of the organization, indexed for faster lookups.
- `configuration`: A JSONB column to store organization-specific settings.
- `created_at`: A timestamp indicating when the organization was created.
- `updated_at`: A timestamp indicating when the organization was last updated.

```sql
CREATE TABLE organizations (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  name text NOT NULL UNIQUE,
  configuration jsonb NOT NULL,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_organizations_name ON organizations (name);
```

### `down.sql`
This script reverts the changes made by `up.sql`. It drops the `organizations` table and its associated index.

```sql
DROP TABLE IF EXISTS organizations;
DROP INDEX IF EXISTS idx_organizations_name;
```
