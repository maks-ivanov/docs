---
title: "Overview"
---

## High-level description
This directory contains database migration scripts for managing indices on the `card_metadata` and `card_collisions` tables. The scripts are written in SQL and are designed to be executed by a database migration tool. 

## What does it do?
The `up.sql` script creates indices on specific columns of the `card_metadata` and `card_collisions` tables. These indices are designed to speed up data retrieval operations by allowing the database to quickly locate rows that match specific criteria. This is akin to adding an index to a book, making it faster to find specific information.

The `down.sql` script does the opposite: it removes the indices that were created by the `up.sql` script. This is typically used to revert the database to a previous state, such as during a rollback operation.

The indices are created on columns that are likely to be used in search queries or as join conditions. By indexing these columns, the database can avoid scanning the entire table when searching for specific data, resulting in faster query performance.

For example, the `idx_card_metadata_private` index is created on the `private` column of the `card_metadata` table. This means that if an application frequently needs to retrieve all cards that are marked as private, the database can use this index to quickly find those cards without having to examine every row in the table.

While indices improve read performance, they can slightly slow down write operations (inserts, updates, and deletes) because the indices need to be updated along with the data. Therefore, it's important to carefully consider which columns to index based on the application's usage patterns.
