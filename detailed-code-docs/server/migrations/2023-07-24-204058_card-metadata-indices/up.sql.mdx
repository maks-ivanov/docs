---
title: "up.sql"
---

## High-level description
This SQL script creates several indices on the `card_metadata` and `card_collisions` tables to optimize query performance for specific columns. These indices are designed to improve the speed of data retrieval operations on frequently accessed fields.

## Table of contents
- Index creation for `card_metadata` table
- Index creation for `card_collisions` table

## Symbols

### CREATE INDEX idx_card_metadata_private
#### Description
Creates an index on the `private` column of the `card_metadata` table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| private | Unknown | The `private` column in the `card_metadata` table |

### CREATE INDEX idx_card_metadata_oc_file_path
#### Description
Creates an index on the `oc_file_path` column of the `card_metadata` table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| oc_file_path | Unknown | The `oc_file_path` column in the `card_metadata` table |

### CREATE INDEX idx_card_metadata_link
#### Description
Creates an index on the `link` column of the `card_metadata` table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| link | Unknown | The `link` column in the `card_metadata` table |

### CREATE INDEX idx_card_metadata_created_at
#### Description
Creates an index on the `created_at` column of the `card_metadata` table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| created_at | Unknown | The `created_at` column in the `card_metadata` table |

### CREATE INDEX idx_card_metadata_updated_at
#### Description
Creates an index on the `updated_at` column of the `card_metadata` table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| updated_at | Unknown | The `updated_at` column in the `card_metadata` table |

### CREATE INDEX idx_card_collisions_collision_qdrant_id
#### Description
Creates an index on the `collision_qdrant_id` column of the `card_collisions` table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| collision_qdrant_id | Unknown | The `collision_qdrant_id` column in the `card_collisions` table |

### CREATE INDEX idx_card_metadata_id
#### Description
Creates an index on the `id` column of the `card_metadata` table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | Unknown | The `id` column in the `card_metadata` table |

## Performance Considerations
The creation of these indices is likely to improve query performance for operations that involve filtering, sorting, or joining on the indexed columns. However, it's important to note that while indices speed up read operations, they can slightly slow down write operations (inserts, updates, and deletes) as the indices need to be updated along with the data.

## Future Improvements
- Monitor query performance and usage patterns to determine if all these indices are necessary or if additional indices might be beneficial.
- Consider using composite indices if queries frequently filter or sort by multiple columns simultaneously.
- Evaluate the impact of these indices on write performance, especially for high-volume insert or update operations.
- Periodically analyze and rebuild the indices to maintain optimal performance as the data grows.