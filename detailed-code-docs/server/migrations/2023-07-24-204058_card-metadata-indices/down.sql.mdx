---
title: "down.sql"
---

## High-level description
This SQL script is designed to undo the creation of several indices on the card metadata and card collisions tables. It's a migration rollback script that removes performance optimizations previously applied to the database.

## Table of contents
- DROP INDEX statements for card metadata indices
- DROP INDEX statement for card collisions index

## Symbols

### DROP INDEX idx_card_metadata_private
#### Description
Removes the index on the 'private' column of the card metadata table.

### DROP INDEX idx_card_metadata_oc_file_path
#### Description
Removes the index on the 'oc_file_path' column of the card metadata table.

### DROP INDEX idx_card_metadata_link
#### Description
Removes the index on the 'link' column of the card metadata table.

### DROP INDEX idx_card_metadata_created_at
#### Description
Removes the index on the 'created_at' column of the card metadata table.

### DROP INDEX idx_card_metadata_updated_at
#### Description
Removes the index on the 'updated_at' column of the card metadata table.

### DROP INDEX idx_card_collisions_collision_qdrant_id
#### Description
Removes the index on the 'collision_qdrant_id' column of the card collisions table.

### DROP INDEX idx_card_metadata_id
#### Description
Removes the index on the 'id' column of the card metadata table.

## Side Effects
Removing these indices will likely result in slower query performance for operations that previously utilized these indices. This could impact the overall performance of the application, especially for queries that filter or sort by the affected columns.

## Future Improvements
- Before applying this rollback script, ensure that the removal of these indices won't severely impact the application's performance.
- Consider adding a comment for each DROP INDEX statement explaining why the index was originally created and why it's being removed.
- If these indices are being replaced by other optimization strategies, document those strategies in the migration files or related documentation.