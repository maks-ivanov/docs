---
title: "up.sql"
---

## High-level description
This SQL migration script updates the `events` table by replacing the prefix 'card_' with 'chunk_' in the `event_type` column for all records where the `event_type` starts with 'card_'.

## Table of contents
- SQL UPDATE statement

## Symbols

### UPDATE statement
#### Description
This SQL statement modifies existing records in the `events` table, specifically targeting the `event_type` column.

#### Internal Logic
1. The statement uses the `REPLACE` function to substitute 'card_' with 'chunk_' in the `event_type` column.
2. The `WHERE` clause filters the records to only update those where `event_type` starts with 'card_'.

## Side Effects
This migration will modify existing data in the `events` table, changing the prefix of certain `event_type` values from 'card_' to 'chunk_'.

## Future Improvements
- Consider adding a rollback script (down.sql) to revert these changes if needed.
- If there are any foreign key constraints or indexes on the `event_type` column, ensure they are updated accordingly.
- Add logging or output to track the number of records affected by this migration.