---
title: "down.sql"
---

## High-level description
This SQL migration script is designed to revert the changes made in the corresponding `up.sql` file. It removes the `metadata` and `tag_set` columns from the `chunk_group` table and drops the associated indexes.

## Table of contents
- Removal of `metadata` column from `chunk_group` table
- Removal of `tag_set` column from `chunk_group` table
- Dropping of `idx_chunk_group_metadata` index
- Dropping of `idx_chunk_group_tag_set` index

## Symbols

### ALTER TABLE chunk_group DROP COLUMN IF EXISTS metadata
#### Description
This SQL command removes the `metadata` column from the `chunk_group` table if it exists.

### ALTER TABLE chunk_group DROP COLUMN IF EXISTS tag_set
#### Description
This SQL command removes the `tag_set` column from the `chunk_group` table if it exists.

### DROP INDEX IF EXISTS idx_chunk_group_metadata
#### Description
This SQL command drops the index named `idx_chunk_group_metadata` if it exists. This index was likely created for the `metadata` column in the `up.sql` file.

### DROP INDEX IF EXISTS idx_chunk_group_tag_set
#### Description
This SQL command drops the index named `idx_chunk_group_tag_set` if it exists. This index was likely created for the `tag_set` column in the `up.sql` file.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| PostgreSQL | This SQL script is written for PostgreSQL database management system |

## Future Improvements
- Consider adding error handling or logging to capture any issues that might occur during the migration rollback process.
- If the `metadata` and `tag_set` columns contain important data, consider adding a data backup step before dropping the columns.