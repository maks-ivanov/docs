---
title: "down.sql"
---

## High-level description
This SQL migration script is designed to revert the changes made by the corresponding `up.sql` file. It removes the `tag_set_array` column from three tables: `chunk_metadata`, `chunk_group`, and `files`.

## Table of contents
- Removal of `tag_set_array` column from `chunk_metadata` table
- Removal of `tag_set_array` column from `chunk_group` table
- Removal of `tag_set_array` column from `files` table

## Code Structure
The script consists of three SQL ALTER TABLE statements, each dropping the `tag_set_array` column from a different table.

## Symbols

### ALTER TABLE chunk_metadata DROP COLUMN tag_set_array
#### Description
This statement removes the `tag_set_array` column from the `chunk_metadata` table.

### ALTER TABLE chunk_group DROP COLUMN tag_set_array
#### Description
This statement removes the `tag_set_array` column from the `chunk_group` table.

### ALTER TABLE files DROP COLUMN tag_set_array
#### Description
This statement removes the `tag_set_array` column from the `files` table.

## Side Effects
- The `tag_set_array` column and its data will be permanently removed from the `chunk_metadata`, `chunk_group`, and `files` tables.
- Any queries or application code relying on the `tag_set_array` column in these tables will no longer function correctly after this migration is applied.

## Future Improvements
- Ensure that any application code or queries using the `tag_set_array` column are updated to handle its absence after this migration.
- Consider adding a backup mechanism to preserve the data in the `tag_set_array` column before dropping it, if the data might be needed in the future.