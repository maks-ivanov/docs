---
title: "Overview"
---

## High-level description
This directory contains database migration scripts related to fixing message counts for organizations. It includes an `up.sql` script to apply the migration and a `down.sql` script to revert it. 

## What does it do?
The scripts in this directory manage how message counts are updated for organizations within the application. The `up.sql` script introduces a mechanism to automatically update these counts whenever messages are added or removed. It does this by creating a function called `update_message_counts()` and a trigger that calls this function whenever changes happen in the `messages` table. The `down.sql` script reverts these changes, effectively disabling the automatic update mechanism. 

