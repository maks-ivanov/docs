---
title: "down.sql"
---

## High-level description
This SQL migration script undoes the changes made in the corresponding `up.sql` file. It drops the `card_collisions` table and removes a unique constraint from the `card_metadata` table.

## Table of contents
- Drop `card_collisions` table
- Remove unique constraint from `card_metadata` table

## Symbols

### DROP TABLE card_collisions
#### Description
This SQL command removes the `card_collisions` table from the database schema.

#### Side Effects
- Permanently deletes the `card_collisions` table and all its data
- Removes any associated indexes or constraints

### ALTER TABLE card_metadata DROP CONSTRAINT uq_qdrant_point_id
#### Description
This SQL command removes the unique constraint named `uq_qdrant_point_id` from the `card_metadata` table.

#### Side Effects
- Removes the uniqueness requirement for the `qdrant_point_id` column in the `card_metadata` table
- May allow duplicate values in the `qdrant_point_id` column after this constraint is dropped

## Future Improvements
- Consider adding a safety check or confirmation step before dropping the table and constraint, especially if this migration might be run in a production environment.
- If the `card_collisions` table contains important data, consider adding a data backup step before dropping the table.