---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for managing the `card_files` table in the database. The `card_files` table is designed to establish a many-to-many relationship between cards and files.

## What does it do?
The `up.sql` script creates the `card_files` table, defining its structure with columns for a unique identifier, foreign keys to link to the `cards` and `files` tables, and timestamps for tracking creation and update times. This table allows the application to associate multiple files with a single card and vice versa.

The `down.sql` script handles the reverse operation, dropping the `card_files` table if it exists. This is essential for rolling back database changes during development or deployment.

```sql
-- server/migrations/2023-06-26-192445_card_files-map-cards-to-files/up.sql
CREATE TABLE card_files (
  id uuid PRIMARY KEY,
  card_id uuid REFERENCES card_metadata(id),
  file_id uuid REFERENCES files(id),
  created_at timestamp DEFAULT NOW(),
  updated_at timestamp DEFAULT NOW()
);
```

```sql
-- server/migrations/2023-06-26-192445_card_files-map-cards-to-files/down.sql
DROP TABLE IF EXISTS card_files;
```
