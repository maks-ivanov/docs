---
title: "up.sql"
---

## High-level description
This SQL migration script adds a new column named 'role' to the 'user_api_key' table. The column is defined as an integer with a default value of 0 and is set to be non-nullable.

## Table of contents
- ALTER TABLE statement

## Symbols

### ALTER TABLE user_api_key
#### Description
This SQL command modifies the structure of the existing 'user_api_key' table by adding a new column.

#### Internal Logic
1. Identifies the 'user_api_key' table for modification
2. Adds a new column named 'role'
3. Sets the data type of the 'role' column to integer
4. Makes the 'role' column non-nullable (NOT NULL)
5. Sets a default value of 0 for the 'role' column

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| user_api_key table | The existing table being modified |

## Future Improvements
- Consider adding a CHECK constraint to ensure the 'role' column only contains valid role values
- If roles are predefined, consider using an ENUM type instead of integer for better data integrity
- Add comments to explain the meaning of different role values (e.g., what role does 0 represent?)