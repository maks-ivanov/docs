---
title: "down.sql"
---

## High-level description
This SQL migration script is designed to revert the changes made in the corresponding `up.sql` file. It removes the `time_stamp` column from both the `card_metadata` and `files` tables in the database.

## Table of contents
- Removal of `time_stamp` column from `card_metadata` table
- Removal of `time_stamp` column from `files` table

## Symbols

### ALTER TABLE card_metadata
#### Description
This SQL command removes the `time_stamp` column from the `card_metadata` table if it exists.

#### Internal Logic
The `DROP COLUMN IF EXISTS` clause is used to ensure that the operation is idempotent, meaning it can be run multiple times without causing an error if the column has already been removed.

### ALTER TABLE files
#### Description
This SQL command removes the `time_stamp` column from the `files` table if it exists.

#### Internal Logic
Similar to the previous command, it uses the `DROP COLUMN IF EXISTS` clause for idempotency.

## Side Effects
- Permanently removes the `time_stamp` column and its data from the `card_metadata` table.
- Permanently removes the `time_stamp` column and its data from the `files` table.

## Future Improvements
- Consider adding a backup mechanism before dropping columns to prevent accidental data loss.
- If the `time_stamp` column is used in any indexes or constraints, those should be dropped first in this migration to avoid potential errors.