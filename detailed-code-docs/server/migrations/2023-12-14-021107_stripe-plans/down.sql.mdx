---
title: "down.sql"
---

## High-level description
This SQL script is designed to revert the changes made by the corresponding `up.sql` migration file. It drops two tables related to Stripe integration: `stripe_subscriptions` and `stripe_plans`.

## Table of contents
- Drop `stripe_subscriptions` table
- Drop `stripe_plans` table

## Symbols

### DROP TABLE stripe_subscriptions
#### Description
This SQL command removes the `stripe_subscriptions` table from the database schema.

#### Side Effects
- All data stored in the `stripe_subscriptions` table will be permanently deleted.
- Any foreign key constraints referencing this table will be invalidated.

### DROP TABLE stripe_plans
#### Description
This SQL command removes the `stripe_plans` table from the database schema.

#### Side Effects
- All data stored in the `stripe_plans` table will be permanently deleted.
- Any foreign key constraints referencing this table will be invalidated.

## Error Handling
This script does not include explicit error handling. If the tables do not exist when the script is run, it may result in SQL errors.

## Future Improvements
- Add conditional checks to verify if the tables exist before attempting to drop them, preventing potential errors if the tables have already been removed.
- Consider adding a transaction to ensure atomicity of the operations.
- If there are dependencies between these tables and others in the schema, ensure that the order of dropping tables respects these dependencies to avoid constraint violation errors.