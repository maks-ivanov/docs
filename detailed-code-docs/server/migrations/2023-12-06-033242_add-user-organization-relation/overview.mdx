---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for managing the relationship between users and organizations in the application's database. The scripts handle adding and removing the `organization_id` column from the `users` table and establishing a foreign key constraint to enforce referential integrity.

## What does it do?
These SQL scripts modify the database structure to link users with organizations. One script adds a new column to the `users` table to store the ID of the organization a user belongs to. It also creates a rule that ensures every user is associated with a valid organization. The other script reverses these changes, removing the organization link and deleting the association data. This is essential for managing database versions and ensuring that the database structure aligns with the application's requirements.

## Key Files
- **up.sql:** This script adds the `organization_id` column to the `users` table and establishes a foreign key constraint, linking it to the `organizations` table. This enforces a many-to-one relationship, where a user belongs to one organization, and an organization can have multiple users.
- **down.sql:** This script reverts the changes made by `up.sql`. It removes the `organization_id` column from the `users` table, effectively removing the organization relationship. This is crucial for rolling back database changes if needed.
