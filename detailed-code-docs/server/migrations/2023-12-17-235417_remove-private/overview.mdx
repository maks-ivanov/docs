---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for removing and then re-adding the `private` column from the `card_metadata` and `files` tables in the database. The migration is split into two files: `up.sql` for applying the change and `down.sql` for reverting it.

## What does it do?
The `up.sql` script removes the `private` column from both the `card_metadata` and `files` tables. This means any information about whether a card or file was private is permanently deleted.

The `down.sql` script reverts this change by adding the `private` column back to both tables. The column is defined as a boolean (`true` or `false`) with a default value of `false`. This ensures that all existing cards and files are treated as not private after reverting.

```sql
-- up.sql
ALTER TABLE card_metadata DROP COLUMN private;
ALTER TABLE files DROP COLUMN private;

-- down.sql
ALTER TABLE card_metadata ADD COLUMN private boolean NOT NULL DEFAULT false;
ALTER TABLE files ADD COLUMN private boolean NOT NULL DEFAULT false;
``` 
