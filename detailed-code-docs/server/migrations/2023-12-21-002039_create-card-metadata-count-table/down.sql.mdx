---
title: "down.sql"
---

## High-level description
This SQL script is designed to undo the changes made by the corresponding `up.sql` migration. It removes a trigger, a function, and a table related to card metadata counts in a database.

## Table of contents
- Drop trigger
- Drop function
- Drop table

## Symbols

### DROP TRIGGER card_metadata_count_trigger
#### Description
Removes the trigger named `card_metadata_count_trigger` from the `card_metadata` table.

### DROP FUNCTION update_card_metadata_count()
#### Description
Removes the function named `update_card_metadata_count()` from the database.

### DROP TABLE card_metadata_counts
#### Description
Removes the table named `card_metadata_counts` from the database.

## Dependencies
This script depends on the existence of the objects it's trying to drop:
| Dependency | Purpose |
|:-----------|:--------|
| card_metadata_count_trigger | Trigger to be removed |
| update_card_metadata_count() | Function to be removed |
| card_metadata_counts | Table to be removed |

## Future Improvements
- Consider adding error handling to check if the objects exist before attempting to drop them.
- If the order of dropping objects matters (due to dependencies), ensure the current order is optimal.