---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for changing the `location` column in the `chunk_metadata` table. The `up.sql` script modifies the existing column to use the JSONB data type with a default value of NULL. The `down.sql` script reverts these changes, restoring the original state of the `location` column.

## What does it do?
These scripts manage database changes related to how location data is stored for chunks of data. The original setup likely had a specific way of storing location, and these migrations aim to transition to a more flexible format using JSONB while allowing for cases where location information might not be available. The `up.sql` script performs the upgrade, changing the data type and default value. The `down.sql` script acts as a rollback mechanism, reverting the table to its previous state if needed.

## Key Files
- **up.sql:** This script modifies the `chunk_metadata` table by first dropping the existing `location` column if it exists. Then, it adds a new `location` column with the JSONB data type and a default value of NULL.
- **down.sql:** This script reverts the changes made by `up.sql`. It drops the `location` column added by `up.sql` and then adds back a `location` column with a default value of an empty JSON object (`'{}'`).

## Dependencies
Both `up.sql` and `down.sql` rely on PostgreSQL syntax for the SQL commands used. 
