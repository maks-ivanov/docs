---
title: "down.sql"
---

## High-level description
This SQL migration file is designed to revert the changes made in the corresponding `up.sql` file. It removes the `scopes` column from the `user_api_key` table if it exists.

## Table of contents
- SQL statement to drop the `scopes` column

## Symbols

### SQL Statement
#### Description
The SQL statement in this file is responsible for removing the `scopes` column from the `user_api_key` table, effectively undoing the changes made in the corresponding `up.sql` migration.

#### Internal Logic
1. The statement uses the `ALTER TABLE` command to modify the `user_api_key` table.
2. It employs the `DROP COLUMN` clause to remove the `scopes` column.
3. The `IF EXISTS` condition is used to prevent errors if the column doesn't exist.

## Side Effects
- Removes the `scopes` column from the `user_api_key` table if it exists.
- This operation may result in data loss if the `scopes` column contained any information.

## Future Improvements
- Consider adding a backup mechanism before dropping the column to preserve any existing data in the `scopes` column.
- If the `scopes` functionality is critical, implement a more graceful downgrade path that preserves the data in some form.