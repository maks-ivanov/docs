---
title: "down.sql"
---

## High-level description
This SQL script is designed to undo the creation of indexes on the `card_collection` and `card_collection_bookmarks` tables. It's part of a database migration system, specifically the "down" migration that reverts changes made in a corresponding "up" migration.

## Table of contents
- Remove indexes from card_collection table
- Remove indexes from card_collection_bookmarks table

## Symbols

### DROP INDEX IF EXISTS
#### Description
This SQL command is used to remove an index from a database table if it exists. If the index doesn't exist, the command will not throw an error.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| index_name | string | The name of the index to be dropped |

#### Internal Logic
The command checks if the specified index exists in the database. If it does, the index is removed. If it doesn't exist, no action is taken.

## Side Effects
Removing these indexes will likely decrease the query performance for operations that were using these indexes, but it will also reduce the storage space used by the database and potentially speed up write operations.

## Dependencies
This script assumes the existence of a SQL-compatible database system that supports the `DROP INDEX IF EXISTS` syntax.

## Error Handling
The `IF EXISTS` clause in each `DROP INDEX` statement ensures that the script won't fail if an index doesn't exist, making the migration more robust.

## Future Improvements
- Consider adding comments explaining why each index was originally created and why it's being removed.
- If these indexes are critical for performance, consider adding a warning or check to ensure the database won't suffer significant performance degradation after running this script.