---
title: "up.sql"
---

## High-level description
This SQL script creates a new table named `card_verification` in the database. The table is designed to store verification information for cards, including a unique identifier, a reference to the associated card, and a similarity score.

## Table of contents
- Table creation
- Column definitions
- Primary key
- Foreign key reference

## Symbols

### `card_verification` table
#### Description
The `card_verification` table is created to store verification data for cards. It includes three columns: a unique identifier, a reference to the card being verified, and a similarity score.

#### Columns
| Name | Type | Constraints | Description |
|:-----|:-----|:------------|:------------|
| id | UUID | PRIMARY KEY | Unique identifier for each verification record |
| card_id | UUID | NOT NULL, REFERENCES card_metadata(id) | Foreign key referencing the associated card |
| similarity_score | BigInt | NOT NULL | A score representing the similarity or verification result |

#### Internal Logic
- The table uses UUIDs for both its primary key and the foreign key reference.
- The `card_id` column establishes a relationship with the `card_metadata` table, ensuring referential integrity.
- The `similarity_score` is stored as a `BigInt`, allowing for a wide range of possible score values.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| card_metadata | The `card_id` column references the `id` column in the `card_metadata` table |

## Future Improvements
- Consider adding an index on the `card_id` column to improve query performance when searching for verifications by card.
- Depending on the application's needs, a timestamp column could be added to track when each verification was performed.
- If multiple types of verification are possible, an enum column could be added to distinguish between different verification methods.