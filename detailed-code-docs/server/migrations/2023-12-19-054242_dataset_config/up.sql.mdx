---
title: "up.sql"
---

## High-level description
This SQL migration script alters the `datasets` table by adding a new column named `configuration` of type JSONB with a default value of an empty JSON object.

## Table of contents
- ALTER TABLE statement
- Column addition

## Symbols

### ALTER TABLE datasets
#### Description
This SQL command modifies the structure of the existing `datasets` table.

#### Internal Logic
The command targets the `datasets` table for modification.

### ADD COLUMN configuration
#### Description
This clause adds a new column to the `datasets` table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| configuration | JSONB | A column to store JSON-formatted configuration data |

#### Internal Logic
- The new column is named `configuration`.
- It uses the JSONB data type, which is a binary representation of JSON data in PostgreSQL.
- The column is set as NOT NULL, meaning it cannot contain null values.
- A default value of an empty JSON object (`'{}'::JSONB`) is assigned to the column.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| PostgreSQL | This migration script uses PostgreSQL-specific syntax (JSONB type) |

## Future Improvements
- Consider adding indexes on the `configuration` column if frequent queries on its contents are expected.
- If specific configuration fields become standardized, consider creating separate columns for those fields to improve query performance and data integrity.