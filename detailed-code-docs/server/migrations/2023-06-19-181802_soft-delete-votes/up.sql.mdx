---
title: "up.sql"
---

## High-level description
This SQL migration script adds a 'deleted' column to the 'card_votes' table, implementing a soft delete functionality for votes.

## Table of contents
- ALTER TABLE statement

## Symbols

### ALTER TABLE card_votes
#### Description
This SQL command modifies the structure of the 'card_votes' table by adding a new column named 'deleted'.

#### Internal Logic
1. Adds a new column named 'deleted' to the 'card_votes' table
2. Sets the data type of the new column to boolean
3. Specifies that the column cannot contain NULL values (NOT NULL)
4. Sets a default value of 'false' for the new column

## Side Effects
- Existing rows in the 'card_votes' table will have their 'deleted' column set to 'false'
- Any queries or operations on the 'card_votes' table may need to be updated to account for the new 'deleted' column

## Future Improvements
- Consider adding an index on the 'deleted' column if it will be frequently used in WHERE clauses
- Implement a corresponding DOWN migration to reverse this change if needed
- Update application logic to utilize the 'deleted' column for soft delete operations on votes