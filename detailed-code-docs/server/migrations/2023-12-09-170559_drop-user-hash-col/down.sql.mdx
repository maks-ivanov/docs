---
title: "down.sql"
---

## High-level description
This SQL migration script is designed to revert changes made to the "users" table. It adds back a "hash" column and removes a "name" column, effectively undoing the changes implemented in the corresponding `up.sql` migration.

## Table of contents
- Add "hash" column to "users" table
- Remove "name" column from "users" table

## Symbols

### ALTER TABLE "users" ADD COLUMN "hash" VARCHAR(255) NULL;
#### Description
This SQL statement adds a new column named "hash" to the "users" table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| "hash" | VARCHAR(255) | The name of the new column to be added |

#### Internal Logic
- Adds a new column named "hash" to the "users" table
- Sets the data type of the column to VARCHAR with a maximum length of 255 characters
- Allows NULL values in this column

### ALTER TABLE "users" DROP COLUMN IF EXISTS "name" ;
#### Description
This SQL statement removes the "name" column from the "users" table if it exists.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| "name" | Column name | The name of the column to be dropped |

#### Internal Logic
- Checks if the "name" column exists in the "users" table
- If the column exists, it is removed from the table
- If the column doesn't exist, no action is taken

## Future Improvements
- Consider adding a comment explaining the purpose of the "hash" column and its relationship to user authentication or data security.
- If the "name" column is expected to contain important user information, consider adding a step to backup this data before dropping the column.
- Evaluate whether the "hash" column should allow NULL values or if it should be constrained to NOT NULL for data integrity.