---
title: "down.sql"
---

## High-level description
This SQL migration script is designed to revert the changes made in the corresponding `up.sql` file. It removes a JSON index and recreates three separate indexes on specific columns of the `chunk_metadata` table.

## Table of contents
- Drop JSON index
- Create individual column indexes

## Symbols

### DROP INDEX idx_chunk_metadata_json
#### Description
This command removes the JSON index named `idx_chunk_metadata_json` from the database.

### CREATE INDEX idx_card_metadata_link
#### Description
This command creates an index named `idx_card_metadata_link` on the `link` column of the `chunk_metadata` table.

### CREATE INDEX idx_chunk_metadata_created_at
#### Description
This command creates an index named `idx_chunk_metadata_created_at` on the `created_at` column of the `chunk_metadata` table.

### CREATE INDEX idx_chunk_metadata_time_stamp
#### Description
This command creates an index named `idx_chunk_metadata_time_stamp` on the `time_stamp` column of the `chunk_metadata` table.

## Future Improvements
- Consider using IF EXISTS clause for the DROP INDEX statement to prevent errors if the index doesn't exist.
- Ensure that the table name in `idx_card_metadata_link` is correct, as it uses "card" instead of "chunk" in the index name.