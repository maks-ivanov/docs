---
title: "down.sql"
---

## High-level description
This SQL migration script is designed to revert changes made in the corresponding `up.sql` file. It adds back the `expires_at` column to the `invitations` table, which was presumably removed in the upgrade migration.

## Table of contents
- SQL statement to add `expires_at` column

## Symbols

### ALTER TABLE invitations ADD COLUMN expires_at timestamp;
#### Description
This SQL statement adds a new column named `expires_at` of type `timestamp` to the `invitations` table.

#### Inputs
N/A (This is a DDL statement and doesn't take inputs in the traditional sense)

#### Outputs
N/A (This statement modifies the database schema but doesn't return data)

#### Internal Logic
1. The `ALTER TABLE` command is used to modify the structure of an existing table.
2. `invitations` is the name of the table being altered.
3. `ADD COLUMN` specifies that a new column is being added to the table.
4. `expires_at` is the name of the new column being added.
5. `timestamp` is the data type of the new column, which can store both date and time information.

## Side Effects
- This migration will modify the schema of the `invitations` table by adding a new column.
- Any existing rows in the `invitations` table will have a `NULL` value for the new `expires_at` column unless a default value is specified (which is not the case in this migration).
- This change may affect any queries or application code that interacts with the `invitations` table, as they may need to be updated to handle the new column.

## Future Improvements
- Consider adding a default value for the `expires_at` column to ensure consistency for existing records.
- If the `expires_at` column is meant to be non-nullable, consider adding a `NOT NULL` constraint and providing a default value or updating existing records.
- Depending on the application's needs, you might want to add an index on the `expires_at` column if it will be frequently used in queries.