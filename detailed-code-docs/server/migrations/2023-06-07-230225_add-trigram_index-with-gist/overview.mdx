---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for adding and removing a trigram index on the `card_metadata` table's `oc_file_path` column. 

## What does it do?
The migration scripts in this directory are designed to be run by a database migration tool. The `up.sql` script adds a trigram index to the database to speed up pattern matching queries on the `oc_file_path` column of the `card_metadata` table. The `down.sql` script reverses these changes, removing the index and the PostgreSQL trigram extension. 

## Key Files
- **up.sql:** This script creates the `pg_trgm` extension for trigram matching and then creates a GIN index named `idx_gist` on the `oc_file_path` column of the `card_metadata` table using trigram operations (`gin_trgm_ops`).
- **down.sql:** This script removes the `idx_gist` index and the `pg_trgm` extension. 
