---
title: "down.sql"
---

## High-level description
This SQL migration file is designed to undo the changes made by the corresponding `up.sql` file. It drops two tables: `card_votes` and `card_metadata`, if they exist in the database.

## Table of contents
- Drop `card_votes` table
- Drop `card_metadata` table

## Symbols

### DROP TABLE IF EXISTS card_votes
#### Description
This SQL command removes the `card_votes` table from the database if it exists.

#### Side Effects
- If the `card_votes` table exists, it will be permanently deleted from the database, along with all its data.
- If the table doesn't exist, the command will have no effect.

### DROP TABLE IF EXISTS card_metadata
#### Description
This SQL command removes the `card_metadata` table from the database if it exists.

#### Side Effects
- If the `card_metadata` table exists, it will be permanently deleted from the database, along with all its data.
- If the table doesn't exist, the command will have no effect.

## Error Handling
The `IF EXISTS` clause in both DROP TABLE statements ensures that no error will be raised if the tables don't exist in the database. This makes the migration more robust and idempotent.

## Future Improvements
- Consider adding a transaction wrapper around the DROP TABLE statements to ensure atomicity of the operation.
- If there are any foreign key constraints or dependencies on these tables, it might be necessary to drop them in a specific order or disable foreign key checks temporarily.