---
title: "down.sql"
---

## High-level description
This SQL migration script is designed to revert changes made in the corresponding `up.sql` file. It adds a unique constraint to the `tag` column in the `dataset_tags` table.

## Table of contents
- ALTER TABLE statement
- ADD CONSTRAINT statement

## Symbols

### ALTER TABLE dataset_tags
#### Description
This SQL command modifies the structure of the `dataset_tags` table.

### ADD CONSTRAINT dataset_tags_tag_key UNIQUE(tag)
#### Description
This clause adds a unique constraint named `dataset_tags_tag_key` to the `tag` column of the `dataset_tags` table. This ensures that each value in the `tag` column must be unique across all rows in the table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tag | column | The column on which the unique constraint is applied |

#### Side Effects
- Enforces uniqueness of the `tag` column in the `dataset_tags` table.
- May cause an error if there are existing duplicate values in the `tag` column when the constraint is added.

## Future Improvements
- Consider adding error handling or a check for existing duplicate values before applying the constraint.
- If frequent updates to the constraint are expected, consider using a more flexible approach, such as a unique index that can be easily dropped and recreated.