---
title: "Overview"
---

## High-level description
This directory contains database migration scripts for adding and removing a GiST index to the `card_metadata` table. The purpose of these migrations is to enable and disable full-text search capabilities on the card metadata.

## What does it do?
The `up.sql` script adds a new column to the `card_metadata` table for storing pre-computed data for full-text search. It then populates this column with data from the existing `content` column and creates a GiST index on the new column to speed up full-text searches.

The `down.sql` script reverts these changes by removing the GiST index and the added column. This effectively disables the full-text search capabilities and restores the table to its previous state. 
