---
title: "Overview"
---

## High-level description
This directory contains SQL migration files for managing the `stripe_customers` table in the database. The `up.sql` file defines the table structure and creates it, while the `down.sql` file handles the rollback by dropping the table.

## What does it do?
These migration files automate the process of creating and removing the `stripe_customers` table, which stores information about customers using Stripe for payments. The `up.sql` file sets up the table with columns for storing a unique ID, Stripe customer ID, email address, and timestamps for creation and updates. It also establishes a relationship with the `users` table using the email address. The `down.sql` file simply removes the `stripe_customers` table if it exists.

## Key Files
### up.sql
This file contains the SQL statement to create the `stripe_customers` table. It defines the table structure, including columns for:

- `id`: Unique identifier for the Stripe customer.
- `stripe_id`: Stripe's internal customer ID.
- `email`: Customer's email address, linked to the `users` table.
- `created_at`: Timestamp of record creation.
- `updated_at`: Timestamp of last record update.

The script also sets up a primary key constraint on the `id` column and a foreign key constraint on the `email` column, referencing the `users` table.

### down.sql
This file contains a single SQL statement to drop the `stripe_customers` table if it exists. This action is the reverse of the `up.sql` script and is used to roll back the migration.
