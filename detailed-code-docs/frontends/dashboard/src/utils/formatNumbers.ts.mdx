---
title: "formatNumbers.ts"
---

## High-level description
This code defines two utility functions, `formatNumberWithCommas` and `formatStorage`, for formatting numbers. `formatNumberWithCommas` adds commas as thousands separators to a number. `formatStorage` converts a file size in megabytes (MB) to a human-readable format in MB, gigabytes (GB), or terabytes (TB).

## Table of contents
- `formatNumberWithCommas`
- `formatStorage`

## References
- `formatNumberWithCommas` is used by `formatStorage`.

## Symbols

### `formatNumberWithCommas`
#### Description
This function takes a number as input and returns a string representation of the number with commas as thousands separators.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| num | number | The number to format. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| formattedNumber | string | The formatted number as a string. |

#### Internal Logic
The function uses a regular expression `/\B(?=(\d{3})+(?!\d))/g` to match the positions where commas should be inserted. The `replace` method is then used to insert commas at the matched positions.

### `formatStorage`
#### Description
This function takes a file size in megabytes (MB) as input and returns a human-readable string representation of the size in MB, GB, or TB.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mb | number | The file size in MB. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| formattedSize | string | The formatted file size as a string. |

#### Internal Logic
1. If the input size is less than 1000 MB, it returns the size in MB formatted with commas.
2. If the input size is between 1000 MB and 9000000000 MB (9 TB), it converts the size to GB and returns it formatted with commas.
3. If the input size is greater than or equal to 9 TB, it converts the size to TB and returns it formatted with commas.

## References
- `formatStorage` uses `formatNumberWithCommas` to format the final size value.
