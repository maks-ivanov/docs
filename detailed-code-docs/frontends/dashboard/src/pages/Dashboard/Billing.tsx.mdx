---
title: "Billing.tsx"
---

## High-level description
The `Billing` component displays billing information for the selected organization, including a table of available plans and a table of invoices. It allows users to view available plans, their current plan, and upgrade, downgrade, or cancel their subscription.

## Table of contents
- Imports
- Component: `Billing`

## References
- `UserContext` from "../../contexts/UserContext"
- `OrganizationAndSubAndPlan` from "shared/types"
- `PlansTable` from "../../components/PlansTable"
- `createToast` from "../../components/ShowToasts"
- `InvoicesTable` from "../../components/InvoicesTable"

## Symbols

### Symbol Name
`Billing`

#### Description
A SolidJS component that displays billing information for the selected organization. It fetches organization, subscription, and plan data, and renders the `PlansTable` and `InvoicesTable` components.

#### Inputs
This component does not take any props.

#### Outputs
This component renders a `div` element containing the `PlansTable` and `InvoicesTable` components.

#### Internal Logic
1. Retrieves the API host from environment variables.
2. Accesses the `UserContext` to get the selected organization's ID.
3. Uses a `createMemo` to derive the selected organization object from the `UserContext`.
4. Uses a `createEffect` to fetch the organization, subscription, and plan data when the selected organization changes.
5. Renders the `PlansTable` component, passing the fetched organization, subscription, and plan data.
6. Renders the `InvoicesTable` component.

## Side Effects
- Fetches data from the API.
- Displays toast notifications on error.

## Dependencies
- solid-js
- shared/types
- ../../components/PlansTable
- ../../components/ShowToasts
- ../../components/InvoicesTable
