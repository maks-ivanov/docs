---
title: "DatasetSettingsPage.tsx"
---

## High-level description
This code defines the `DatasetSettingsPage` component, which provides a form-based interface for managing dataset settings, including LLM configuration, embedding settings, and additional options. It also includes a danger zone for clearing or deleting the dataset.

## Table of contents
- `defaultServerEnvsConfiguration`
- `ServerSettingsForm`
- `DangerZoneForm`
- `SaveButton`
- `DatasetSettingsSidebar`
- `DatasetSettingsPage`

## Code Structure
The code consists of several components and helper functions:
- `defaultServerEnvsConfiguration`: Defines the default configuration for the dataset server.
- `ServerSettingsForm`: Renders a form for configuring LLM, embedding, and additional settings.
- `DangerZoneForm`: Renders a form for clearing or deleting the dataset.
- `SaveButton`: A simple button component that triggers saving the settings.
- `DatasetSettingsSidebar`: A sidebar component with links to different sections of the settings page.
- `DatasetSettingsPage`: The main component that orchestrates the layout and functionality of the page.

## References
- `DatasetContext`: Provides access to the dataset object and related data.

## Symbols

### `defaultServerEnvsConfiguration`
#### Description
Defines the default configuration values for a dataset's server environment. These values are used to populate the settings form when a new dataset is created or when no custom configuration has been set.

#### Inputs
None

#### Outputs
None

### `ServerSettingsForm`
#### Description
Renders a form with various input fields for configuring the server-side settings of a dataset. This includes settings related to the LLM, embedding model, and other options.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| serverConfig | Accessor&lt;ServerEnvsConfiguration&gt; | An accessor function to retrieve the current server configuration. |
| setServerConfig | (config: (prev: ServerEnvsConfiguration) =&gt; ServerEnvsConfiguration) =&gt; void | A function to update the server configuration. |

#### Outputs
None

### `DangerZoneForm`
#### Description
Renders a form with options to clear or delete the dataset. It includes confirmation mechanisms to prevent accidental data loss.

#### Inputs
None

#### Outputs
None

### `SaveButton`
#### Description
A simple button component that triggers the `onSave` function when clicked. This is typically used to save the changes made to the dataset settings.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onSave | () =&gt; void | A function to be executed when the button is clicked. |

#### Outputs
None

### `DatasetSettingsSidebar`
#### Description
A sidebar component that provides navigation links to different sections of the Dataset Settings page. It highlights the currently active section.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onSave | () =&gt; void | A function to be executed when the "Save Changes" button is clicked. |

#### Outputs
None

### `DatasetSettingsPage`
#### Description
The main component for the Dataset Settings page. It fetches the current dataset configuration, renders the settings form, handles saving changes, and manages the overall layout of the page.

#### Inputs
None

#### Outputs
None

## Dependencies
- solid-js
- shared/types
- ../../../components/ShowToasts
- solid-icons/ai
- shared/ui
- @solidjs/router

## Error Handling
- The `deleteDataset` and `clearDataset` functions in `DangerZoneForm` display error toasts using `createToast` if the API requests fail.
- The `onSave` function in `DatasetSettingsPage` displays error toasts if the API request to save the configuration fails, including a specific message if the user lacks permissions.

## Logging
- The `onSave` function logs errors to the console if the API request to save the configuration fails.
