---
title: "DatasetExampleModal.tsx"
---

## High-level description
The `AddSampleDataModal` component displays a modal dialog that allows users to add sample data to a dataset. It provides a confirmation step and displays upload progress.

## Table of contents
- `AddSampleDataModal` function component

## Symbols

### Symbol Name: `AddSampleDataModal`
#### Description
This function component renders a modal dialog that allows users to add sample data to a dataset. It handles user interaction, displays a confirmation dialog, and shows the upload progress.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| openModal | Accessor&lt;boolean&gt; | An accessor function that returns a boolean indicating whether the modal is open. |
| closeModal | () =&gt; void | A function to close the modal. |
| addedDataCallback | () =&gt; void | A callback function that is executed after the sample data has been added. |

#### Outputs
This function component does not return any value directly. It renders the modal dialog to the DOM.

#### Internal Logic
1. **State Management:** Uses `createSignal` to manage the following states:
    - `confirmation`: A boolean indicating whether the user has confirmed the addition of sample data.
    - `progress`: A number representing the upload progress.
    - `statusText`: A string displaying the current status of the upload.
2. **Context Consumption:** Consumes the `DatasetContext` to access the current dataset's ID.
3. **`startUpload` Function:**
    - Sets the `confirmation` state to `true`.
    - Retrieves the dataset ID from the context.
    - Calls the `uploadSampleData` function from the API to initiate the upload process.
    - Updates the `progress` and `statusText` states based on the upload progress.
    - Executes the `addedDataCallback` after a successful upload.
4. **`closeModal` Function:**
    - Resets the `confirmation`, `progress`, and `statusText` states.
    - Calls the `closeModal` function passed as a prop to close the modal.
5. **Rendering Logic:**
    - Uses the `Show` component to conditionally render different parts of the modal based on the `openModal` and `confirmation` states.
    - Displays a confirmation dialog when the modal is open and the user hasn't confirmed the action.
    - Shows the upload progress bar and status when the user has confirmed the addition of sample data.

## Side Effects
- Modifies the DOM by rendering the modal dialog.
- Makes an API call to upload sample data when the user confirms the action.

## References
- `DatasetContext`
- `uploadSampleData` (from `../api/uploadSampleData`)

## Dependencies
- `solid-js`
- `terracotta` (for UI components)

```

```