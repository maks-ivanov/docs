---
title: "NewDatasetModal.tsx"
---

## High-level description
The `NewDatasetModal.tsx` component presents a modal dialog for creating new datasets. It allows users to specify the dataset name, organization, embedding model, distance metric, and whether to populate it with example data. 

## Table of contents
- Imports
- Interface `NewDatasetModalProps`
- Component `NewDatasetModal`

## Symbols

### `NewDatasetModalProps`
#### Description
Defines the properties that the `NewDatasetModal` component expects.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isOpen | Accessor&lt;boolean&gt; | Determines if the modal is open or closed. |
| closeModal | () =&gt; void | Function to close the modal. |

### `NewDatasetModal`
#### Description
This component renders a modal dialog for creating new datasets. It handles user input for dataset configuration and makes API calls to create the dataset and optionally upload sample data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | NewDatasetModalProps | Properties passed to the component, including isOpen and closeModal. |

#### Outputs
This component renders JSX, but doesn't return any data.

#### Internal Logic
1. **Initialization:**
   - Sets up state variables for server configuration, user input, loading state, and whether to fill with example data.
   - Retrieves the selected organization from the user context.
2. **Form Rendering:**
   - Renders a dialog with a form for dataset creation.
   - Displays organization, dataset name, embedding model, distance metric, and fill with example data options.
3. **Event Handling:**
   - Updates state variables based on user input in the form fields.
4. **`createDataset` Function:**
   - Makes an API call to `createNewDataset` with the provided configuration.
   - If successful, optionally uploads sample data using `uploadSampleData`.
   - Displays success or error toasts based on the API response.
   - Navigates to the newly created dataset page.

## Side Effects
- Makes API calls to `createNewDataset` and `uploadSampleData`.
- Displays toasts using `createToast`.
- Navigates to a different page using `useNavigate`.

## References
- `UserContext`
- `defaultServerEnvsConfiguration` from `DatasetSettingsPage`
- `createToast`
- `createNewDataset`
- `uploadSampleData`
- `availableDistanceMetrics`
- `availableEmbeddingModels`

## Dependencies
- `solid-js`
- `terracotta`
- `@solidjs/router`
- `shared/types`

```

```