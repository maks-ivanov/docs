---
title: "Sidebar.tsx"
---

## High-level description
The code defines a sidebar component for a web application dashboard. It displays a list of organizations, admin tools, user information, and a logout button. The sidebar also handles navigation between different sections of the application.

## Table of contents
- Organization List
- Admin Tools
- User Information

## Code Structure
The `Sidebar` component uses several SolidJS primitives like `createSignal`, `createEffect`, and `createMemo` to manage its state and reactivity. It fetches data from a backend API to populate the organization list and user details. The component also uses context (`UserContext` and `DatasetContext`) to access and modify shared application state.

## References
- `UserContext`: Provides user information and actions.
- `DatasetContext`: Provides dataset information.
- `CreateNewOrgModal`: A modal component for creating new organizations.

## Symbols

### `Sidebar`
#### Description
This functional component renders the sidebar of the dashboard. It displays a list of organizations, admin tools, user information, and a logout button.

#### Inputs
This component does not take any props.

#### Outputs
This component renders the sidebar HTML.

#### Internal Logic
1. **Fetches API endpoints from environment variables.**
2. **Retrieves user and dataset information from context.**
3. **Uses `createMemo` to sort organizations by creation date.**
4. **Constructs URL parameters for organization and dataset selection.**
5. **Renders the organization list with buttons to switch between them.**
6. **Displays a button to open the "Create New Organization" modal.**
7. **Renders admin tools with links to external playgrounds.**
8. **Displays user information and a logout button.**

## Side Effects
- Updates local storage with the state of the admin tools submenu.
- Navigates to different routes based on user interaction.
- Makes API calls to log out the user.

## Dependencies
- `solid-js`: Core library for building the component.
- `@solidjs/router`: Provides routing functionality.
- `solid-icons/*`: Provides icons from different icon sets.
- `terracotta`: UI component library.
- `shared/types`: Shared type definitions.

### `showNewOrgModal`
#### Description
A signal that controls the visibility of the "Create New Organization" modal.

#### Inputs
- `true`: Shows the modal.
- `false`: Hides the modal.

### `showSubMenu`
#### Description
A signal that controls the visibility of the admin tools submenu. It persists the state in local storage.

#### Inputs
- `true`: Shows the submenu.
- `false`: Hides the submenu.

### `sortedOrgs`
#### Description
A memoized value that provides a sorted list of organizations by creation date.

### `orgDatasetParams`
#### Description
A memoized value that constructs URL parameters for the selected organization and dataset.

## Future Improvements
- **Improve error handling:** The code currently has limited error handling for API calls. Implementing more robust error handling would improve the user experience.
- **Add loading indicators:** Display loading indicators while fetching data from the API to provide feedback to the user.
- **Refactor admin tools section:** The admin tools section could be refactored into a separate component for better organization and reusability.
- **Implement access control:** The code currently assumes the user has access to all organizations and admin tools. Implementing proper access control would enhance security.
