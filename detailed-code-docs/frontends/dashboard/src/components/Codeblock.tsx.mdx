---
title: "Codeblock.tsx"
---

## High-level description
The `Codeblock` component displays a code snippet with syntax highlighting and a copy-to-clipboard button. It uses the `shiki` library for syntax highlighting and SolidJS's `createResource` for asynchronous code highlighting.

## Table of contents
- Imports
- Interface `CodeblockProps`
- Component `Codeblock`

## Symbols

### `Codeblock`
#### Description
This component takes a code string as input and displays it within a `&lt;div&gt;` with syntax highlighting. It also provides a button to copy the code to the clipboard.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| content | string | The code string to be displayed and copied. |

#### Outputs
Renders a `&lt;div&gt;` containing:
- A button to copy the code snippet.
- The code snippet itself, with syntax highlighting applied.

#### Internal Logic
1. **Asynchronous Code Highlighting:** Uses `createResource` to asynchronously highlight the code using `shiki`. 
    - Fetches the necessary resources (themes, languages, WASM) for `shiki`.
    - Uses `shiki` to convert the code string to HTML with syntax highlighting.
2. **Copy to Clipboard:**
    - Provides a button that, when clicked, copies the code to the clipboard using `navigator.clipboard.writeText`.
    - Provides visual feedback to the user by briefly displaying a checkmark icon after a successful copy.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| shiki | Used for syntax highlighting of code snippets. |
| solid-icons/fa | Provides icons for the copy button (clipboard and checkmark). |
| solid-js | The core library used for building the component. |

## Side Effects
- Modifies the browser's clipboard when the copy button is clicked.

## Future Improvements
- **Language Detection:** Implement automatic language detection for the code snippet instead of assuming TypeScript.
- **Theme Selection:** Allow users to choose from different syntax highlighting themes.
- **Line Numbers:** Add an option to display line numbers alongside the code.
- **Error Handling:** Implement robust error handling for cases where code highlighting fails.
- **Accessibility:** Improve accessibility by using a more robust copy-to-clipboard solution and ensuring proper ARIA attributes. 
