---
title: "CreateNewOrgModal.tsx"
---

## High-level description
The `NewOrgModal` component displays a modal dialog for creating a new organization. It handles user input for the organization name and sends a creation request to the backend API. Upon successful creation, it updates the user context, navigates to the new organization's overview page, and displays a success toast.

## Table of contents
- `NewOrgModal`

## Symbols

### `NewOrgModal`
#### Description
This component renders a modal dialog that allows a user to create a new organization. It handles user input for the organization name, makes an API request to create the organization, and provides feedback to the user.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isOpen | Accessor\&lt;boolean&gt; | An accessor function that returns a boolean indicating whether the modal is open or closed. |
| closeModal | () =&gt; void | A function that closes the modal. |

#### Outputs
This component doesn't have any explicit outputs.

#### Internal Logic
1. **Retrieves environment variables:** Gets the API host from environment variables.
2. **Manages state:** Uses `createSignal` to manage the organization name input.
3. **Handles form submission:** When the form is submitted:
    - Prevents default form submission behavior.
    - Calls the `createDataset` function to create the organization.
4. **`createDataset` function:**
    - Sends a POST request to the `/organization` endpoint of the API with the organization name.
    - If the request is successful:
        - Updates the user context with the new organization ID.
        - Navigates to the new organization's overview page.
        - Displays a success toast.
    - If the request fails:
        - Displays an error toast.
5. **Renders the modal:**
    - Uses the `Dialog` component from the `terracotta` library to render the modal.
    - Displays the organization name input field.
    - Includes "Cancel" and "Create New Organization" buttons.

#### Side Effects
- Makes an API request to create a new organization.
- Updates the user context with the new organization ID.
- Navigates to the new organization's overview page.
- Displays success or error toasts.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| "solid-js" | Provides core SolidJS functionality like `createSignal`, `createEffect`, `useContext`, etc. |
| "terracotta" | Offers UI components like `Dialog`, `DialogPanel`, `DialogTitle`, `Transition`, etc. |
| "./ShowToasts" | Imports the `createToast` function to display toast notifications. |
| "../contexts/UserContext" | Imports the `UserContext` to access and update user-related data. |
| "shared/types" | Imports the `Organization` type for type-checking. |
| "@solidjs/router" | Provides routing functionality with `useNavigate`. |
