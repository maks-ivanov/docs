---
title: "ScoreChunk.tsx"
---

## High-level description
This code defines a React component called `ScoreChunk` that displays detailed information about a chunk of text, including metadata and content. It provides functionality for expanding/collapsing the content, copying the chunk, and displaying various metadata fields.

## Table of contents
- Import statements
- Utility functions
- ScoreChunkProps interface
- ScoreChunk component
  - State variables and utility functions
  - JSX structure
  - Metadata display
  - Content display
  - Expand/collapse functionality

## Code Structure
The main component `ScoreChunk` uses various utility functions and components from external libraries. It manages its own state for expanding/collapsing content and metadata, as well as handling copy functionality.

## References
- `sanitizeHtml` from 'sanitize-html'
- `Tooltip` from 'shared/ui'
- Various icons from 'solid-icons'

## Symbols

### ScoreChunk
#### Description
A component that renders a chunk of text with associated metadata, providing options for interaction and display customization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | ScoreChunkProps | Configuration and data for the chunk |

#### Internal Logic
1. Initializes state for expanded content, copied status, and expanded metadata
2. Defines utility functions for copying content and formatting dates
3. Renders metadata fields conditionally based on their presence in the chunk data
4. Implements expand/collapse functionality for both content and metadata
5. Sanitizes and renders HTML content of the chunk

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For reactive programming and component structure |
| sanitize-html | To sanitize HTML content for safe rendering |
| shared/ui | For the Tooltip component |
| solid-icons | For various icons used in the component |

### Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| sanitzerOptions | object | (defined in code) | Configuration for HTML sanitization |
| linesBeforeShowMore | number | 12 | Number of lines to show before collapsing content |

## Future Improvements
- Consider implementing lazy loading for large chunks of content
- Add error handling for cases where chunk data might be incomplete or malformed
- Optimize performance for rendering large numbers of ScoreChunk components
- Implement more sophisticated copy functionality, possibly with feedback or notifications