---
title: "FilterBar.tsx"
---

## High-level description
The `FilterBar` component renders a bar with interactive filter controls for analytics data. It allows users to select a search method, search type, and date range to filter the displayed analytics.

## Table of contents
- Imports
- Constant Definitions
- Interface Definitions
- Component Definition

## References
- `AnalyticsParams` and `RequiredAnalyticsFilter` types from "shared/types"
- `DateRangePicker` and `Select` components from "shared/ui"
- `toTitleCase` utility function from "../utils/titleCase"
- `subDays` and `subHours` functions from "date-fns"
- `cn` utility function from "shared/utils"

## Symbols

### `ALL_SEARCH_METHODS`
#### Description
A constant array defining all available search methods for the `Search Method` filter dropdown. It includes "all" to represent no filtering by search method.

#### Inputs
_N/A_

#### Outputs
_N/A_

### `ALL_SEARCH_TYPES`
#### Description
A constant array defining all available search types for the `Search Type` filter dropdown. It includes "all" to represent no filtering by search type.

#### Inputs
_N/A_

#### Outputs
_N/A_

### `FilterBarProps`
#### Description
An interface defining the props for the `FilterBar` component.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| filters | AnalyticsParams | An object containing the current filter settings. |
| setFilters | SetStoreFunction&lt;AnalyticsParams&gt; | A function to update the filter settings in the store. |
| noPadding | boolean | An optional boolean flag to control whether the filter bar has padding. Defaults to false. |

#### Outputs
_N/A_

### `timeFrameOptions`
#### Description
A constant array defining the available time frame options for the `DateRangePicker` component.

#### Inputs
_N/A_

#### Outputs
_N/A_

### `DateRangeOption`
#### Description
A type alias defining the structure of a date range option, used in the `dateRanges` array.

#### Inputs
_N/A_

#### Outputs
_N/A_

### `dateRanges`
#### Description
A constant array of `DateRangeOption` objects, defining the preset date ranges for the `DateRangePicker` component.

#### Inputs
_N/A_

#### Outputs
_N/A_

### `FilterBar`
#### Description
The main functional component that renders the filter bar. It displays three filter controls: `Search Method`, `Search Type`, and `Date Range`.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | FilterBarProps | The props for the component, including the current filter settings and the function to update them. |

#### Outputs
JSX.Element representing the rendered filter bar.

#### Internal Logic
The component renders a `div` container with two inner `div` elements for the filter controls.
- The first inner `div` contains two `Select` components for selecting the `Search Method` and `Search Type`.
- The second inner `div` contains a `DateRangePicker` component for selecting the date range.
- Each filter control updates the `filters` object in the store using the `setFilters` function when the user interacts with it.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js/store | Provides the `SetStoreFunction` type and potentially other store-related utilities. |
| shared/ui | Provides the `DateRangePicker` and `Select` components. |
| date-fns | Provides date manipulation functions like `subDays` and `subHours`. |
| shared/utils | Provides the `cn` utility function for class name manipulation. |

## Error Handling
_N/A_

## Logging
_N/A_

## API/Interface Reference
_N/A_

## Future Improvements
- The `timeFrameOptions` constant is not used in the current code and could be removed.
- The `DateRangePicker` component has a `onGranularitySuggestion` prop that is not being used. This could be implemented to dynamically suggest a granularity based on the selected date range.
- The `getLabelFromRange` function in the `DateRangePicker` component has a placeholder "NO LABEL" that should be replaced with a proper label generation logic.
