---
title: "NoResultQueries.tsx"
---

## High-level description
The `NoResultQueries` component displays a list of search queries that did not return any results within a specified dataset. It allows users to paginate through these queries and view detailed information about each query.

## Table of contents
- `NoResultQueries` component
- `QueryCard` component

## Code Structure
The `NoResultQueries` component uses the `createQuery` hook from `@tanstack/solid-query` to fetch and manage the list of no-result queries. It also utilizes the `usePagination` hook to handle pagination. The `QueryCard` component is a child component that renders a single query card, allowing users to expand and view more details about a specific query.

## References
- `getNoResultQueries` from `../../api/analytics`
- `AnalyticsFilter`, `SearchQueryEvent` from `"shared/types"`
- `FullScreenModal`, `Table`, `Td`, `Th`, `Tr` from `"shared/ui"`
- `SearchQueryEventModal` from `'../../pages/TrendExplorer'`
- `BiRegularExpand` from `"solid-icons/bi"`

## Symbols

### `NoResultQueries`
#### Description
This component fetches and displays a paginated list of search queries that returned no results. It also handles pre-fetching the next page of results for a smoother user experience.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | `{ filter: AnalyticsFilter; }` | An object containing the filter parameters for the analytics data. The `filter` property is of type `AnalyticsFilter` and is used to specify the date range and other criteria for the queries. |

#### Outputs
This component renders a list of no-result queries.

#### Internal Logic
1. **Retrieves dataset ID:** Fetches the currently selected dataset ID from the `DatasetContext`.
2. **Pagination setup:** Uses the `usePagination` hook to manage pagination state.
3. **Query fetching:** Utilizes the `createQuery` hook from `@tanstack/solid-query` to fetch the no-result queries from the API.
4. **Prefetching:** Prefetches the next page of results when the component mounts and whenever the current page or filter parameters change.
5. **Rendering:**
   - Displays a loading message while the query is in progress.
   - Renders a "No Data" message if no queries are found.
   - Renders a table of `QueryCard` components, each representing a single no-result query.
   - Displays pagination buttons to navigate through the results.

### `QueryCard`
#### Description
This component renders a single query card in the no-result queries list. It displays the query text and allows users to expand the card to view more details about the query.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | `SearchQueryEvent` | An object containing the details of a single search query event. |

#### Outputs
This component renders a single query card.

#### Internal Logic
1. **State management:** Uses the `createSignal` hook to manage the open/closed state of the query card.
2. **Rendering:**
   - Renders a table row (`Tr`) that displays the query text.
   - Includes an expand icon that, when clicked, toggles the open/closed state of the card.
   - When expanded, renders a `FullScreenModal` component that displays the `SearchQueryEventModal` with detailed information about the query.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @tanstack/solid-query | Used for data fetching and caching. |
| solid-js | The core SolidJS library. |
| shared/types | Provides TypeScript types for shared data structures. |
| shared/ui | Provides reusable UI components. |
| solid-icons/bi | Provides SolidJS components for Bootstrap Icons. |

## Error Handling
The `createQuery` hook from `@tanstack/solid-query` handles basic error states during data fetching. The component displays a loading message while fetching and a "No Data" message if no results are found.
