---
title: "Overview"
---

## High-level description
This directory contains API-related code for the analytics frontend of the application. It includes modules for interacting with various analytics endpoints, such as search analytics, click-through rate (CTR) data, search queries, and trend analysis. These modules provide functions to fetch and process data from the backend API, making it available for use in the frontend application.

## What does it do?
The code in this directory enables the analytics frontend to:

1. Retrieve and analyze search performance data, including latency, usage, and query statistics.
2. Fetch click-through rate (CTR) summaries for search results.
3. Get detailed information about search queries, including low confidence and no-result queries.
4. Analyze search trends and cluster similar queries into topics.
5. Retrieve RAG (Retrieval-Augmented Generation) query events and usage data.

These functions allow the frontend to display various analytics dashboards, graphs, and tables, providing insights into the search and RAG performance of the application.

## Key Files

### analytics.ts
This file contains functions for interacting with the `/analytics` API endpoints. Key functionalities include:

- Fetching latency and usage data for graphs
- Retrieving head queries (most frequent searches)
- Getting RAG query events and usage data
- Fetching low confidence and no-result queries
- Retrieving query counts for different search types

### ctr.ts
This file provides a function to fetch search click-through rate (CTR) summary data:

- `getSearchCTRSummary`: Retrieves CTR metrics such as the number of searches with clicks, percentage of searches with clicks, and average position of clicked results.

### tables.ts
This file contains a function for fetching detailed search query data:

- `getSearchQueries`: Retrieves search query events with options for filtering, pagination, and sorting.

### trends.ts
This file offers functions for analyzing search trends:

- `getTrendsBubbles`: Fetches "trend bubbles" representing clusters of semantically similar search queries.
- `getQueriesForTopic`: Retrieves individual search queries associated with a specific trend topic (cluster).

## Dependencies
The code in this directory relies on several shared dependencies:

1. `shared/types`: Provides type definitions for various data structures used across the application.
2. `../utils/apiHost`: Supplies the base URL for the API endpoints.
3. `../utils/formatDate`: Offers utility functions for date formatting and filter transformation.

These dependencies are used consistently across the different modules to ensure type safety and maintain a uniform approach to API interactions.

## Configuration
The API interactions are configured using the following:

- `apiHost`: The base URL for the API endpoints, imported from `../utils/apiHost`.
- `TR-Dataset` header: Used in API requests to specify the dataset being queried.
- Credentials: API requests include credentials (likely cookies) for authentication.

The modules use POST requests with JSON payloads to interact with the API, allowing for flexible querying and data retrieval.

In summary, this directory provides a comprehensive set of functions for interacting with the analytics API, enabling the frontend to display rich, data-driven insights about search performance, user behavior, and content relevance.