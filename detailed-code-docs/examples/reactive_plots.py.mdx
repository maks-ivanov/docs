---
title: "reactive_plots.py"
---

## High-level description

The `reactive_plots.py` file is a script that uses the `marimo` library to create an interactive web application. This application visualizes data using Altair charts, allowing users to interact with scatter plots and bar charts. The script demonstrates how to build a reactive data visualization app by defining a series of cells that process and display data in a web interface.

## Code Structure

The script is structured around the `marimo.App` class, which is used to define a series of cells. Each cell is a function decorated with `@app.cell`, and these functions are executed in sequence to build the application. The cells are responsible for importing necessary libraries, loading data, creating visualizations, and handling user interactions.

## Symbols

### `app`
#### Description
`app` is an instance of the `marimo.App` class, which is used to define and run the web application. It is initialized with a width parameter set to "full", indicating that the application should use the full width of the display.

### `@app.cell`
#### Description
The `@app.cell` decorator is used to define a function as a cell in the `marimo` application. Each cell represents a step in the application workflow, such as importing libraries, creating visualizations, or processing data.

### `__generated_with`
#### Description
This is a metadata variable indicating the version of the tool or library used to generate the script. In this case, it is set to "0.1.29".

### `__()`
#### Description
The `__()` functions are the individual cells of the application. Each function performs a specific task, such as importing libraries, creating charts, or processing data. The functions are executed in the order they are defined.

#### Inputs and Outputs
The inputs and outputs of each `__()` function vary depending on its purpose. For example, some functions import libraries and return them, while others take data and visualization objects as inputs and return processed data or charts.

#### Internal Logic
- The first cell imports the `marimo` library and returns it.
- The second cell imports `altair` and `data` from `vega_datasets`.
- The third cell loads car data and creates a scatter plot and bar chart using Altair, with a brush selection for interactivity.
- The fourth cell processes the selected data and creates histograms for "Miles_per_Gallon" and "Horsepower".
- The fifth cell displays the initial markdown message.
- The final cell runs the application.

## References

- `marimo`: The main library used to create the web application.
- `altair`: A library for declarative statistical visualization.
- `vega_datasets`: A library providing example datasets for use with Vega and Altair.

## Dependencies

| Dependency   | Purpose                                           |
|:-------------|:--------------------------------------------------|
| `marimo`     | Used to create and manage the web application.    |
| `altair`     | Used for creating interactive visualizations.     |
| `vega_datasets` | Provides example datasets for visualization.   |

## Error Handling

The script does not explicitly handle errors beyond basic exception raising. The `mo.stop()` function is used to halt execution if the filtered data is empty, which is a form of error handling to prevent further processing on invalid data.

## Logging

The script does not implement any logging mechanisms.

## API/Interface Reference

The script does not expose an API or public interface beyond the interactive web application it creates.

## TODOs

There are no TODOs or notes left in the code.