---
title: "google_scholar.py"
---

## High-level description

The `google_scholar.py` file is a script designed to demonstrate how to use the `pymde` library to create embeddings of networks, specifically focusing on preserving shortest-path distances. It uses an academic co-authorship network dataset from Google Scholar as a case study. The script is structured as a series of cells, each performing a specific task, such as data loading, processing, visualization, and embedding generation.

## Code Structure

The script is organized using the `marimo` library, which allows for the creation of interactive notebooks. Each function is decorated with `@app.cell`, indicating that it is a cell in the notebook. The main symbols in the code are:

- `app`: An instance of `marimo.App`, which manages the execution of the notebook cells.
- Various functions decorated with `@app.cell`: These functions perform tasks such as importing libraries, loading data, processing data, and visualizing results.

## Symbols

### `app`
#### Description
`app` is an instance of `marimo.App`, which is used to manage the execution of the notebook cells. It is responsible for running the cells in sequence when the script is executed.

### `@app.cell` decorated functions
Each function decorated with `@app.cell` represents a cell in the notebook. These functions perform specific tasks related to data processing and visualization.

#### Description
These functions are used to import necessary libraries, load the Google Scholar dataset, process the data, and visualize the results. They are executed in sequence when the script is run.

#### Inputs and Outputs
The inputs and outputs of these functions vary depending on their specific task. For example, some functions import libraries and return them for use in other cells, while others process data and return processed results.

#### Internal Logic
- **Data Import and Setup**: The script begins by importing necessary libraries such as `pymde`, `matplotlib`, `numpy`, and `torch`.
- **Data Loading**: The Google Scholar dataset is loaded using `pymde.datasets.google_scholar()`.
- **Data Processing**: The dataset is processed to extract information such as the number of authors, edges, and edge density.
- **Embedding Generation**: The `pymde.preserve_distances` function is used to generate embeddings that preserve shortest-path distances in the co-authorship network.
- **Visualization**: The script includes several visualization steps, such as plotting histograms of graph distances and visualizing the embeddings with color coding based on co-authorship attributes.

## References

- `pymde`: A library used for generating embeddings that preserve distances in networks.
- `marimo`: A library used to create interactive notebooks.
- `matplotlib`, `numpy`, `torch`: Libraries used for data manipulation and visualization.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `marimo` | Used to create and manage the interactive notebook cells. |
| `pymde` | Used for generating embeddings that preserve distances in networks. |
| `matplotlib` | Used for plotting and visualizing data. |
| `numpy` | Used for numerical operations and data manipulation. |
| `torch` | Used for tensor operations and determining the computation device (CPU or GPU). |

## Error Handling

The script does not explicitly handle errors beyond basic exception raising. It assumes that the necessary libraries are installed and that the dataset is available.

## Logging

The script does not implement any logging mechanisms. It primarily focuses on data processing and visualization.

## API/Interface Reference

The script does not expose an API or public interface. It is intended to be run as a standalone script to demonstrate the use of `pymde` for network embeddings.

## TODOs

There are no TODOs or notes left in the code. The script appears to be complete and functional for its intended purpose.