---
title: "vitals.ts"
---

## High-level description
The `vitals.ts` file is responsible for reporting web performance metrics using the `web-vitals` library. It listens for key performance events such as Largest Contentful Paint (LCP), First Input Delay (FID), and Cumulative Layout Shift (CLS), and logs these metrics using a custom `Logger` utility.

## Code Structure
The main function in this file is `reportVitals`, which utilizes the `web-vitals` library to monitor and log performance metrics. The `Logger` utility is used to output these metrics in a formatted manner, with different colors indicating the quality of the metric.

## References
- `Logger` from `Logger.ts`: Used for logging the performance metrics.
- `onLCP`, `onFID`, `onCLS`, `Metric` from `web-vitals`: These are functions and types from the `web-vitals` library used to capture and handle performance metrics.

## Symbols

### `reportVitals`
#### Description
The `reportVitals` function is designed to monitor and log web performance metrics. It uses the `web-vitals` library to listen for specific performance events and logs the results using a custom `Logger`.

#### Inputs
This function does not take any direct inputs.

#### Outputs
This function does not return any outputs.

#### Internal Logic
- The function begins by logging a message "Reporting vitals" using the `Logger`.
- It defines an internal function `logMetric` that takes a `Metric` object as an argument. This function:
  - Determines the color for logging based on the `rating` of the metric (`good`, `needs-improvement`, or `poor`).
  - Logs the metric's name and value with a styled message using the `Logger`.
- The `logMetric` function is then passed as a callback to `onCLS`, `onFID`, and `onLCP` from the `web-vitals` library, which will invoke it when the respective metrics are recorded.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| `web-vitals` | Used to capture and report web performance metrics like LCP, FID, and CLS. |

## Error Handling
The code does not implement specific error handling mechanisms. It assumes that the `web-vitals` library functions and the `Logger` will handle any exceptions internally.

## Logging
The `Logger` utility is used extensively to log performance metrics. It formats the log messages with colors to indicate the quality of the metrics, enhancing readability and quick assessment.

## API/Interface Reference
The `reportVitals` function does not expose an API or interface directly. It is intended to be called within the application to start logging performance metrics.

## TODOs
There are no TODOs or notes left in the code.