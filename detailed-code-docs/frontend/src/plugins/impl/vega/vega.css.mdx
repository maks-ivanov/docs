---
title: "vega.css"
---

## High-level description

The `vega.css` file is a CSS stylesheet that defines styles for embedding Vega visualizations within a web application. It ensures that Vega charts are responsive and fill the available space, while also applying specific styles to elements like the canvas and action buttons to enhance their appearance and functionality.

## Code Structure

The CSS file primarily targets elements related to Vega visualizations, specifically those with the class `vega-embed` and its child elements. It also includes a specific rule for a `div` containing a `marimo-ui-element` and `marimo-vega`, which are likely custom elements used in conjunction with the Vega plugin.

## Symbols

### `.vega-embed`
#### Description
This class is applied to the container of a Vega visualization to ensure it is responsive and occupies the full width of its parent container.

#### Inputs
- None (CSS class)

#### Outputs
- None (CSS class)

#### Internal Logic
- Sets the width to 100% to ensure the container fills the available horizontal space.
- Sets a minimum width of 300px to maintain a reasonable size for the visualization.
- Uses `flex: 1` to allow the container to grow and shrink within a flexbox layout.

### `div:has(&gt; marimo-ui-element &gt; marimo-vega)`
#### Description
This selector targets a `div` containing a `marimo-ui-element` and `marimo-vega`, ensuring it displays as a block and fills the available space.

#### Inputs
- None (CSS selector)

#### Outputs
- None (CSS selector)

#### Internal Logic
- Applies `display: block !important` to override any conflicting styles and ensure the element is displayed as a block.
- Uses `flex: 1` to allow the element to grow and shrink within a flexbox layout.
- Sets a minimum width of 450px to ensure adequate space for the visualization.

### `.vega-embed canvas`
#### Description
This class targets the canvas element within a Vega embed, applying a rounded border style.

#### Inputs
- None (CSS class)

#### Outputs
- None (CSS class)

#### Internal Logic
- Utilizes the `@apply` directive to apply the `rounded-md` style, which likely corresponds to a predefined set of CSS rules for rounded corners.

### `.vega-embed .vega-actions.vega-actions`
#### Description
This class targets the action buttons within a Vega embed, adjusting their position to prevent overflow.

#### Inputs
- None (CSS class)

#### Outputs
- None (CSS class)

#### Internal Logic
- Sets the `right` property to 3px to adjust the position of the action buttons.
- Uses pseudo-elements `::after` and `::before` to further adjust the position of any additional elements, ensuring they align correctly.

## References

- The `vega.css` file is imported in the `VegaPlugin.tsx` file, indicating that the styles defined here are applied to the Vega components rendered by the `VegaPlugin`.

## Dependencies

- The CSS file does not directly depend on external libraries, but it is used in conjunction with the Vega visualization library and the React framework, as seen in the related `VegaPlugin.tsx` file.

## Side Effects

- The CSS rules may affect the layout and appearance of Vega visualizations across the application, particularly in terms of responsiveness and element positioning.

## Performance Considerations

- The use of the `:has()` pseudo-class may have performance implications, as noted in the comment within the CSS file. This selector is known to be computationally expensive in some browsers.

## TODOs

- There is a comment in the CSS file indicating a potential performance issue with the `:has()` selector, suggesting that this might be an area for future optimization or revision.