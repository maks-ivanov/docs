---
title: "Overview"
---

## High-level description

The directory contains a suite of unit tests for various functions within a Vega-Lite visualization plugin. These tests are designed to ensure the correct functionality of the plugin's components, which are responsible for handling Vega-Lite specifications, making chart elements interactive, resolving data URLs, and parsing data. The tests are organized into separate files, each focusing on a specific function or set of related functions. The primary functions tested include `findEncodedFields`, `makeEncodingInteractive`, `makeSelectable`, `getDirectionOfBar`, `resolveVegaSpecData`, and `vegaLoadData`. The tests utilize the `vitest` framework for structuring and executing the test cases.

## What does it do?

The tests in this directory verify the behavior of several key functions in a Vega-Lite visualization plugin:

1. **Encoding Handling**: 
   - `findEncodedFields` extracts field names from a Vega-Lite specification that are used in non-xy encodings, typically for legends and selections.
   - `makeEncodingInteractive` modifies encodings to add interactivity, such as changing opacity based on selection states.

2. **Interactivity**:
   - `makeSelectable` enhances Vega-Lite specifications by adding selection capabilities, allowing users to interact with chart elements.

3. **Chart Orientation**:
   - `getDirectionOfBar` determines whether a bar chart should be displayed horizontally or vertically based on its encoding specifications.

4. **Data Resolution**:
   - `resolveVegaSpecData` resolves data URLs within a Vega-Lite specification, ensuring that data is correctly loaded and integrated into the visualization.

5. **Data Parsing**:
   - `vegaLoadData` loads and parses data from URLs, handling CSV and JSON formats, and addressing issues like duplicate column names and large integers.

These tests ensure that the plugin's functions work as expected, handling various scenarios and edge cases to maintain the integrity and interactivity of Vega-Lite visualizations.