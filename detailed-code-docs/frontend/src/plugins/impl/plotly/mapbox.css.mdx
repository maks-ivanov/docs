---
title: "mapbox.css"
---

## High-level description

The `mapbox.css` file is a CSS stylesheet specifically tailored for styling Mapbox components within Plotly visualizations. It addresses issues with how Plotly.js dynamically injects styles at runtime, ensuring that the necessary styles are applied correctly within the shadow DOM. This file includes styles for various Mapbox controls and elements, such as logos, attribution controls, and compact controls, to ensure consistent appearance and behavior.

## Code Structure

The CSS file is structured to target specific classes and elements used by Mapbox within Plotly visualizations. It includes styles for:

- `.mapboxgl-ctrl-logo`: Styles for the Mapbox logo.
- `.mapboxgl-attrib-empty`: Styles to hide empty attribution elements.
- `.mapboxgl-ctrl-attrib`: Styles for attribution controls, including hover effects and text styling.
- `.mapboxgl-ctrl-bottom-right` and `.mapboxgl-ctrl-bottom-left`: Positioning and styling for controls located at the bottom corners of the map.
- `.mapboxgl-ctrl-attrib.mapboxgl-compact`: Styles for compact attribution controls, including hover effects and background styling.
- `.mapboxgl-canary` and `.mapboxgl-missing-css`: Styles for specific Mapbox elements, such as a canary element and missing CSS indicators.

## References

The CSS file is referenced in the `PlotlyPlugin.tsx` file, which imports it to ensure that the styles are applied to Plotly visualizations using Mapbox. This integration is crucial for maintaining the visual consistency and functionality of Mapbox components within Plotly plots.

## Symbols

### `.js-plotly-plot .plotly .mapboxgl-ctrl-logo`
#### Description
Styles the Mapbox logo within Plotly visualizations, ensuring it is displayed correctly with a specific size and background image.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Internal Logic
- Sets the display to `block`.
- Specifies the width and height as `21px`.
- Uses a data URL for the background image, which is an SVG representation of the Mapbox logo.

### `.js-plotly-plot .plotly .mapboxgl-attrib-empty`
#### Description
Hides empty attribution elements within Mapbox components in Plotly visualizations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Internal Logic
- Sets the display property to `none` to hide the element.

### `.js-plotly-plot .plotly .mapboxgl-ctrl-attrib`
#### Description
Styles the attribution control elements, including text color, font size, and hover effects.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Internal Logic
- Sets text color to a semi-transparent black.
- Removes text decoration and sets font size to `12px`.
- Includes hover effects for links within the attribution control.

### `.js-plotly-plot .plotly .mapboxgl-ctrl-bottom-right` and `.js-plotly-plot .plotly .mapboxgl-ctrl-bottom-left`
#### Description
Positions and styles controls located at the bottom corners of the Mapbox map within Plotly visualizations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Internal Logic
- Positions the controls absolutely at the bottom corners.
- Sets pointer events to `none` to prevent interaction issues.
- Adjusts margins for proper alignment.

### `.js-plotly-plot .plotly .mapboxgl-ctrl-attrib.mapboxgl-compact`
#### Description
Styles compact attribution controls, including background color, border radius, and hover effects.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A  | N/A  | N/A         |

#### Internal Logic
- Sets a minimum height and padding.
- Positions the control relatively and applies a white background color.
- Adds a border radius for rounded corners.
- Includes hover effects to change padding and visibility.

## Dependencies

The CSS file does not have direct dependencies but is used in conjunction with Plotly and Mapbox components within the `PlotlyPlugin.tsx` file.

## Side Effects

The CSS file modifies the appearance and behavior of Mapbox components within Plotly visualizations, ensuring they are styled correctly and consistently.

## Performance Considerations

The use of data URLs for SVG images can impact performance if the images are large, but in this case, the SVGs are small and should not significantly affect performance.

## TODOs

No TODOs are present in the code.