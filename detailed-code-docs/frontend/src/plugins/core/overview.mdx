---
title: "Overview"
---

## High-level description

The `frontend/src/plugins/core` directory is a part of a frontend codebase that focuses on providing utilities and components for plugin management and rendering within a React application. It includes functionalities for creating plugins, rendering HTML safely, handling errors, and integrating React components as custom web components. The directory leverages TypeScript for type safety and the `zod` library for data validation, ensuring robust and consistent plugin behavior.

## What does it do?

The code in this directory facilitates the creation and management of plugins within a React application. It provides a structured way to define plugins using a builder pattern, allowing developers to specify data schemas, functions, and rendering logic. The directory also includes utilities for safely rendering HTML strings into React components, handling errors related to data validation, and registering React components as custom web components. This integration allows React components to be used as native HTML elements, enabling seamless communication and rendering within the DOM. Additionally, the directory supports the creation of custom HTML elements that can act as portals for rendering React components, such as sidebars, within the application.

## Entry points

The main files in this directory include:

- **`BadPlugin.tsx`**: Defines a React component for rendering error messages related to data validation issues, particularly those involving `ZodError`.
- **`RenderHTML.tsx`**: Provides a utility function for safely parsing and rendering HTML strings into React components.
- **`builder.ts`**: Contains a utility function for creating plugins using a builder pattern, ensuring consistent structure and validation.
- **`registerReactComponent.tsx`**: Offers a mechanism to register React components as custom web components, facilitating their use as native HTML elements.
- **`rpc.ts`**: Defines types and utilities for creating RPC interfaces for plugins, using `zod` for validation.
- **`sidebar-element.tsx`**: Defines a custom HTML element for rendering React components in a sidebar, using a mutation observer to detect changes in its children.

## Key Files

- **`__test__/RenderHTML.test.ts`**: Contains unit tests for the `renderHTML` function, verifying its ability to parse and render HTML strings into React components.

## Dependencies

The directory relies on several external libraries:

- **`zod`**: Used for defining and validating data schemas, ensuring that plugin data adheres to specified structures.
- **`html-react-parser`**: Utilized for parsing HTML strings into a DOM-like structure for React rendering.
- **`React` and `ReactDOM`**: Core libraries for creating and managing React components.
- **`@radix-ui/react-accordion`**: Provides UI components for creating accordion elements.
- **`@emotion/react` and `@emotion/cache`**: Used for styling within the shadow DOM.
- **`@textea/json-viewer`**: Used for rendering JSON data in a viewer format.
- **`@paralleldrive/cuid2`**: Generates unique IDs for custom element instances.
- **`@marimo-team/react-slotz`**: Provides the `SlotzController` for managing React component slots.

These dependencies are chosen to enhance the functionality and maintainability of the plugin system, providing robust validation, rendering, and component management capabilities.