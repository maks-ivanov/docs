---
title: "ThemeProvider.tsx"
---

## High-level description

The `ThemeProvider.tsx` file defines a React component, `ThemeProvider`, which is responsible for applying a theme to the application by adding and removing CSS classes to the document's body element based on the current theme. It also includes a `CssVariables` component that allows for the dynamic application of CSS variables to its children. This setup facilitates a consistent and dynamic theming experience across the application.

## Code Structure

- `ThemeProvider`: A React functional component that uses the `useTheme` hook to determine the current theme and applies it to the document body.
- `CssVariables`: A React functional component that applies CSS variables to its children, allowing for dynamic styling.

## References

- `useTheme`: A custom hook imported from `useTheme.ts` that provides the current theme based on user configuration and system preferences.

## Symbols

### `ThemeProvider`
#### Description
The `ThemeProvider` component is a memoized React functional component that applies a theme to the document's body element. It uses the `useTheme` hook to get the current theme and updates the body class list accordingly.

#### Inputs
| Name     | Type             | Description          |
|:---------|:-----------------|:---------------------|
| children | `React.ReactNode` | The child components to be rendered within the provider. |

#### Outputs
| Name     | Type             | Description          |
|:---------|:-----------------|:---------------------|
| children | `React.ReactNode` | The child components passed to the provider. |

#### Internal Logic
- The component uses the `useTheme` hook to retrieve the current theme.
- It employs `useLayoutEffect` to add the theme class to the document body when the component mounts and remove it when the component unmounts or the theme changes.
- The theme is applied as two classes: the theme name and the theme name suffixed with `-theme`.

### `CssVariables`
#### Description
The `CssVariables` component is a React functional component that applies a set of CSS variables to its children, allowing for dynamic styling based on the provided variables.

#### Inputs
| Name      | Type                                      | Description                           |
|:----------|:------------------------------------------|:--------------------------------------|
| variables | `Record&lt;\`--marimo-${string}\`, string&gt;` | A record of CSS variable names and values. |
| children  | `React.ReactNode`                         | The child components to be styled.    |

#### Outputs
| Name     | Type             | Description          |
|:---------|:-----------------|:---------------------|
| children | `React.ReactNode` | The child components with applied styles. |

#### Internal Logic
- The component renders a `div` with a `className` of `contents`.
- It applies the provided CSS variables to the `style` attribute of the `div`.
- The children are rendered within this `div`, inheriting the styles defined by the CSS variables.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `react`    | Provides the core React functionality for creating components. |
| `useTheme` | Custom hook to determine the current theme based on user and system preferences. |

## Error Handling

The `ThemeProvider` component does not implement specific error handling mechanisms beyond the default behavior of React components. It assumes that the `useTheme` hook will always return a valid theme.

## Logging

There are no logging mechanisms implemented in this code.

## API/Interface Reference

The `ThemeProvider` and `CssVariables` components do not expose any API endpoints or interfaces beyond their React component props.

## TODOs

There are no TODOs or notes left in the code.