---
title: "CreateCellButton.tsx"
---

## High-level description

The `CreateCellButton.tsx` file defines a React component that provides a button for creating new cells in an editor interface. This button supports different types of cells, such as Python, Markdown, and SQL, and includes a context menu for selecting the type of cell to create. The component also integrates a tooltip for additional user guidance.

## Code Structure

The main symbols in the code are the `CreateCellButton` component and the `CreateCellButtonContextMenu` component. The `CreateCellButton` component uses the `CreateCellButtonContextMenu` to provide a context menu functionality. The context menu allows users to select the type of cell they want to create (Python, Markdown, or SQL). The `Button` and `Tooltip` components are used to render the button and its tooltip, respectively.

## Symbols

### `CreateCellButton`
#### Description
The `CreateCellButton` component renders a button that, when clicked, triggers the creation of a new cell in the editor. It supports a tooltip for user guidance and changes its appearance based on the `appClosed` state.

#### Inputs
| Name          | Type                              | Description                                      |
|:--------------|:----------------------------------|:-------------------------------------------------|
| appClosed     | boolean                           | Indicates if the app is closed, affecting button styling. |
| tooltipContent| React.ReactNode                   | Content to display in the tooltip.               |
| onClick       | ((opts: { code: string }) =&gt; void) | Callback function triggered on button click.     |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None |      |             |

#### Internal Logic
- Renders a `Button` component wrapped in a `Tooltip`.
- The button's `onClick` event triggers the `onClick` callback with an empty code string.
- The button's class name changes based on the `appClosed` state using the `cn` utility function.

### `CreateCellButtonContextMenu`
#### Description
The `CreateCellButtonContextMenu` component provides a context menu that allows users to select the type of cell to create (Python, Markdown, or SQL).

#### Inputs
| Name     | Type                              | Description                                      |
|:---------|:----------------------------------|:-------------------------------------------------|
| onClick  | ((opts: { code: string }) =&gt; void) | Callback function triggered on menu item selection. |
| children | React.ReactNode                   | The button component to wrap with the context menu. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None |      |             |

#### Internal Logic
- Uses `ContextMenu`, `ContextMenuTrigger`, and `ContextMenuContent` to create a context menu.
- Each `ContextMenuItem` corresponds to a different cell type (Python, Markdown, SQL).
- Selecting a menu item triggers the `onClick` callback with the default code for the selected cell type.

## References

- `Button` from `frontend/src/components/editor/inputs/Inputs.tsx`: Used to render the button.
- `Tooltip` from `frontend/src/components/ui/tooltip.tsx`: Used to provide tooltip functionality.
- `ContextMenu`, `ContextMenuTrigger`, `ContextMenuContent`, `ContextMenuItem` from `frontend/src/components/ui/context-menu.tsx`: Used to create the context menu.
- `MarkdownLanguageAdapter` and `SQLLanguageAdapter` from `frontend/src/core/codemirror/language/markdown.ts` and `sql.ts`: Provide default code for Markdown and SQL cells.
- `PythonIcon`, `MarkdownIcon` from `frontend/src/components/editor/cell/code/icons.tsx`: Icons used in the context menu.

## Dependencies

| Dependency   | Purpose                                      |
|:-------------|:---------------------------------------------|
| `lucide-react` | Provides icons like `DatabaseIcon` and `PlusIcon`. |
| `@radix-ui/react-context-menu` | Used for creating context menus. |
| `@radix-ui/react-tooltip` | Used for creating tooltips. |
| `clsx` and `tailwind-merge` | Used for managing and merging CSS class names. |

## Error Handling

The code does not explicitly handle errors beyond basic React component rendering. It assumes that the `onClick` callback and other props are provided correctly.

## Logging

There is no logging implemented in this code.

## TODOs

There are no TODOs or notes left in the code.