---
title: "shutdown-button.tsx"
---

## High-level description

The `shutdown-button.tsx` file defines a React component called `ShutdownButton`. This component is a button that, when clicked, opens a confirmation dialog to shut down a process, such as a Python kernel. If confirmed, it sends a shutdown request and then closes the browser window after a short delay.

## Code Structure

The `ShutdownButton` component is the main symbol in this file. It utilizes several imported components and hooks, such as `Button`, `Tooltip`, `useImperativeModal`, and `sendShutdown`. The `useImperativeModal` hook is used to manage the modal dialog for confirming the shutdown action. The `sendShutdown` function is responsible for sending the shutdown request to the server.

## References

- `useImperativeModal`: A hook used to open and close modal dialogs.
- `sendShutdown`: A function that sends a shutdown request to the server.
- `AlertDialogDestructiveAction`: A component used to render a destructive action button in the confirmation dialog.

## Symbols

### `ShutdownButton`
#### Description
The `ShutdownButton` component renders a button that, when clicked, opens a confirmation dialog to shut down a process. If the user confirms, it sends a shutdown request and closes the window after a delay.

#### Inputs
| Name        | Type   | Description                                      |
|:------------|:-------|:-------------------------------------------------|
| description | string | A description to display in the confirmation dialog. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | N/A  | The component does not return any output. |

#### Internal Logic
1. **Modal Management**: Uses `useImperativeModal` to open a confirmation dialog when the button is clicked.
2. **Shutdown Handling**: Defines a `handleShutdown` function that sends a shutdown request using `sendShutdown` and closes the window after a 200ms delay.
3. **Button Rendering**: Renders a `Button` component with a `Tooltip` and an `XIcon`. The button is styled as a small, red, circular button.
4. **Event Handling**: On button click, it stops event propagation and opens a confirmation dialog with a destructive action button. If confirmed, it executes the `handleShutdown` function and closes the modal.

## Dependencies

| Dependency                | Purpose                                                                 |
|:--------------------------|:------------------------------------------------------------------------|
| `lucide-react`            | Provides the `XIcon` used in the button.                                |
| `@/core/network/requests` | Contains the `sendShutdown` function to send shutdown requests.         |
| `../../ui/alert-dialog`   | Provides components for rendering the confirmation dialog.              |
| `../../ui/tooltip`        | Provides the `Tooltip` component for displaying tooltips.               |
| `../../modal/ImperativeModal` | Provides the `useImperativeModal` hook for managing modal dialogs. |

## Error Handling

The component does not explicitly handle errors. It assumes that the `sendShutdown` function and modal operations will succeed. Any errors in these operations would need to be handled in their respective implementations.

## Logging

The component does not implement any logging mechanisms.

## TODOs

There are no TODOs or notes left in the code.