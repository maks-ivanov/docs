---
title: "footer.tsx"
---

## High-level description

The `footer.tsx` file defines a React functional component named `Footer` that serves as the footer section of a user interface, specifically for an editor application. This component provides interactive elements for managing application state, such as toggling terminal visibility, handling error notifications, and configuring runtime settings like autorun behavior. It also includes a display for machine statistics and a kiosk mode indicator.

## Code Structure

The `Footer` component is the main symbol in this file, and it utilizes several helper functions and components to achieve its functionality. It interacts with application state through hooks like `useChromeState`, `useChromeActions`, and `useUserConfig`. The `FooterItem` component is used to create individual interactive items within the footer, each with its own tooltip and click behavior. The `MachineStats` component is included to display system resource usage.

## References

- `useChromeState` and `useChromeActions` from `state.ts` are used to manage the state of the application, such as which panel is selected and whether the terminal is open.
- `useUserConfig` from `config.ts` is used to access and modify user configuration settings.
- `cellErrorCount` from `cells.ts` provides the number of errors in the cells, which is displayed in the footer.
- `Tooltip` from `tooltip.tsx` is used to provide additional information on hover for each footer item.
- `IfCapability` from `if-capability.tsx` is used to conditionally render components based on application capabilities.

## Symbols

### `Footer`
#### Description
The `Footer` component renders the footer section of the editor interface, providing controls for error management, terminal access, and runtime configuration. It also displays machine statistics and a kiosk mode indicator.

#### Inputs
None directly, but it uses hooks to access application state and configuration.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSX.Element | React Element | The rendered footer component. |

#### Internal Logic
- Retrieves the current state of the application, including the selected panel and terminal status.
- Uses `useUserConfig` to access and update user configuration settings.
- Renders a series of `FooterItem` components, each representing a different control or display element in the footer.
- Uses conditional rendering to display elements like the terminal toggle and kiosk mode indicator based on application capabilities and state.

### `FooterItem`
#### Description
`FooterItem` is a sub-component used within the `Footer` to represent individual interactive items, such as buttons or icons, each with an associated tooltip.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| children | ReactNode | The content to be displayed inside the footer item. |
| tooltip | ReactNode | The content of the tooltip to be displayed on hover. |
| selected | boolean | Indicates if the item is currently selected. |
| className | string | Additional CSS classes for styling. |
| rest | HTMLAttributes | Additional HTML attributes for the div element. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSX.Element | React Element | The rendered footer item component. |

#### Internal Logic
- Wraps the children in a `Tooltip` component to provide hover information.
- Applies conditional styling based on the `selected` prop to indicate active state.
- Merges additional class names and attributes using the `cn` utility function.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `React` | Used for creating React components. |
| `jotai` | State management library used for managing application state. |
| `lucide-react` | Provides icon components used in the footer. |
| `@/utils/cn` | Utility for merging class names. |
| `@/components/ui/tooltip` | Provides tooltip functionality for UI elements. |

## Error Handling

- The `invariant` function is used to ensure that the error panel is found in the `PANELS` array, throwing an error if it is not.

## Logging

No explicit logging is implemented in this file.

## TODOs

No TODOs are present in the code.