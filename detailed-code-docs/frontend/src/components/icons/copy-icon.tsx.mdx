---
title: "copy-icon.tsx"
---

## High-level description

The `copy-icon.tsx` file defines a React component named `CopyClipboardIcon` that provides a user interface element for copying text to the clipboard. It uses icons to indicate the copy action and provides visual feedback when the text has been successfully copied. The component can optionally display a tooltip to guide the user.

## Code Structure

The main symbol in this file is the `CopyClipboardIcon` component. It utilizes several imported modules and components, such as `useState` from React, `Tooltip` from a UI library, and utility functions like `cn` and `Events.stopPropagation`. The component conditionally renders different icons based on the copy state and can optionally include a tooltip for user guidance.

## Symbols

### `CopyClipboardIcon`
#### Description
The `CopyClipboardIcon` component is a React functional component that provides a button-like interface for copying a given text value to the clipboard. It visually indicates the copy action using icons and can display a tooltip to provide additional information to the user.

#### Inputs
| Name      | Type   | Description                                      |
|:----------|:-------|:-------------------------------------------------|
| `value`   | string | The text value to be copied to the clipboard.    |
| `className` | string | Optional CSS class names for styling the component. |
| `tooltip` | string or false | Optional tooltip text or false to disable the tooltip. |

#### Outputs
| Name     | Type   | Description                                      |
|:---------|:-------|:-------------------------------------------------|
| `JSX.Element` | React Element | The rendered component with copy functionality. |

#### Internal Logic
1. **State Management**: Uses `useState` to manage the `isCopied` state, which tracks whether the text has been successfully copied.
2. **Copy Handling**: Defines a `handleCopy` function that writes the `value` to the clipboard using `navigator.clipboard.writeText`. Upon successful copy, it sets `isCopied` to `true` and resets it after 2 seconds.
3. **Icon Rendering**: Conditionally renders a `CheckIcon` if `isCopied` is `true`, otherwise renders a `Copy` icon.
4. **Tooltip Integration**: If `tooltip` is not `false`, wraps the button in a `Tooltip` component, displaying "Copied!" when the text is copied or the provided tooltip text otherwise.

## References

- **`Tooltip`**: Used to display additional information when hovering over the copy icon.
- **`cn`**: A utility function for combining class names.
- **`Events.stopPropagation`**: A utility function to prevent event propagation, used in the `handleCopy` function.

## Dependencies

| Dependency   | Purpose                                                  |
|:-------------|:---------------------------------------------------------|
| `lucide-react` | Provides the `CheckIcon` and `Copy` icons used in the component. |
| `react`      | Provides the `useState` hook for managing component state. |

## Error Handling

The component uses promises to handle the clipboard write operation. If the clipboard operation fails, it does not explicitly handle the error, which could be a potential area for improvement.

## Logging

No logging mechanisms are implemented in this code.

## TODOs

There are no TODOs or notes left in the code.