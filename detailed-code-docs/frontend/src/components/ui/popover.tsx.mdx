---
title: "popover.tsx"
---

## High-level description

The `popover.tsx` file defines a set of React components that provide a popover UI element using the Radix UI library. It includes components for the popover root, trigger, and content, with additional functionality to support full-screen mode and custom styling.

## Code Structure

- **Popover**: A component that serves as the root of the popover, utilizing Radix UI's `PopoverPrimitive.Root`.
- **PopoverTrigger**: A component that acts as the trigger for the popover, using Radix UI's `PopoverPrimitive.Trigger`.
- **PopoverPortal**: A component that wraps the Radix UI `PopoverPrimitive.Portal` to support full-screen mode using a higher-order component.
- **PopoverContent**: A component that renders the content of the popover, with options for alignment, side offset, and portal usage. It uses `React.forwardRef` to pass refs to the underlying Radix UI `PopoverPrimitive.Content`.

## References

- **Radix UI**: The file heavily relies on Radix UI's popover primitives for its core functionality.
- **withFullScreenAsRoot**: A higher-order component from `fullscreen.tsx` that allows the popover to adapt to full-screen mode.
- **StyleNamespace**: A component from `namespace.tsx` that provides scoped styling to the popover content.
- **cn**: A utility function from `cn.ts` used for merging and managing class names.

## Symbols

### `Popover`
#### Description
The `Popover` component is a wrapper around the Radix UI `PopoverPrimitive.Root`, serving as the root element for the popover functionality.

### `PopoverTrigger`
#### Description
The `PopoverTrigger` component is a wrapper around the Radix UI `PopoverPrimitive.Trigger`, used to define the element that triggers the popover.

### `PopoverPortal`
#### Description
The `PopoverPortal` component is a modified version of the Radix UI `PopoverPrimitive.Portal`, enhanced to support full-screen mode by using the `withFullScreenAsRoot` higher-order component.

### `PopoverContent`
#### Description
The `PopoverContent` component renders the content of the popover, allowing customization of alignment, side offset, and portal usage.

#### Inputs
| Name       | Type   | Description                                                                 |
|:-----------|:-------|:----------------------------------------------------------------------------|
| className  | string | Additional class names for styling.                                         |
| align      | string | Alignment of the popover content, default is "center".                      |
| sideOffset | number | Offset from the side of the trigger, default is 4.                          |
| portal     | boolean| Determines if the content should be rendered in a portal, default is true.  |
| props      | object | Additional props passed to the Radix UI `PopoverPrimitive.Content`.         |
| ref        | ref    | A ref to be forwarded to the popover content element.                       |

#### Outputs
| Name    | Type   | Description                      |
|:--------|:-------|:---------------------------------|
| content | JSX    | The rendered popover content.    |

#### Internal Logic
- The component uses `React.forwardRef` to pass a ref to the `PopoverPrimitive.Content`.
- It wraps the content in a `StyleNamespace` to apply scoped styles.
- The `cn` utility is used to merge class names for styling.
- If `portal` is true, the content is wrapped in a `PopoverPortal` to render it in a portal.

## Dependencies

| Dependency                  | Purpose                                                                 |
|:----------------------------|:------------------------------------------------------------------------|
| `@radix-ui/react-popover`   | Provides the popover primitives used to build the popover components.   |
| `React`                     | Used for creating React components and managing refs.                   |
| `cn`                        | Utility for merging class names.                                        |
| `StyleNamespace`            | Provides scoped styling for the popover content.                        |
| `withFullScreenAsRoot`      | Enhances the portal to support full-screen mode.                        |

## Error Handling
The code does not implement specific error handling mechanisms beyond basic React component error boundaries.

## Logging
There are no logging mechanisms implemented in this code.

## TODOs
There are no TODOs or notes left in the code.