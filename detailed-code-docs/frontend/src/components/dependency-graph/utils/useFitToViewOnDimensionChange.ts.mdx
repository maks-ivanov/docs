---
title: "useFitToViewOnDimensionChange.ts"
---

## High-level description

The `useFitToViewOnDimensionChange` function is a custom React hook designed to automatically adjust the view of a graph whenever the dimensions of the window change. It leverages the `useReactFlow` and `useStore` hooks from the `reactflow` library to access the graph instance and its dimensions, and it uses a debounced callback to ensure that the view adjustment is not triggered excessively during rapid dimension changes.

## Code Structure

The main symbols in the code are interconnected as follows:
- `useFitToViewOnDimensionChange` is the primary function that utilizes hooks like `useReactFlow`, `useStore`, and `useDebouncedCallback`.
- `useReactFlow` provides access to the graph instance, which is used to call the `fitView` method.
- `useStore` is used to retrieve the current width and height of the graph.
- `useDebouncedCallback` is used to create a debounced version of the `fitView` method to prevent excessive calls during rapid dimension changes.
- `useEffect` is employed to trigger the debounced `fitView` call whenever the width or height changes.

## Symbols

### `useFitToViewOnDimensionChange`
#### Description
The `useFitToViewOnDimensionChange` function is a custom React hook that automatically adjusts the view of a graph to fit its dimensions whenever the window size changes. This is accomplished by using a debounced callback to call the `fitView` method on the graph instance, ensuring smooth and efficient updates.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | N/A  | The function does not take any direct inputs. It relies on hooks to access necessary data. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | N/A  | The function does not return any outputs. It performs side effects by adjusting the graph view. |

#### Internal Logic
- The function retrieves the graph instance using `useReactFlow`.
- It accesses the current width and height of the graph using `useStore`.
- A debounced callback is created using `useDebouncedCallback`, which calls the `fitView` method on the graph instance with a duration of 100 milliseconds.
- The `useEffect` hook is used to monitor changes in width and height. When either changes, the debounced `fitView` method is called to adjust the graph view.

## Side Effects
- The function modifies the view of the graph by calling the `fitView` method on the graph instance. This is a side effect as it changes the visual representation of the graph based on window size changes.

## References
- `useReactFlow`: Provides access to the graph instance.
- `useStore`: Retrieves the current dimensions (width and height) of the graph.
- `useDebouncedCallback`: Creates a debounced version of the `fitView` method to prevent excessive calls.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| `reactflow` | Provides hooks like `useReactFlow` and `useStore` for managing graph state and dimensions. |
| `lodash-es` | Used for the `debounce` function in the `useDebouncedCallback` hook. |

## Error Handling
The code does not implement specific error handling mechanisms. It assumes that the hooks and methods used will function correctly under normal conditions.

## Logging
The code does not implement any logging mechanisms.

## API/Interface Reference
The code does not expose any API or public interface. It is a utility hook meant to be used within React components that utilize the `reactflow` library.

## TODOs
There are no TODOs or notes left in the code.