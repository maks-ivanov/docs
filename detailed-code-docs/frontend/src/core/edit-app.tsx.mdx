---
title: "edit-app.tsx"
---

## High-level description

The `edit-app.tsx` file defines a React component called `EditApp`, which serves as the main interface for editing a notebook application. It manages the state and behavior of the notebook, including handling user interactions, managing WebSocket connections, and performing actions like saving, renaming, and running notebook cells. The component integrates various UI elements and hooks to provide a comprehensive editing experience.

## Code Structure

The main symbols in the code are interconnected as follows:
- `EditApp`: The main React component that encapsulates the notebook editing functionality.
- `useMarimoWebSocket`: A hook that manages WebSocket connections for real-time communication with the backend.
- Various imported components and hooks like `Controls`, `FilenameForm`, `useAutoSave`, and `useHotkey` are used within `EditApp` to provide specific functionalities such as UI controls, filename management, autosaving, and hotkey handling.

## Symbols

### `EditApp`
#### Description
The `EditApp` component is the core of the notebook editing interface. It manages the notebook's state, handles user interactions, and communicates with the backend via WebSocket. It provides functionalities like saving, renaming, and running notebook cells, and integrates various UI components to create a cohesive editing environment.

#### Inputs
| Name       | Type       | Description                  |
|:-----------|:-----------|:-----------------------------|
| userConfig | UserConfig | Configuration for the user.  |
| appConfig  | AppConfig  | Configuration for the app.   |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSX  | JSX.Element | The rendered notebook editing interface. |

#### Internal Logic
- Initializes the notebook state and sets up WebSocket connections using `useMarimoWebSocket`.
- Manages the notebook's filename and layout state.
- Handles user interactions such as saving, renaming, and running cells.
- Uses hooks like `useAutoSave` for automatic saving and `useHotkey` for keyboard shortcuts.
- Renders various UI components like `AppHeader`, `CellsRenderer`, and `Controls` to build the interface.

### `SaveDialog`
#### Description
A React component that renders a dialog for saving the notebook with a specified filename. It provides input for the filename and buttons to cancel or confirm the save action.

#### Inputs
| Name   | Type     | Description                        |
|:-------|:---------|:-----------------------------------|
| onClose | () =&gt; void | Callback to close the dialog.     |
| onSave  | (filename: string) =&gt; void | Callback to save the notebook with the specified filename. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSX  | JSX.Element | The rendered save dialog interface. |

## References

- `useMarimoWebSocket`: Manages WebSocket connections for real-time communication.
- `useAutoSave`: Handles automatic saving of the notebook.
- `useHotkey`: Manages keyboard shortcuts for various actions.
- `sendComponentValues`, `sendRename`, `sendSave`, `sendInterrupt`: Functions for sending requests to the backend.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `react` | Used for building the React component. |
| `jotai` | State management library used for managing global state. |

## Error Handling

- The `handleFilenameChange` function handles errors during the renaming process by displaying an alert if the WebSocket connection is not open or if an error occurs during the rename request.

## Logging

- The `Logger` utility is used to log messages for actions like saving the notebook and handling WebSocket events.

## TODOs
- No explicit TODOs are present in the code.