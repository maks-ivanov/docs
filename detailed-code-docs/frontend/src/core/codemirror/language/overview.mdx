---
title: "Overview"
---

## High-level description

The `frontend/src/core/codemirror/language` directory is part of a CodeMirror-based code editor, focusing on language-specific functionalities. It provides a comprehensive system for integrating and managing different programming languages within the editor, specifically Python, Markdown, and SQL. The directory includes language adapters, utility functions, and components to facilitate language transformations, syntax highlighting, autocompletion, and dynamic language switching. It also contains tests to ensure the correct functionality of these components.

## What does it do?

The code in this directory enables a CodeMirror-based editor to support multiple programming languages by providing language adapters for Python, Markdown, and SQL. These adapters allow the editor to transform code between different languages, apply language-specific syntax highlighting, and offer autocompletion features. The system can dynamically switch between languages, ensuring that the editor's state and content are updated accordingly. Additionally, the directory includes utility functions for handling code transformations, managing indentation, and dealing with string prefixes. A React component is also provided to render a language-specific panel within the editor, allowing users to interact with language-specific settings.

## Entry points

The directory is organized into several key files and subdirectories, each focusing on specific functionalities:

- **LanguageAdapters.ts**: Defines the language adapters for Python, Markdown, and SQL, and provides a utility function to retrieve all available adapters.
- **commands.ts**: Contains functions to manage and manipulate the language mode of the editor, including retrieving the current language adapter, checking if a language toggle is possible, and performing the toggle.
- **extension.ts**: Manages language-specific configurations and extensions, enabling dynamic language switching and configuration within the editor.
- **markdown.ts, python.ts, sql.ts**: Implement the `MarkdownLanguageAdapter`, `PythonLanguageAdapter`, and `SQLLanguageAdapter` classes, respectively, each providing methods to transform code and configure the editor with language-specific extensions.
- **panel.tsx**: A React component that renders a UI panel for interacting with language-specific features, particularly for SQL language adapters.
- **types.ts**: Defines the `LanguageAdapter` interface and `LanguageAdapterType` type, specifying the contract for language adapters and the supported languages.
- **utils**: Contains utility functions for managing indentation and handling string prefixes related to quotes.
- **__tests__**: A suite of unit tests for various components of the code editor, ensuring correct functionality of language adapters and utility functions.

## Key Files

- **LanguageAdapters.ts**: Central to defining and retrieving language adapters.
- **commands.ts**: Essential for language mode management and dynamic switching.
- **extension.ts**: Key to configuring and updating the editor's language settings.
- **markdown.ts, python.ts, sql.ts**: Implementations of language adapters for Markdown, Python, and SQL.
- **panel.tsx**: Provides a user interface for language-specific interactions.
- **types.ts**: Defines the interface and types for language adapters.
- **utils**: Provides essential utilities for code formatting and string handling.

## Dependencies

The directory relies on several external libraries and frameworks:

- **CodeMirror**: Provides the core editor functionalities, including state management, view handling, and language support.
- **React**: Used for rendering the language panel component.
- **lodash-es**: Offers utility functions for operations like deduplication.
- **string-dedent**: Used for removing indentation from code strings.
- **Jotai**: Utilized for global state management, particularly for SQL capabilities and dataset information.

These dependencies are chosen for their robust support of editor functionalities, state management, and utility operations, ensuring a seamless and efficient editing experience.