---
title: "Overview"
---

## High-level description

The `frontend/src/core/codemirror/copilot` directory is part of a frontend application that integrates AI-based code completion features, specifically targeting GitHub Copilot. This directory contains various components and utilities that facilitate the connection and interaction with a Copilot language server, manage user authentication, and provide code completion features within a CodeMirror-based editor. The main components include a client for WebSocket communication, a configuration component for managing user sign-in, a language server client for handling LSP requests, and utilities for processing code from editor views.

## What does it do?

The code in this directory enables a CodeMirror-based editor to integrate with GitHub Copilot, providing AI-driven code completion suggestions. Here's a simplified explanation of the workflow:

1. **WebSocket Connection**: The `client.ts` file sets up a WebSocket connection to the Copilot language server. This connection is used to send and receive data related to code completions and other language features.

2. **User Authentication**: The `CopilotConfig` component in `copilot-config.tsx` manages the sign-in and sign-out process for users. It interacts with the Copilot language server to authenticate users and maintain their session state.

3. **Code Completion**: The `extension.ts` file configures CodeMirror extensions to enable inline code suggestions. It uses the WebSocket connection to fetch code completions from the Copilot language server and displays them in the editor.

4. **State Management**: The `state.ts` file manages the sign-in state and configuration settings for Copilot. It uses a state management library to persist user settings and determine if Copilot is enabled.

5. **Language Server Interaction**: The `language-server.ts` file defines a client that interacts with the Copilot language server using the Language Server Protocol (LSP). It handles requests and responses for document changes, code completions, and user authentication.

6. **Code Processing**: The `getCodes.ts` file provides a utility function to aggregate and process code from multiple editor views. This processed code is used to provide context for AI code completion tools, enhancing the quality of suggestions.

Overall, this directory provides the necessary components and utilities to integrate GitHub Copilot into a CodeMirror-based editor, offering users AI-driven code completion features.