---
title: "Overview"
---

## High-level description

The directory contains components related to rendering and managing the output of notebook cells within a web application. It primarily focuses on integrating React components with custom HTML elements to provide a dynamic and interactive user experience. The main components include `MarimoOutputWrapper` and `MarimoIslandElement`, which handle the display and interaction of notebook cell outputs. These components utilize state management, event handling, and error boundaries to ensure smooth operation within the Marimo notebook environment.

## What does it do?

The code in this directory is responsible for rendering the output of notebook cells and managing user interactions with these outputs. It provides a user interface that allows users to view the results of their code execution, copy code snippets, and re-run cells. The components handle keyboard events to toggle UI elements and display loading indicators when cells are running. Additionally, the code integrates with the application's state management system to access and manipulate the runtime state of notebook cells, ensuring that the displayed output is always up-to-date.

## Entry points

The main files in this directory are `output-wrapper.tsx` and `web-components.tsx`. 

- `output-wrapper.tsx` defines the `MarimoOutputWrapper` component, which is responsible for rendering the output of a notebook cell and providing interactive UI elements like buttons for copying code and re-running the cell. It uses various hooks and utility functions to manage its state and behavior, and it integrates with the application's state management to access the runtime state of notebook cells.

- `web-components.tsx` defines the `MarimoIslandElement` class, a custom HTML element that renders the output of a Marimo cell. It extends the `HTMLElement` interface to create a custom web component that integrates with the React ecosystem. This class manages the rendering of cell outputs and optional code editors, providing a dynamic and interactive user experience.

## Key Files

- **`output-wrapper.tsx`**: Contains the `MarimoOutputWrapper` component, which wraps the output of a notebook cell and provides UI elements for interaction. It uses sub-components like `IconButton` and `Indicator` to render buttons and loading spinners, and it utilizes utility components like `DelayRender` to delay rendering.

- **`web-components.tsx`**: Contains the `MarimoIslandElement` class, a custom HTML element that renders the output of a Marimo cell. It manages the rendering of cell outputs and optional code editors, and it integrates with the React ecosystem to provide a dynamic and interactive user experience.

## Dependencies

- **`jotai`**: Used for state management, allowing the components to access and manipulate the notebook state.
- **`lucide-react`**: Provides icons used in the UI components.
- **`react`**: Core library for building the user interface.
- **`ReactDOM`**: Used to create a React root for rendering components.
- **`react-error-boundary`**: Used to catch and handle errors in the React component tree.
- **`html-react-parser`**: Parses HTML strings into React elements.

These dependencies are chosen to facilitate the integration of React components with custom HTML elements, manage state effectively, and handle errors gracefully.