---
title: "kitchen-sink-wasm.spec.ts"
---

## High-level description

The target file `kitchen-sink-wasm.spec.ts` is an end-to-end test script using Playwright to automate browser interactions. It tests the functionality of a web application by navigating to specific URLs, verifying the presence of certain text elements, and capturing screenshots. The tests are currently skipped, indicating they are not executed in the current test run.

## Code Structure

The main symbols in the code are the test cases defined using Playwright's `test` function. These tests utilize helper functions imported from `helper.ts` to perform actions like taking screenshots and exporting HTML. The tests are structured to navigate to a web page, verify the visibility of specific text elements, and perform actions like taking screenshots.

## Symbols

### `test.skip("can screenshot and download as html edit", async ({ page }) =&gt; {...})`
#### Description
This test case is designed to verify that the application can display specific text elements and perform actions like taking a screenshot and exporting the page as HTML. It navigates to the application's main page and checks for the visibility of "Initializing" and "Welcome" text.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| page | Page | Represents a single tab in the browser. |

#### Outputs
None directly, but it performs actions like taking screenshots and exporting HTML.

#### Internal Logic
1. Navigates to `http://localhost:3000`.
2. Verifies the visibility of "Initializing" and "Welcome" text.
3. Calls `takeScreenshot` to capture the current page state.
4. Calls `exportAsHTMLAndTakeScreenshot` to export the page as HTML and take a screenshot.

### `test.skip("can screenshot and download as html in run", async ({ page }) =&gt; {...})`
#### Description
This test case is similar to the first but navigates to a different URL with a query parameter. It checks for the same text elements and takes a screenshot.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| page | Page | Represents a single tab in the browser. |

#### Outputs
None directly, but it performs actions like taking screenshots.

#### Internal Logic
1. Navigates to `http://localhost:3000?mode=read`.
2. Verifies the visibility of "Initializing" and "Welcome" text.
3. Calls `takeScreenshot` to capture the current page state.

## References

- `takeScreenshot`: A helper function from `helper.ts` used to capture screenshots.
- `exportAsHTMLAndTakeScreenshot`: A helper function from `helper.ts` used to export the page as HTML and take a screenshot.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `@playwright/test` | Provides the testing framework and utilities for browser automation. |
| `node:url` | Used to convert the module URL to a file path. |

## Error Handling

The code does not explicitly handle errors within the test cases. Playwright's built-in error handling will manage any exceptions that occur during test execution.

## Logging

There is no explicit logging mechanism implemented in the code. Playwright's default logging will capture test execution details.

## TODOs

The test cases are currently marked with `test.skip`, indicating they are not executed. This might be intentional for development purposes or due to known issues that need resolution before enabling the tests.