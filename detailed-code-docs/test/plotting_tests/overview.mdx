---
title: "Overview"
---

## High-level description

The `plotting_tests` directory contains a suite of unit tests designed to verify the functionality of various plotting utilities within the `cassiopeia` library. These tests focus on ensuring the correctness of functions related to visualizing phylogenetic trees, both in 2D and 3D, using different plotting libraries and methods. The tests cover a range of functionalities, including file generation for visualization, 3D plotting, local plotting methods, and utility functions for plotting. The directory is structured into multiple test files, each targeting specific modules or functionalities within the `cassiopeia.plotting` package.

## What does it do?

The tests in this directory ensure that the plotting functionalities of the `cassiopeia` library work as intended. They simulate various scenarios and use cases to validate that the library can generate accurate and visually appealing representations of phylogenetic trees. This includes:

- **File Generation for iTOL**: Tests ensure that files necessary for visualizing trees on the iTOL platform are correctly generated. This includes gradient files, color bar files, and allele heatmaps.
- **3D Plotting**: Tests verify the correctness of 3D plotting utilities, such as interpolating branches, creating polylines, and generating labels from spatial coordinates. They also test the initialization and plotting capabilities of the `Tree3D` class.
- **Local Plotting**: Tests focus on local plotting methods using Matplotlib and Plotly, ensuring that color strips, heatmaps, and tree plots are generated correctly. They also check for proper error and warning handling.
- **Utility Functions**: Tests validate utility functions related to coordinate transformations, color generation, and tree placement, ensuring they perform accurate conversions and placements for visualizations.

## Entry points

The directory is organized into several test files, each serving as an entry point for testing specific functionalities:

- **`itol_plotting_test.py`**: Tests the generation of files for iTOL visualization and the integration of these components into a pipeline for uploading and exporting trees.
- **`local_3d_test.py`**: Focuses on testing 3D plotting utilities, including branch interpolation, polyline creation, and the `Tree3D` class.
- **`local_test.py`**: Tests local plotting methods using Matplotlib and Plotly, ensuring correct creation of color strips, heatmaps, and tree plots.
- **`utilities_test.py`**: Validates utility functions for plotting, such as coordinate transformations and color conversions.

## Dependencies

The tests rely on several external libraries and frameworks:

- **`unittest`**: Provides the framework for writing and running tests.
- **`networkx`**: Used for creating and manipulating tree structures and graphs.
- **`numpy`**: Utilized for numerical operations and managing random states.
- **`pandas`**: Used for handling data structures like DataFrames.
- **`cassiopeia`**: The main library being tested, specifically its plotting modules and utilities.

These dependencies are chosen for their ability to handle complex data manipulations, graph operations, and provide a robust testing framework.