---
title: "Overview"
---

## High-level description

The `test/data_tests` directory contains a suite of unit tests designed to validate the functionality of various components within the Cassiopeia library, specifically focusing on data structures and utilities related to phylogenetic trees. The tests ensure that the core functionalities, such as tree construction, manipulation, and analysis, are working as expected. The main components tested include the `CassiopeiaTree` class, utility functions for data manipulation, and the `Layers` class within the `CassiopeiaTree` data structure.

## What does it do?

The tests in this directory are designed to verify that the Cassiopeia library's data handling and tree manipulation features work correctly. They simulate various scenarios and use cases to ensure that the library can accurately construct and manipulate phylogenetic trees, handle character matrices, and compute dissimilarity maps. The tests also validate utility functions for operations like bootstrapping character matrices, converting trees to Newick format, and calculating phylogenetic weight matrices. By running these tests, developers can ensure that changes to the codebase do not introduce regressions or errors in the core functionality.

## Entry points

The directory contains multiple test files, each focusing on different aspects of the Cassiopeia library:

- `cassiopeia_tree_test.py`: Tests the `CassiopeiaTree` class, focusing on tree construction, manipulation, and analysis.
- `data_utilities_test.py`: Tests utility functions related to character matrices, allele tables, and phylogenetic trees.
- `layers_test.py`: Tests the `Layers` class within the `CassiopeiaTree` data structure, focusing on the integrity and manipulation of character matrices.

## Key Files

- **`cassiopeia_tree_test.py`**: Contains tests for the `CassiopeiaTree` class, ensuring it can handle tree construction from Newick strings, manage character matrices, and compute dissimilarity maps.
- **`data_utilities_test.py`**: Validates utility functions for data manipulation, including bootstrapping character matrices, converting trees to Newick format, and computing phylogenetic weight matrices.
- **`layers_test.py`**: Tests the `Layers` class, focusing on adding, modifying, and using layers to reconstruct phylogenetic trees.

## Dependencies

The test suite relies on several external libraries:

- **`unittest`**: Provides the framework for writing and running tests.
- **`networkx`**: Used for creating and manipulating graph structures, particularly for representing phylogenetic trees.
- **`numpy`**: Supports numerical operations and array handling.
- **`pandas`**: Used for handling character matrices and data frames.
- **`cassiopeia`**: The main library being tested, providing classes and utilities for phylogenetic analysis.

These dependencies are chosen for their robust support for scientific computing and data manipulation, which are essential for the tasks performed by the Cassiopeia library.