---
title: "cla.yml"
---

## High-level description

The `cla.yml` file is a GitHub Actions workflow configuration designed to automate the process of checking Contributor License Agreement (CLA) compliance for pull requests and issue comments in a repository. It uses the CLA Assistant GitHub Action to verify whether contributors have signed the CLA before their contributions can be merged. The workflow is triggered by specific events such as issue comments and pull request actions.

## Code Structure

The workflow is structured into several key sections:

- **Triggers**: The workflow is triggered by `issue_comment` and `pull_request_target` events.
- **Permissions**: It explicitly sets permissions for actions, contents, pull-requests, and statuses to write.
- **Jobs**: Contains a single job named `CLAAssistant` that runs on `ubuntu-latest` and uses the `contributor-assistant/github-action@v2.4.0`.

## Symbols

### `name`
#### Description
Specifies the name of the workflow as "CLA Assistant".

### `on`
#### Description
Defines the events that trigger the workflow. It listens for `issue_comment` creation and `pull_request_target` events such as when a pull request is opened, closed, or synchronized.

### `permissions`
#### Description
Sets the permissions for the `GITHUB_TOKEN` used in the workflow. It allows write access to actions, contents, pull-requests, and statuses.

### `jobs`
#### Description
Defines the jobs to be run as part of the workflow. In this case, there is a single job named `CLAAssistant`.

### `CLAAssistant`
#### Description
The main job in the workflow that runs the CLA Assistant action.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| GITHUB_TOKEN | Secret | Token for authenticating with GitHub. |
| PERSONAL_ACCESS_TOKEN | Secret | Token with repo scope for storing signatures in a remote repository. |

#### Outputs
This job does not produce direct outputs but performs actions based on CLA compliance.

#### Internal Logic
- **Condition**: The job runs if a comment body matches specific strings or if the event is a `pull_request_target`.
- **Action**: Uses the `contributor-assistant/github-action@v2.4.0` to check CLA compliance.
- **Environment Variables**: Uses `GITHUB_TOKEN` and optionally `PERSONAL_ACCESS_TOKEN` for authentication.
- **Configuration**: Specifies paths for CLA signatures and documents, and configures optional settings like remote repository details and behavior after merging.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `contributor-assistant/github-action@v2.4.0` | Used to automate CLA compliance checks. |

## Configuration

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| path-to-signatures | String | N/A | Path to the JSON file storing CLA signatures. |
| path-to-document | String | N/A | URL to the CLA document. |
| branch | String | N/A | Branch where signatures are stored. |
| allowlist | String | N/A | List of users or bots exempt from CLA checks. |
| remote-organization-name | String | N/A | Name of the remote organization for storing signatures. |
| remote-repository-name | String | N/A | Name of the remote repository for storing signatures. |
| lock-pullrequest-aftermerge | Boolean | false | Whether to lock the pull request after merging. |

## Error Handling

The workflow does not explicitly define error handling mechanisms. Errors would typically be managed by the GitHub Actions platform and the CLA Assistant action itself.

## Logging

The workflow does not include specific logging mechanisms beyond what is provided by GitHub Actions and the CLA Assistant action.

## TODOs

There are no TODOs or notes left in the code.