---
title: "credential_show.go"
---

## High-level description
This code defines a `Show` struct and its methods for displaying the secret value of a stored credential in the GPTScript CLI. It interacts with the configuration, cache, and credential store to retrieve and display the requested credential information.

## Code Structure
The `Show` struct is part of the CLI package and contains a reference to the root `GPTScript` object. It implements methods to customize the Cobra command and run the credential show functionality.

## Symbols

### `Show` struct
#### Description
Represents the command for showing credential information in the GPTScript CLI.

#### Internal Logic
- Holds a reference to the root `GPTScript` object for accessing global configuration and options.

### `Customize` method
#### Description
Configures the Cobra command for the "show" subcommand of the credential management feature.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cmd | *cobra.Command | The Cobra command to be customized |

#### Internal Logic
- Sets the command usage, aliases, and description.
- Configures the command to expect exactly one argument (the credential name).

### `Run` method
#### Description
Executes the logic for displaying the secret value of a stored credential.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cmd | *cobra.Command | The Cobra command being run |
| args | []string | Command-line arguments |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| error | error | Any error encountered during execution |

#### Internal Logic
1. Initializes GPTScript options and reads the CLI configuration.
2. Sets up the cache and runner options.
3. Initializes the runtime manager and sets up credential helpers.
4. Creates a new credential store.
5. Retrieves the specified credential from the store.
6. If the credential exists, displays its environment variables using a tabwriter.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| fmt | Formatting and error handling |
| os | Operating system interactions |
| text/tabwriter | Aligned text output |
| github.com/gptscript-ai/gptscript/pkg/cache | Caching functionality |
| github.com/gptscript-ai/gptscript/pkg/config | Configuration management |
| github.com/gptscript-ai/gptscript/pkg/credentials | Credential handling |
| github.com/gptscript-ai/gptscript/pkg/repos/runtimes | Runtime management |
| github.com/gptscript-ai/gptscript/pkg/runner | Runner functionality |
| github.com/spf13/cobra | Command-line interface framework |

## Error Handling
The code uses error wrapping to provide context for errors that occur during execution. It returns errors for various failure scenarios, such as failing to read the CLI config, set up credential helpers, or retrieve credentials.

This code is part of a larger CLI application for managing GPTScript credentials. It specifically handles the "show" command, which displays the secret value of a stored credential to the user in a tabular format.