---
title: "credential_delete.go"
---

## High-level description
This code defines a `Delete` command for a CLI application that deletes a stored credential. It's part of a larger GPTScript application and utilizes various packages for configuration, caching, and credential management.

## Code Structure
The `Delete` struct contains a reference to the root `GPTScript` object. It implements two main methods: `Customize` for setting up the command, and `Run` for executing the credential deletion.

## Symbols

### `Delete` struct
#### Description
Represents the delete command for credentials in the CLI application.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| root | *GPTScript | Reference to the root GPTScript object |

### `Customize` method
#### Description
Configures the Cobra command for the delete operation.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cmd | *cobra.Command | The Cobra command to be customized |

#### Internal Logic
- Sets the command usage, aliases, and description
- Configures the command to accept exactly one argument (the credential name)

### `Run` method
#### Description
Executes the credential deletion operation.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cmd | *cobra.Command | The Cobra command being run |
| args | []string | Command line arguments |

#### Internal Logic
1. Initializes GPTScript options
2. Reads the CLI configuration
3. Sets up the cache and runner
4. Initializes the runtime manager and credential helpers
5. Creates a new credential store
6. Removes the specified credential

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| error | error | Any error encountered during the operation |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| fmt | For error formatting |
| github.com/gptscript-ai/gptscript/pkg/cache | For caching operations |
| github.com/gptscript-ai/gptscript/pkg/config | For reading CLI configuration |
| github.com/gptscript-ai/gptscript/pkg/credentials | For credential management |
| github.com/gptscript-ai/gptscript/pkg/repos/runtimes | For runtime management |
| github.com/gptscript-ai/gptscript/pkg/runner | For running GPTScript operations |
| github.com/spf13/cobra | For CLI command creation and management |

## Error Handling
The `Run` method returns errors at various stages of the operation, including configuration reading, runtime setup, and credential removal. These errors are wrapped with additional context using `fmt.Errorf`.