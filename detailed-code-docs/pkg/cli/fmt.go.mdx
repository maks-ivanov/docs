---
title: "fmt.go"
---

Here's a high-level description of the `fmt.go` file:

The `fmt.go` file defines a `Fmt` struct and its associated methods for formatting GPTScript files. It provides functionality to read, parse, and write GPTScript documents, with options to format the output and write it back to a file or stdout.

## Code Structure

The main symbols in the code are:

1. `Fmt` struct: Represents the formatting options.
2. `Customize` method: Customizes the command options.
3. `Run` method: Executes the formatting process.

These symbols work together to provide a command-line interface for formatting GPTScript files.

## Symbols

### Fmt
#### Description
A struct that holds the formatting options, specifically whether to write the output to a file.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Write | bool | Indicates whether to write output to file instead of stdout |

### Fmt.Customize
#### Description
Customizes the command options for the formatting command.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cmd | *cobra.Command | The Cobra command to customize |

#### Internal Logic
Sets the command to accept exactly one argument.

### Fmt.Run
#### Description
Executes the formatting process on the specified GPTScript file.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| _ | *cobra.Command | Unused Cobra command |
| args | []string | Command-line arguments |

#### Internal Logic
1. Reads the input file.
2. Parses the input as JSON or GPTScript.
3. Formats the document.
4. Writes the formatted output to a file or stdout based on the `Write` option.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| encoding/json | For JSON parsing and unmarshaling |
| fmt | For printing output |
| os | For file operations |
| strings | For string manipulation |
| github.com/gptscript-ai/gptscript/pkg/input | For reading input from files |
| github.com/gptscript-ai/gptscript/pkg/parser | For parsing GPTScript documents |
| github.com/spf13/cobra | For command-line interface functionality |

The code provides a command-line tool for formatting GPTScript files, allowing users to read, parse, and write formatted GPTScript documents.