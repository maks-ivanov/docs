---
title: "Overview"
---

## High-level description
The `pkg` directory contains the core implementation of the GPTScript project. It provides a comprehensive set of packages that handle various aspects of the system, including script execution, language model interactions, authentication, caching, monitoring, and more. The directory is structured to separate concerns and provide modular functionality that can be composed to create the full GPTScript system.

## What does it do?
The `pkg` directory implements the following key functionalities:

1. Script Execution: Provides a runner and engine for executing GPTScript programs and tools.
2. Language Model Integration: Implements clients and interfaces for interacting with various AI language models.
3. Authentication and Credential Management: Handles secure storage and retrieval of API keys and other credentials.
4. Caching: Implements caching mechanisms to improve performance and reduce API calls.
5. Monitoring and Logging: Provides tools for tracking execution progress and logging system events.
6. Input/Output Processing: Handles parsing, filtering, and processing of input and output for tools and scripts.
7. OpenAPI Integration: Supports loading and executing OpenAPI specifications as GPTScript tools.
8. Command-Line Interface: Implements the CLI for the GPTScript system.
9. SDK Server: Provides a server implementation for the GPTScript SDK.
10. Testing Utilities: Includes comprehensive test suites and utilities for ensuring system reliability.

## Entry points
The main entry points for the GPTScript system are:

1. `pkg/cli`: Contains the command-line interface implementation, which is likely the primary way users interact with GPTScript.
2. `pkg/gptscript`: Provides the core `GPTScript` struct and associated methods for creating and running GPTScript instances.
3. `pkg/runner`: Implements the `Runner` struct, which is responsible for executing GPTScript programs and managing chat interactions.
4. `pkg/sdkserver`: Contains the implementation of the SDK server, which can be run standalone or embedded in other applications.

The flow of control typically starts from the CLI or SDK server, which then utilizes the `gptscript` package to create instances and the `runner` package to execute programs.

## Key Files and Directories
1. `pkg/gptscript/gptscript.go`: Defines the core `GPTScript` struct and methods for managing GPTScript instances.
2. `pkg/runner/runner.go`: Implements the `Runner` struct for executing GPTScript programs.
3. `pkg/engine`: Contains the implementation of the execution engine for GPTScript tools.
4. `pkg/llm`: Manages interactions with language model providers.
5. `pkg/openai`: Provides specific implementations for OpenAI's language models.
6. `pkg/cache`: Implements caching mechanisms for improved performance.
7. `pkg/auth`: Handles authentication and authorization for tool execution.
8. `pkg/monitor`: Provides monitoring and logging functionality for script execution.
9. `pkg/types`: Defines common types and structures used throughout the project.
10. `pkg/parser`: Implements parsing functionality for GPTScript programs.

## Dependencies
The GPTScript project relies on several external libraries and frameworks:

1. `github.com/spf13/cobra`: Used for building the command-line interface.
2. `github.com/getkin/kin-openapi`: Provides OpenAPI parsing and schema handling.
3. `github.com/chzyer/readline`: Used for interactive command-line input.
4. `github.com/fatih/color`: Enables colored console output.
5. Various standard Go libraries for HTTP handling, JSON processing, and more.

These dependencies were chosen to provide robust functionality while maintaining flexibility and ease of use.

## Configuration
The GPTScript system uses a combination of configuration methods:

1. Environment Variables: Used for setting API keys, default models, and various system behaviors.
2. Command-Line Flags: Provided through the CLI for runtime configuration.
3. Configuration Files: Used for storing persistent settings and credentials.
4. In-Code Options: Many packages provide option structs for fine-grained configuration.

Key configurable aspects include:
- Language model selection and API credentials
- Caching behavior
- Monitoring and logging settings
- Runtime environments for different programming languages

The modular structure of the `pkg` directory allows for flexible configuration and easy extension of the GPTScript system. Each package typically provides its own configuration options, which can be composed at higher levels to create the desired system behavior.