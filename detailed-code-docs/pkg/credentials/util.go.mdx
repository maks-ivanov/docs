---
title: "util.go"
---

## High-level description
This Go code defines a structure and a function for managing credential helper directories. It provides a standardized way to organize and access paths for revision files, last checked files, and binary directories related to GPTScript credential helpers.

## Symbols

### `CredentialHelperDirs`
#### Description
A struct that holds the paths for various credential helper-related files and directories.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| RevisionFile | string | Path to the revision file |
| LastCheckedFile | string | Path to the last checked file |
| BinDir | string | Path to the binary directory |

### `GetCredentialHelperDirs`
#### Description
A function that generates a `CredentialHelperDirs` struct with predefined paths based on a given cache directory.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cacheDir | string | The base cache directory path |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| CredentialHelperDirs | CredentialHelperDirs | A struct containing the generated file and directory paths |

#### Internal Logic
1. The function takes a `cacheDir` parameter as input.
2. It constructs three paths using `filepath.Join`:
   - RevisionFile: Joins `cacheDir` with "repos", "gptscript-credential-helpers", and "revision".
   - LastCheckedFile: Joins `cacheDir` with "repos", "gptscript-credential-helpers", and "last-checked".
   - BinDir: Joins `cacheDir` with "repos", "gptscript-credential-helpers", and "bin".
3. These paths are used to create and return a new `CredentialHelperDirs` struct.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| path/filepath | Used for joining path components in a cross-platform manner |

This code provides a simple and consistent way to manage paths related to GPTScript credential helpers, ensuring that all components of the application can easily access the correct file locations regardless of the underlying operating system.