---
title: "Overview"
---

## High-level description

The `prediction_src` directory is part of a module designed to predict evolutionary fitness from sequence alignments and phylogenetic trees. It contains several Python files that implement various functionalities related to fitness estimation, ancestral sequence reconstruction, node ranking, and sequence alignment processing. The main components include:

- **Ancestral Sequence Estimation**: Provides tools for estimating ancestral sequences using maximum likelihood methods.
- **Fitness Inference**: Implements a framework for inferring fitness values across a phylogenetic tree.
- **Node and Sequence Ranking**: Offers methods to rank nodes and sequences based on inferred fitness metrics.
- **Survival Analysis**: Solves for generating functions and lineage propagators in evolutionary models.
- **Tree Utilities**: Contains utility functions for building, manipulating, and visualizing phylogenetic trees.

## What does it do?

The code in this directory is designed to analyze evolutionary data and make predictions about the fitness of different sequences or nodes within a phylogenetic tree. Here's a simplified explanation of the processes:

1. **Ancestral Sequence Estimation**: Given a phylogenetic tree and sequence alignment, the code estimates the most likely sequences of ancestral nodes. This involves calculating the probabilities of different character states at each node and determining the most likely ancestral sequences.

2. **Fitness Inference**: The code infers the fitness of nodes in a phylogenetic tree by propagating fitness values up and down the tree. It calculates the posterior fitness distribution, mean fitness, and variance for each node, helping to understand how fitness changes over evolutionary time.

3. **Node and Sequence Ranking**: Nodes and sequences are ranked based on various fitness-related metrics, such as mean posterior fitness, branch length, and expansion score. This ranking helps identify the most evolutionarily significant nodes or sequences.

4. **Survival Analysis**: The code solves for generating functions and lineage propagators, which are mathematical models that describe how lineages evolve over time. This involves numerical integration techniques to predict evolutionary dynamics.

5. **Tree Utilities**: Utility functions are provided for constructing phylogenetic trees from sequence alignments, annotating nodes, collapsing branches, and visualizing trees with color-coded annotations.

Overall, the directory provides a comprehensive toolkit for analyzing evolutionary data, estimating ancestral sequences, inferring fitness, and ranking nodes or sequences based on evolutionary significance.