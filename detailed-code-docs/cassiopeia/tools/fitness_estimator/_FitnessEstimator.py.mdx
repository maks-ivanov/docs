---
title: "_FitnessEstimator.py"
---

## High-level description

The `FitnessEstimator` module defines an abstract base class for fitness estimation algorithms within the Cassiopeia framework. This class serves as a blueprint for all fitness estimation algorithms, requiring them to implement the `estimate_fitness` method. The fitness values are stored as an attribute of each node in a `CassiopeiaTree`, which is a data structure representing a phylogenetic tree with additional metadata.

## Code Structure

The main symbols in the code are interconnected as follows:
- `FitnessEstimator` is an abstract base class that other fitness estimation algorithms must inherit from. It mandates the implementation of the `estimate_fitness` method.
- `FitnessEstimatorError` is a custom exception class used to handle errors specific to the `FitnessEstimator` class.
- The `CassiopeiaTree` class, imported from `cassiopeia.data`, is used as an input to the `estimate_fitness` method, representing the tree structure on which fitness estimation is performed.

## Symbols

### `FitnessEstimatorError`
#### Description
`FitnessEstimatorError` is a custom exception class designed to handle errors specific to the `FitnessEstimator` class. It does not add any additional functionality beyond the base `Exception` class.

### `FitnessEstimator`
#### Description
`FitnessEstimator` is an abstract base class for all fitness estimation algorithms in the Cassiopeia framework. It requires subclasses to implement the `estimate_fitness` method, which estimates the fitness of each node in a `CassiopeiaTree`. The fitness values are stored as an attribute of each node.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tree | `CassiopeiaTree` | A tree structure with initialized topology and estimated branch lengths. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | The method modifies the tree in place by setting the fitness attribute for each node. |

#### Internal Logic
The `estimate_fitness` method is abstract and must be implemented by any subclass of `FitnessEstimator`. The method is expected to compute and assign fitness values to each node in the provided `CassiopeiaTree`.

## References

- `CassiopeiaTree`: This class is crucial for understanding the `estimate_fitness` method as it provides the tree structure on which fitness estimation is performed. It is defined in `cassiopeia/data/CassiopeiaTree.py`.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `abc` | Used to define the abstract base class `FitnessEstimator`. |
| `cassiopeia.data.CassiopeiaTree` | Provides the tree structure used in fitness estimation. |

## Error Handling

The code defines a custom exception class, `FitnessEstimatorError`, to handle errors specific to the `FitnessEstimator` class. However, the abstract class itself does not implement any error handling logic, leaving it to the subclasses to handle specific errors that may arise during fitness estimation.

## TODOs

There are no TODOs or additional notes left in the code.