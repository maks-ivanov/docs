---
title: "__init__.py"
---

## High-level description

The `cassiopeia/__init__.py` file serves as the main entry point for the Cassiopeia package, which is a software library for lineage tracing and analysis. It imports various submodules such as `preprocess`, `solver`, `plotting`, `data`, `critique`, `simulator`, and `tools`, and makes them accessible at the package level. Additionally, it handles the package versioning using `importlib.metadata` and updates the `sys.modules` to allow for easier access to certain submodules.

## Code Structure

The main symbols in the code are the imported submodules: `preprocess`, `solver`, `plotting`, `data`, `critique`, `simulator`, and `tools`. These are imported and then added to the `__all__` list, which defines the public API of the package. The `importlib.metadata` is used to fetch the package version, and `sys.modules` is updated to allow direct access to some submodules.

## Symbols

### `__version__`
#### Description
The `__version__` symbol holds the version number of the Cassiopeia package. It is retrieved using the `importlib.metadata` module, which fetches the version information from the package metadata.

#### Inputs
None

#### Outputs
| Name      | Type   | Description                  |
|:----------|:-------|:-----------------------------|
| `version` | string | The version of the package.  |

### `__all__`
#### Description
The `__all__` symbol is a list that defines the public API of the Cassiopeia package. It includes the names of the submodules that are intended to be accessible when the package is imported.

#### Inputs
None

#### Outputs
| Name  | Type  | Description                                      |
|:------|:------|:-------------------------------------------------|
| `all` | list  | A list of submodule names that are publicly accessible. |

## References

- The `importlib.metadata` module is used to retrieve the version of the package.
- The `sys` module is used to update the module dictionary to allow direct access to certain submodules.

## Dependencies

| Dependency          | Purpose                                                                 |
|:--------------------|:------------------------------------------------------------------------|
| `importlib.metadata`| Used to retrieve the version of the package from its metadata.          |
| `sys`               | Used to update the module dictionary to allow direct access to submodules.|

## Error Handling

The code includes a try-except block to handle the `ModuleNotFoundError` that may occur if `importlib.metadata` is not available. In such a case, it falls back to using `importlib_metadata`, which is a backport of the same functionality for older Python versions.

## Side Effects

- The `sys.modules` dictionary is updated to allow direct access to certain submodules, which can affect how these modules are accessed elsewhere in the application.

## Logging

No logging mechanisms are implemented in this code.

## TODOs

No TODOs or notes are present in the code.