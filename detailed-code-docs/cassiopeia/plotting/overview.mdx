---
title: "Overview"
---

## High-level description

The `cassiopeia/plotting` directory is a part of the Cassiopeia library, which focuses on the visualization of phylogenetic trees. This directory provides various utilities and classes to facilitate the plotting of these trees using different methods and libraries. The main components include:

- **`__init__.py`**: Serves as the entry point for the plotting functionalities, exposing key functions and classes for tree visualization.
- **`itol_utilities.py`**: Provides functions to interact with the iTOL (Interactive Tree Of Life) platform for tree visualization.
- **`local.py`**: Contains functions for local plotting of trees using Matplotlib and Plotly.
- **`local_3d.py`**: Offers 3D visualization capabilities using Pyvista.
- **`palettes.py`**: Defines a color palette for use in visualizations.
- **`utilities.py`**: Provides utility functions for plotting, including coordinate calculations and color mappings.

## What does it do?

The `cassiopeia/plotting` directory enables users to visualize phylogenetic trees in various formats and styles. It supports both static and interactive plots, as well as 3D visualizations. Users can upload trees to the iTOL platform for enhanced visualization with metadata and allele tables, or plot them locally using Matplotlib and Plotly. The directory also includes utilities for handling spatial data and generating color mappings, which are essential for annotating trees with additional data.

### Visualization Workflows

1. **iTOL Visualization**: Users can upload their phylogenetic trees to the iTOL platform using the `upload_and_export_itol` function. This allows for the integration of metadata and allele tables, providing a comprehensive view of the tree with additional data layers.

2. **Local Plotting**: For users who prefer local visualization, the `plot_matplotlib` and `plot_plotly` functions offer static and interactive plotting options, respectively. These functions support various customizations, such as color strips for annotations and clade-specific coloring.

3. **3D Visualization**: The `Tree3D` class in `local_3d.py` enables 3D visualization of trees using Pyvista. This is particularly useful for visualizing lineage tracing experiments with spatial data.

4. **Color Management**: The `palettes.py` file provides a predefined color palette, while `utilities.py` includes functions for generating random colors and converting between color formats. These tools help in creating visually distinct and informative plots.

## Entry points

The main entry point for the plotting functionalities is the `__init__.py` file, which imports and exposes key functions and classes from the other modules. This file allows users to access the plotting utilities without needing to import each module individually.

## Key Files

- **`itol_utilities.py`**: Handles interactions with the iTOL platform, including uploading trees and exporting visualizations.
- **`local.py`**: Provides functions for local plotting using Matplotlib and Plotly, supporting both static and interactive visualizations.
- **`local_3d.py`**: Contains the `Tree3D` class for 3D visualization using Pyvista, along with utility functions for handling spatial data.
- **`palettes.py`**: Defines a color palette for use in visualizations, providing a diverse range of colors for distinguishing data points.
- **`utilities.py`**: Offers utility functions for plotting, including coordinate calculations and color mappings, supporting both rectangular and polar coordinate systems.

## Dependencies

The directory relies on several external libraries to provide its functionalities:

- **Matplotlib**: Used for static plotting of trees.
- **Plotly**: Enables interactive plotting of trees.
- **Pyvista**: Supports 3D visualization of trees.
- **iTOL API**: Facilitates interaction with the iTOL platform for tree visualization.
- **NumPy and Pandas**: Used for numerical operations and data manipulation.
- **NetworkX**: Assists in graph operations and tree traversal.
- **OpenCV and Scikit-image**: Used for image processing in 3D visualizations.

These dependencies were chosen for their robust capabilities in data visualization and manipulation, making them well-suited for the complex task of phylogenetic tree visualization.