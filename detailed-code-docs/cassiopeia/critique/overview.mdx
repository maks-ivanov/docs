---
title: "Overview"
---

## High-level description

The `cassiopeia.critique` directory is part of the Cassiopeia framework, which is designed for phylogenetic analysis. This specific module provides tools for comparing phylogenetic trees, focusing on evaluating their similarity and accuracy. The main components within this directory include functions for calculating the Robinson-Foulds distance and triplet correctness between two trees. These metrics help in assessing the topological differences and structural similarities of phylogenetic trees.

## What does it do?

The `cassiopeia.critique` module implements processes to compare two phylogenetic trees, which are representations of evolutionary relationships among species or genes. The module provides two main functionalities:

1. **Robinson-Foulds Distance Calculation**: This is a measure of the dissimilarity between two phylogenetic trees. It counts the number of splits (bipartitions) that differ between the trees. A lower Robinson-Foulds distance indicates that the trees are more similar in their structure.

2. **Triplet Correctness Calculation**: This metric evaluates the proportion of triplets (sets of three leaves) that have the same structure in both trees. It provides a more granular view of tree similarity by focusing on smaller substructures within the trees.

These processes are crucial for researchers who need to compare different phylogenetic hypotheses or validate tree reconstruction methods.

## Entry points

The main entry point for the `cassiopeia.critique` module is the `__init__.py` file. This file imports the key functions `robinson_foulds` and `triplets_correct` from the `compare.py` submodule, making them accessible for use in tree comparison tasks. The code is organized to facilitate easy access to these functions, which are the primary tools for evaluating tree similarity.

## Key Files

- **`compare.py`**: This file contains the core functions for comparing phylogenetic trees. It includes the `robinson_foulds` function, which uses the `ete3` library to compute the Robinson-Foulds distance, and the `triplets_correct` function, which calculates the triplet correctness using utility functions from `critique_utilities.py`.

- **`critique_utilities.py`**: This file provides utility functions that support the main comparison functions. It includes methods for annotating tree nodes with depth information, sampling triplets at specific depths, and determining outgroups in triplets. These utilities are essential for the detailed analysis and manipulation of tree structures.

## Dependencies

The `cassiopeia.critique` module relies on several external libraries:

- **`ete3`**: This library is used for tree manipulation and calculating the Robinson-Foulds distance. It provides robust tools for handling phylogenetic trees, making it a suitable choice for this module.

- **`networkx`**: Utilized for graph-based operations on trees, `networkx` offers a flexible framework for working with complex tree structures.

- **`numpy`**: Provides numerical operations, such as calculating maximum values and performing array manipulations, which are necessary for efficient tree analysis.

- **`scipy.special`**: Used for combinatorial calculations, particularly in the `nCr` function, which computes binomial coefficients.

- **`collections`**: This module is used for creating default dictionaries to store triplet information, facilitating efficient data management.

- **`copy`**: Allows for deep copying of tree structures, ensuring that modifications do not affect the original trees.

These dependencies are chosen for their ability to handle the specific requirements of phylogenetic tree analysis, such as tree manipulation, numerical computations, and data management.