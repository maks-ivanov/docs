---
title: "LeafSubsampler.py"
---

## High-level description

The `LeafSubsampler` is an abstract base class designed for subsampling leaves from a `CassiopeiaTree`. It provides a framework for creating derived classes that implement specific leaf subsampling strategies. The main functionality of this class is to define a method `subsample_leaves` that, when implemented, will generate a new tree containing only the lineages relevant to the sampled leaves.

## Code Structure

The `LeafSubsampler` class is an abstract base class that requires any subclass to implement the `subsample_leaves` method. This method is intended to take a `CassiopeiaTree` as input and return a new `CassiopeiaTree` that represents the induced subtree on a sample of the leaves.

## References

- `CassiopeiaTree`: This is the main data structure that the `LeafSubsampler` operates on. It represents a phylogenetic tree with additional data like character states and metadata.
- `LeafSubsamplerError` and `LeafSubsamplerWarning`: These are custom exceptions and warnings used to handle errors and warnings specific to leaf subsampling operations.

## Symbols

### `LeafSubsampler`
#### Description
The `LeafSubsampler` is an abstract base class for all leaf subsamplers. It defines the interface for subsampling leaves from a `CassiopeiaTree`. The primary purpose of this class is to ensure that any subclass implements the `subsample_leaves` method, which is responsible for generating a new tree with a subset of leaves from the original tree.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tree | `CassiopeiaTree` | The tree from which leaves are to be subsampled. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| output | `CassiopeiaTree` | A new tree that is the induced subtree on a sample of the leaves in the given tree. |

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `abc` | Used to define the abstract base class. |
| `networkx` | Utilized for handling graph structures, which are essential for tree representations. |
| `numpy` | Used for numerical operations, potentially in derived classes. |
| `CassiopeiaTree` | The main data structure for trees that the subsampler operates on. |
| `LeafSubsamplerError`, `LeafSubsamplerWarning` | Custom exceptions and warnings for handling specific errors and warnings in leaf subsampling. |

## Error Handling

The `LeafSubsampler` class references `LeafSubsamplerError` for handling errors specific to leaf subsampling operations. This allows for more granular error management in subclasses that implement specific subsampling strategies.

## Logging

The code does not implement any logging mechanisms. However, it uses custom exceptions and warnings to handle errors and provide feedback to the user.

## TODOs

There are no TODOs or additional notes left in the code.