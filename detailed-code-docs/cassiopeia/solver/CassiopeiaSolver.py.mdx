---
title: "CassiopeiaSolver.py"
---

## High-level description

The `CassiopeiaSolver.py` file defines an abstract base class `CassiopeiaSolver` for phylogenetic inference algorithms. This class serves as a template for all solver algorithms in the Cassiopeia framework, which are responsible for inferring phylogenetic trees from character matrices. Each derived class must implement the `solve` method, which performs the actual inference process.

## Code Structure

The main symbol in this file is the `CassiopeiaSolver` class, which is an abstract base class. It is designed to be subclassed by specific solver implementations that will provide concrete implementations of the `solve` method. The class also includes a constructor to initialize the solver with a prior transformation function.

## Symbols

### `CassiopeiaSolver`
#### Description
`CassiopeiaSolver` is an abstract base class for phylogenetic inference algorithms. It provides a common interface and shared functionality for all solver classes in the Cassiopeia framework. The class requires subclasses to implement the `solve` method, which is responsible for constructing a phylogenetic tree from a given character matrix.

#### Inputs
| Name                 | Type   | Description                                                                 |
|:---------------------|:-------|:----------------------------------------------------------------------------|
| prior_transformation | str    | A string specifying the transformation to apply to priors when forming weights. |

#### Outputs
This class does not produce direct outputs as it is an abstract base class. The outputs are expected from the `solve` method implemented in subclasses.

#### Internal Logic
- The constructor initializes the `prior_transformation` attribute, which specifies how priors should be transformed into weights. This transformation can be one of "negative_log", "inverse", or "square_root_inverse".
- The `solve` method is an abstract method, meaning it must be implemented by any subclass. It takes a `CassiopeiaTree` object and additional parameters to perform the phylogenetic inference.

## References

- The `CassiopeiaSolver` class references the `CassiopeiaTree` class from the `cassiopeia.data` module, which is used as an input to the `solve` method. The `CassiopeiaTree` class provides the data structure for storing character matrices and other relevant information for phylogenetic inference.

## Dependencies

- The `abc` module is used to define the `CassiopeiaSolver` as an abstract base class.
- The `typing` module is used for type hinting, specifically for the `Optional` type.

## Error Handling

The `CassiopeiaSolver` class does not implement specific error handling mechanisms. Error handling is expected to be implemented in the subclasses, particularly in the `solve` method.

## Logging

The `CassiopeiaSolver` class does not implement logging. Logging, if needed, should be implemented in the subclasses.

## TODOs

There are no TODOs or notes left in the code.