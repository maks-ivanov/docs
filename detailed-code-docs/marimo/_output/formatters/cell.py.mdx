---
title: "cell.py"
---

## High-level description

The `CellFormatter` class in the `marimo/_output/formatters/cell.py` file is responsible for formatting `Cell` objects for display in Marimo's media viewer. It extends the `FormatterFactory` class and registers a formatter function that converts a `Cell` object into a tuple containing a known MIME type and a string representation of the cell's help information.

## Code Structure

- `CellFormatter` is a subclass of `FormatterFactory`.
- It uses the `formatting.formatter` decorator to register a formatter function for the `Cell` class.
- The formatter function `_format_cell` calls the `_help` method of a `Cell` object to obtain its MIME type and string representation.

## Symbols

### `CellFormatter`
#### Description
The `CellFormatter` class is a formatter factory specifically for `Cell` objects. It registers a formatter function that formats a `Cell` object into a MIME type and string representation tuple.

#### Inputs
- None directly, but it operates on `Cell` objects when the formatter is invoked.

#### Outputs
- None directly, but the registered formatter function outputs a tuple of `KnownMimeType` and `str`.

#### Internal Logic
- The `register` method uses the `formatting.formatter` decorator to register the `_format_cell` function as a formatter for `Cell` objects.
- The `_format_cell` function calls the `_help` method of the `Cell` class, which returns a tuple of a known MIME type and a string representation of the cell's help information.

## References

- `Cell`: The `Cell` class from `marimo._ast.cell` is the target of the formatter.
- `KnownMimeType`: A type from `marimo._messaging.mimetypes` that represents the MIME type of the formatted output.
- `formatting.formatter`: A decorator from `marimo._output.formatting` used to register the formatter function.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `marimo._ast.cell` | Provides the `Cell` class that is formatted by `CellFormatter`. |
| `marimo._messaging.mimetypes` | Provides the `KnownMimeType` type used in the formatter's output. |
| `marimo._output.formatting` | Provides the `formatter` decorator used to register the formatter function. |
| `marimo._output.formatters.formatter_factory` | Provides the `FormatterFactory` base class that `CellFormatter` extends. |

## Error Handling

The code does not explicitly handle errors. It assumes that the `_help` method of the `Cell` class will return a valid MIME type and string representation.

## Logging

There is no logging implemented in this code.

## TODOs

There are no TODOs or notes left in the code.