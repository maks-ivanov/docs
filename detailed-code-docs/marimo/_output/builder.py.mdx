---
title: "builder.py"
---

## High-level description

The `marimo/_output/builder.py` file defines a class `_HTMLBuilder` that provides static methods to generate HTML elements as strings. These methods allow for the creation of common HTML elements such as `div`, `img`, `video`, `audio`, `iframe`, `pre`, and custom components with specified attributes. The file also includes a utility function `_join_params` to format HTML attributes from a list of key-value pairs.

## Code Structure

The main symbol in this file is the `_HTMLBuilder` class, which contains several static methods for building HTML elements. Each method corresponds to a specific HTML tag and constructs the tag with optional attributes. The `_join_params` function is used internally by these methods to format the attributes into a string suitable for inclusion in an HTML tag.

## Symbols

### `_HTMLBuilder`
#### Description
The `_HTMLBuilder` class provides static methods to create HTML elements as strings. Each method corresponds to a specific HTML tag and allows for optional attributes to be included.

#### Methods

- **`div`**: Creates a `&lt;div&gt;` element with optional children and style attributes.
- **`img`**: Creates an `&lt;img&gt;` element with optional `src`, `alt`, and `style` attributes.
- **`video`**: Creates a `&lt;video&gt;` element with optional `src`, `controls`, `muted`, `autoplay`, `loop`, and `style` attributes.
- **`audio`**: Creates an `&lt;audio&gt;` element with optional `src` and `controls` attributes.
- **`iframe`**: Creates an `&lt;iframe&gt;` element with optional `src`, `srcdoc`, `width`, `height`, `style`, `onload`, and `frameborder` attributes.
- **`pre`**: Creates a `&lt;pre&gt;` element with optional child content and style attributes.
- **`component`**: Creates a custom HTML component with a specified name and attributes.

#### Inputs and Outputs
Each method takes specific parameters related to the HTML element it creates, such as `src` for `img` and `video`, or `style` for `div` and `pre`. The output of each method is a string representing the HTML element.

### `_join_params`
#### Description
The `_join_params` function formats a list of attribute key-value pairs into a string suitable for inclusion in an HTML tag.

#### Inputs
| Name   | Type  | Description                        |
|:-------|:------|:-----------------------------------|
| params | List[Tuple[str, Union[str, None]]] | A list of attribute key-value pairs. |

#### Outputs
| Name   | Type  | Description                        |
|:-------|:------|:-----------------------------------|
| output | str   | A string of formatted HTML attributes. |

#### Internal Logic
The function filters out any attributes with `None` values and formats the remaining attributes into a string. If an attribute value is an empty string, only the attribute name is included.

## References

The `_HTMLBuilder` class is used in various parts of the codebase, as seen in the related files. It is used to generate HTML elements for rendering in different contexts, such as charts, images, and interactive elements.

## Dependencies

The file does not have any external dependencies, but it relies on Python's standard library for type annotations.

## Error Handling

The code does not include explicit error handling mechanisms. It assumes that the inputs provided to the methods are valid and correctly formatted.

## Logging

There are no logging mechanisms implemented in this code.

## TODOs

There are no TODOs or notes left in the code.