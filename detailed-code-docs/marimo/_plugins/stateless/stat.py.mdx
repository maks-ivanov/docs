---
title: "stat.py"
---

## High-level description

The `stat` function in the `marimo/_plugins/stateless/stat.py` file is designed to create and return an HTML representation of a statistic. It allows for optional customization with a label, caption, direction indicator (increase or decrease), and a border. This function leverages the Marimo library's capabilities to build stateless web components, specifically for displaying statistical data in a web-based UI.

## Code Structure

The main function in this file is `stat`, which utilizes several helper functions and classes from the Marimo library to achieve its functionality. It calls `build_stateless_plugin` to construct the HTML component and uses `remove_none_values` to clean up the input arguments. The `Html` class is used to wrap the resulting HTML string, making it suitable for rendering in a Marimo application.

## References

- `Html`: A class from `marimo._output.hypertext` that wraps HTML text for rendering.
- `build_stateless_plugin`: A function from `marimo._plugins.core.web_component` that constructs HTML for stateless components.
- `remove_none_values`: A utility function from `marimo._plugins.utils` that removes `None` values from a dictionary.

## Symbols

### `stat`
#### Description
The `stat` function is responsible for creating an HTML representation of a statistic, which can include a value, label, caption, direction, and border. It returns an `Html` object that can be rendered in a Marimo application.

#### Inputs
| Name      | Type                                      | Description                                                                 |
|:----------|:------------------------------------------|:----------------------------------------------------------------------------|
| `value`   | `Union[str, int, float]`                   | The main value of the statistic to display.                                 |
| `label`   | `Optional[str]`                            | An optional label for the statistic.                                        |
| `caption` | `Optional[str]`                            | An optional caption providing additional context for the statistic.         |
| `direction` | `Optional[Literal["increase", "decrease"]]` | An optional indicator of whether the statistic is increasing or decreasing. |
| `bordered` | `bool`                                    | A flag indicating whether the statistic should be displayed with a border.  |

#### Outputs
| Name  | Type  | Description                        |
|:------|:------|:-----------------------------------|
| `Html` | `Html` | An `Html` object representing the statistic. |

#### Internal Logic
1. **Argument Preparation**: The function first prepares a dictionary of arguments, including the value, label, caption, direction, and bordered flag.
2. **Remove None Values**: It uses the `remove_none_values` function to filter out any arguments that are `None`.
3. **Build HTML Component**: The `build_stateless_plugin` function is called with the component name "marimo-stat" and the filtered arguments to construct the HTML string.
4. **Wrap in Html**: The resulting HTML string is wrapped in an `Html` object, which is then returned.

## Dependencies

| Dependency | Purpose                                                                 |
|:-----------|:------------------------------------------------------------------------|
| `Html`     | Used to wrap the HTML string for rendering in a Marimo application.     |
| `build_stateless_plugin` | Constructs the HTML for the stateless component.          |
| `remove_none_values` | Cleans up the input arguments by removing `None` values.      |

## Error Handling

The function does not explicitly handle errors, but it relies on the underlying functions (`build_stateless_plugin`, `remove_none_values`) to manage any issues related to argument processing or HTML construction.

## Logging

There is no logging implemented in this function.

## TODOs

There are no TODOs or notes left in the code.