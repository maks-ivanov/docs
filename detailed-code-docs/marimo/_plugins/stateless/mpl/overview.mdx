---
title: "Overview"
---

## High-level description

The `marimo/_plugins/stateless/mpl` directory is designed to facilitate the rendering of interactive matplotlib plots in a web-based environment. It leverages the WebAgg backend of matplotlib to provide an interactive viewer for figures, allowing users to interact with plots through a web interface. The directory contains two main files: `__init__.py` and `_mpl.py`. The `__init__.py` file serves as an entry point, exposing the `interactive` function, while `_mpl.py` contains the core implementation for setting up a web server using Starlette and managing figure instances.

## What does it do?

The code in this directory enables users to render matplotlib figures interactively in a web browser. When a user wants to visualize a plot, they can use the `interactive` function, which will display the plot in a web-based viewer. This viewer allows users to perform actions such as panning, zooming, and viewing plot coordinates by hovering the mouse over the plot. The interactive experience is powered by a web server that handles HTTP and WebSocket requests, ensuring that the plot remains responsive to user interactions.

## Entry points

The main entry point for this directory is the `__init__.py` file, which exposes the `interactive` function. This function is the primary interface for users who want to render their matplotlib figures interactively. The underlying logic and server setup are handled by the `_mpl.py` file, which contains the necessary components to manage figure instances and serve them through a web application.

## Key Files

- **`_mpl.py`**: This file contains the core logic for rendering interactive matplotlib plots. It includes the `FigureManagers` class for managing figure instances, the `create_application` function for setting up a Starlette web application, and the `get_or_create_application` function to ensure a single instance of the application is running. The `interactive` function in this file is responsible for converting figures to an interactive format and generating the necessary HTML content.

## Dependencies

- **`matplotlib`**: Used for creating and managing figures and axes. It provides the WebAgg backend, which is essential for rendering figures in a web environment.
- **`starlette`**: A lightweight ASGI framework used to create the web server that handles HTTP and WebSocket requests for interactive plots.
- **`uvicorn`**: An ASGI server used to run the Starlette application, enabling the web-based interactive viewer.

## Configuration

The code does not explicitly mention configuration files or environment variables. However, it does involve setting up a web server, which typically requires specifying a host and port. These parameters are likely configurable within the code, particularly in the `create_application` function, which accepts `host` and `port` as inputs.