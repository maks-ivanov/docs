---
title: "refresh.py"
---

## High-level description

The `refresh` class in the `marimo/_plugins/ui/_impl/refresh.py` file defines a UI element that acts as a refresh button. This button can automatically refresh its descendant UI elements at specified intervals. The intervals can be specified in seconds or as human-readable strings (e.g., "1m 30s"). The class extends the `UIElement` class, which provides the foundational behavior for interactive UI elements in the Marimo framework.

## Code Structure

The `refresh` class is a subclass of `UIElement`, which is a generic class designed to represent HTML elements with a value that can be updated from the frontend. The `refresh` class specifically deals with setting up a refresh mechanism for UI elements, allowing them to be refreshed at specified intervals.

## Symbols

### `refresh`
#### Description
The `refresh` class represents a UI element that can refresh its descendants at specified intervals. It allows users to specify multiple refresh intervals and select a default interval. The class handles the initialization of the refresh button, validates input types, and ensures that the default interval is one of the specified options.

#### Inputs
| Name             | Type                                      | Description                                                                 |
|:-----------------|:------------------------------------------|:----------------------------------------------------------------------------|
| `options`        | `Optional[list[Union[int, float, str]]]`  | A list of refresh interval options, either as numbers (seconds) or strings. |
| `default_interval` | `Optional[Union[int, float, str]]`      | The default refresh interval.                                               |
| `label`          | `str`                                     | An optional text label for the element.                                     |
| `on_change`      | `Optional[Callable[[int], None]]`         | An optional callback to run when the element's value changes.               |

#### Outputs
| Name  | Type | Description |
|:------|:-----|:------------|
| None  | None | The class does not return a value but initializes a UI element. |

#### Internal Logic
- **Initialization**: The constructor initializes the refresh button with specified options and a default interval. It validates the types of `default_interval` and `options`, ensuring they are appropriate types and values.
- **Validation**: Checks if `default_interval` is included in `options` if both are provided. Raises a `ValueError` if the conditions are not met.
- **Super Initialization**: Calls the superclass `UIElement` constructor with the component name, initial value, label, and other arguments to set up the UI element.

## References

- **`UIElement`**: The `refresh` class extends `UIElement`, which provides the base functionality for UI elements, including value conversion and change handling.
- **`mddoc`**: A decorator from `marimo._output.rich_help` used to enhance the documentation of the `refresh` class.

## Dependencies

| Dependency                        | Purpose                                                                 |
|:----------------------------------|:------------------------------------------------------------------------|
| `marimo._output.rich_help`        | Provides the `mddoc` decorator for enhanced documentation.              |
| `marimo._plugins.ui._core.ui_element` | Contains the `UIElement` class, which `refresh` extends.               |

## Error Handling

- The constructor raises a `ValueError` if `default_interval` is not of the correct type or if it is not included in `options` when both are provided.

## Logging

The code does not implement any specific logging mechanisms.

## API/Interface Reference

The `refresh` class is part of the Marimo UI plugin system and can be used as a UI element in applications built with Marimo. It is typically instantiated and used within a Marimo application to provide auto-refresh functionality for UI components.

## TODOs

There are no TODOs or notes left in the code.