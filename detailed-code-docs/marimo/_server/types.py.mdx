---
title: "types.py"
---

## High-level description

The target file `marimo/_server/types.py` defines a type alias `QueueType` that is used to represent a queue that can handle elements of a generic type `T`. This alias is compatible with both `multiprocessing.Queue` and `queue.Queue`, providing flexibility for different queue implementations in Python. The file ensures compatibility with Python 3.8 by using string annotations.

## Code Structure

The file primarily defines a type alias `QueueType` using the `Union` type from the `typing` module. This alias is designed to be used in type annotations throughout the codebase, allowing for a consistent way to refer to queues that can handle elements of any type `T`.

## Symbols

### `QueueType`
#### Description
`QueueType` is a type alias that represents a queue capable of handling elements of a generic type `T`. It is defined as a union of `multiprocessing.Queue` and `queue.Queue`, allowing for flexibility in the choice of queue implementation. This alias is particularly useful in scenarios where the code needs to work with both multiprocessing and standard queues.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| T | TypeVar | A generic type variable representing the type of elements the queue can handle. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| QueueType | Union | A type alias for a queue that can be either a `multiprocessing.Queue` or a `queue.Queue`, handling elements of type `T`. |

## References

The `QueueType` alias is referenced in several related files, such as `marimo/_messaging/streams.py`, `marimo/_runtime/complete.py`, `marimo/_runtime/runtime.py`, and `marimo/_server/sessions.py`. These references indicate that `QueueType` is used to annotate queue parameters and variables, ensuring type safety and consistency across the codebase.

## Dependencies

The file imports the `TypeVar` and `Union` from the `typing` module, which are used to define the generic type alias. It also conditionally imports `multiprocessing` and `queue` modules for type checking purposes when `TYPE_CHECKING` is enabled.

| Dependency | Purpose |
|:-----------|:--------|
| typing | Provides `TypeVar` and `Union` for defining generic type aliases. |
| multiprocessing | Used for type checking `multiprocessing.Queue`. |
| queue | Used for type checking `queue.Queue`. |

## Configuration

There are no configuration options or settings defined in this file.

## Error Handling

The file does not implement any specific error handling mechanisms, as it primarily defines a type alias.

## Logging

There are no logging mechanisms implemented in this file.

## API/Interface Reference

The file does not define any API or public interface.

## TODOs

There are no TODOs or notes left in the code.