---
title: "__main__.py"
---

## High-level description

The target file `marimo/__main__.py` serves as the entry point for the Marimo application when executed as a script. It imports and invokes the `main` function from the `marimo._cli.cli` module, which is responsible for handling command-line interface (CLI) operations for the Marimo application.

## Code Structure

The target file is straightforward, consisting of a single import statement and a conditional execution block. The `main` function from the `marimo._cli.cli` module is the central component, and it is executed with the program name set to "marimo" when the script is run directly.

## References

- `marimo._cli.cli.main`: This function is the main entry point for the CLI operations of the Marimo application. It is defined in the `marimo/_cli/cli.py` file and is responsible for setting up and executing various CLI commands.

## Symbols

### `main`
#### Description
The `main` function is the primary entry point for the Marimo CLI. It sets up the command-line interface using the `click` library, defines various commands and options, and manages the execution flow based on user input.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| log_level | str | The logging level for the application. |
| quiet | bool | Flag to suppress standard output. |
| development_mode | bool | Flag to enable development mode, which includes debug logs and server autoreload. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | The function does not return a value but sets up the CLI environment. |

#### Internal Logic
The `main` function uses the `click` library to define a group of commands for the CLI. It sets up options for logging level, quiet mode, and development mode. The function also modifies global variables `DEVELOPMENT_MODE` and `QUIET` based on the provided options. It then proceeds to define various subcommands such as `edit`, `new`, `run`, `recover`, `tutorial`, and `env`, each with its own set of options and arguments.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `click` | Used for creating command-line interfaces. |
| `marimo._cli.cli_validators` | Provides validation functions for CLI options. |
| `marimo._server` modules | Used for server-related operations like starting the server and handling authentication tokens. |
| `marimo._utils.marimo_path` | Utility for handling file paths within the Marimo application. |

## Error Handling

The `main` function and its subcommands use the `click` library's built-in error handling mechanisms. Custom error messages and usage errors are defined to provide helpful feedback to the user.

## Logging

The `main` function includes an option to set the logging level, which is managed by the `_loggers` module. This allows users to control the verbosity of the application's output.

## API/Interface Reference

The `main` function defines a CLI interface with several commands:

| Command | Description |
|:--------|:------------|
| `edit` | Create or edit notebooks. |
| `new` | Create a new notebook. |
| `run` | Run a notebook as an app in read-only mode. |
| `recover` | Recover a Marimo notebook from JSON. |
| `tutorial` | Open a tutorial. |
| `env` | Print out environment information for debugging purposes. |

Each command has its own set of options and arguments, allowing users to customize the behavior of the Marimo application through the CLI.