---
title: "1351.py"
---

## High-level description

The code in the target file is a set of smoke tests for a Marimo application, specifically addressing a bug identified as 1351. It demonstrates the use of themes in visualizations using the `marimo`, `polars`, `holoviews`, and `bokeh` libraries. The code sets up a simple application that allows users to select a theme and applies this theme to different types of plots.

## Code Structure

The code is structured using the `marimo.App` framework, which organizes the application into cells. Each cell is a function decorated with `@app.cell`, and these cells are executed in sequence. The cells are responsible for different tasks such as theme selection, setting up visualization libraries, creating data frames, and plotting data.

## Symbols

### `app`
#### Description
`app` is an instance of `marimo.App`, which is used to define and run the application. It organizes the application into cells and manages their execution.

### `@app.cell`
#### Description
The `@app.cell` decorator is used to define a cell in the Marimo application. Each cell is a function that performs a specific task, such as selecting a theme or plotting data.

### `__(mo)`
#### Description
This cell function allows the user to select a theme from a predefined list using a radio button interface. It returns the selected theme and the list of themes.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mo | module | The Marimo module, used for UI interactions. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| selected_theme | str | The theme selected by the user. |
| themes | list | The list of available themes. |

### `__(selected_theme)`
#### Description
This cell function sets up the `holoviews` and `hvplot` libraries with the selected theme. It configures the renderer to use the selected theme.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| selected_theme | str | The theme selected by the user. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| hv | module | The `holoviews` module configured with the selected theme. |
| hvplot | module | The `hvplot` module configured with the selected theme. |
| pl | module | The `polars` module. |

### `__(pl)`
#### Description
This cell function creates a simple data frame using the `polars` library and plots a line graph.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| pl | module | The `polars` module. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| df | DataFrame | A data frame with columns 'a' and 'b'. |

### `__(selected_theme)`
#### Description
This cell function creates a Bokeh plot with the selected theme applied. It sets up a simple line plot using the Bokeh library.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| selected_theme | str | The theme selected by the user. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| curdoc | function | The current Bokeh document. |
| figure | function | The Bokeh figure function. |
| p | Figure | The Bokeh plot figure. |
| x | list | The x-coordinates for the plot. |
| y | list | The y-coordinates for the plot. |

### `__()`
#### Description
This cell function imports the `marimo` module and returns it.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mo | module | The `marimo` module. |

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| marimo | Used for creating the application and UI components. |
| polars | Used for data manipulation and creating data frames. |
| holoviews | Used for creating visualizations. |
| hvplot | Used for high-level plotting with `holoviews`. |
| bokeh | Used for creating interactive plots. |

## Error Handling

The code does not explicitly handle errors beyond the basic functionality provided by the libraries used. Any errors would likely be raised as exceptions by the respective libraries.

## Logging

The code does not implement any logging mechanisms.

## API/Interface Reference

The code does not expose an API or public interface beyond the Marimo application structure.

## TODOs

There are no TODOs or notes left in the code.