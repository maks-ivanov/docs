---
title: "1273.py"
---

## High-level description

The code in the target file is a smoke test script for the Marimo application framework, specifically addressing a bug identified as 1273. It sets up a simple interactive application using Marimo and Plotly Express to demonstrate the functionality of a range slider that dynamically updates a scatter plot's x-axis range. The script is designed to test the integration and behavior of UI components within the Marimo framework.

## Code Structure

The code is structured using the Marimo framework's `@app.cell` decorator, which defines individual cells or components of the application. Each cell is responsible for a specific part of the application logic, such as importing libraries, creating UI components, or rendering plots. The cells are interconnected, with outputs from one cell being used as inputs for subsequent cells.

## Symbols

### `app`
#### Description
`app` is an instance of the `marimo.App` class, which represents the application being built. It is initialized with a full-width layout.

### `@app.cell`
#### Description
The `@app.cell` decorator is used to define a cell in the Marimo application. Each decorated function represents a component or a step in the application logic.

### First `__` function
#### Description
This cell imports necessary libraries, `marimo` as `mo` and `plotly.express` as `px`, and returns them for use in subsequent cells.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mo | module | The Marimo module for UI components. |
| px | module | The Plotly Express module for plotting. |

### Second `__` function
#### Description
This cell creates a range slider UI component and generates x and y data for plotting. The slider allows users to select a range for the x-axis.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mo | module | The Marimo module for UI components. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| s | UI component | A range slider for selecting x-axis range. |
| x | list | A list of x values from 0 to 9. |
| y | list | A list of y values, which are squares of numbers from -5 to 4. |

### Third `__` function
#### Description
This cell uses the range slider to dynamically update a scatter plot's x-axis range. It stacks the slider and the plot vertically.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mo | module | The Marimo module for UI components. |
| px | module | The Plotly Express module for plotting. |
| s | UI component | The range slider for selecting x-axis range. |
| x | list | A list of x values. |
| y | list | A list of y values. |

### Fourth `__` function
#### Description
This cell creates a Plotly scatter plot with the x-axis range controlled by the slider. The plot is displayed and its state is persisted across app views, but resets when the slider changes.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mo | module | The Marimo module for UI components. |
| px | module | The Plotly Express module for plotting. |
| s | UI component | The range slider for selecting x-axis range. |
| x | list | A list of x values. |
| y | list | A list of y values. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| plot | Plotly figure | A scatter plot with dynamic x-axis range. |

## Side Effects

- The script modifies the UI by adding a range slider and a scatter plot that updates based on user interaction with the slider.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| marimo | Used for building the UI components and application structure. |
| plotly.express | Used for creating scatter plots. |

## Error Handling

The code does not explicitly handle errors. It assumes that all operations, such as creating UI components and plots, will succeed without exceptions.

## Logging

The code does not implement any logging mechanisms.

## API/Interface Reference

The script does not expose an API or public interface. It is intended to be run as a standalone application for testing purposes.

## TODOs

There are no TODOs or notes left in the code.