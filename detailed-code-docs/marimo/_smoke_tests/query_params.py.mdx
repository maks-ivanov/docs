---
title: "query_params.py"
---

## High-level description

The target file `marimo/_smoke_tests/query_params.py` is a script designed to test and demonstrate the handling of query parameters within a Marimo application. It defines several interactive UI components, such as text inputs, switches, and buttons, which manipulate query parameters and display their values in a table format. The script is structured using Marimo's `@app.cell` decorator to define reactive cells that automatically update when their inputs change.

## Code Structure

The code is structured around the Marimo framework, which uses the concept of "cells" to define reactive components. Each cell is a function decorated with `@app.cell`, and these cells interact with each other through shared state, such as query parameters. The main symbols in the code are the cell functions, which define UI components and their interactions with query parameters.

## Symbols

### `@app.cell`
#### Description
The `@app.cell` decorator is used to define a reactive cell in the Marimo application. Each cell function can take inputs, perform operations, and return outputs that can be used by other cells.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mo | Marimo object | Provides access to Marimo's UI components and query parameters. |
| query_params | dict-like object | Represents the current state of query parameters. |
| toggle | UI component | Represents a switch UI component. |
| new_value | UI component | Represents a text input UI component. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| output | tuple | The outputs vary by cell, typically UI components or data structures. |

#### Internal Logic
- Cells are defined to create UI components like text inputs, switches, and buttons.
- Query parameters are accessed and manipulated using methods like `query_params.set()` and `query_params.append()`.
- UI components are updated based on query parameter changes, and vice versa.

### `mo.query_params()`
#### Description
Retrieves the current query parameters as a dictionary-like object that can be manipulated within the application.

### `mo.ui.text()`
#### Description
Creates a text input UI component. It can be initialized with a value and configured to update query parameters on change.

### `mo.ui.switch()`
#### Description
Creates a switch UI component that can toggle between two states.

### `mo.ui.button()`
#### Description
Creates a button UI component that can trigger actions, such as modifying query parameters, when clicked.

### `mo.ui.table()`
#### Description
Displays a table UI component that lists key-value pairs, such as the current query parameters.

### `mo.hstack()`
#### Description
Arranges multiple UI components horizontally in the user interface.

### `mo.md()`
#### Description
Renders Markdown content in the user interface, used here to provide instructions or information to the user.

## Side Effects

- The script modifies the state of query parameters based on user interactions with UI components.
- UI components are dynamically updated in response to changes in query parameters.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| marimo | Provides the framework for building reactive UI components and handling query parameters. |

## Error Handling

The script does not explicitly handle errors beyond the basic functionality provided by the Marimo framework. It assumes that the UI components and query parameter manipulations will succeed without exceptions.

## Logging

The script does not implement any logging mechanisms.

## API/Interface Reference

The script does not expose an API or public interface beyond the interactive UI components defined within the Marimo application.

## TODOs

There are no TODOs or notes left in the code.