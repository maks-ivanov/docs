---
title: "no_mutating.py"
---

## High-level description

The target file `marimo/_smoke_tests/no_mutating.py` is a smoke test script for the Marimo framework. It is designed to test the immutability of certain UI components by attempting to modify their properties and observing the behavior. The script uses the Marimo framework to create a simple application with UI elements and tests the behavior of these elements when their properties are changed.

## Code Structure

The script is structured using the Marimo framework's `App` and `cell` decorators to define a series of operations that are executed in sequence. Each `@app.cell` decorator defines a function that represents a step in the application logic. The functions are executed in the order they are defined, and they interact with Marimo's UI components.

## Symbols

### `app`
#### Description
`app` is an instance of `marimo.App` that represents the application being tested. It is initialized with a width parameter set to "medium".

### `@app.cell`
#### Description
The `@app.cell` decorator is used to define a function as a cell in the Marimo application. Each cell represents a discrete unit of logic or UI interaction.

### `__()`
#### Description
There are multiple functions named `__()` defined with the `@app.cell` decorator. Each function performs a specific operation related to the UI components.

#### Inputs and Outputs
- The first `__()` function imports the Marimo module and returns it.
- The second `__()` function creates a text UI component with a change event handler that prints changes.
- The third `__()` function accesses the `on_change` property of the text component.
- The fourth `__()` function attempts to set the `value` property of the text component to an empty string.
- The fifth `__()` function attempts to set the `on_change` property of the text component to an empty string.

#### Internal Logic
- The functions are designed to test the behavior of the text component when its properties are accessed or modified. The focus is on observing whether these operations are allowed or if they trigger any errors or unexpected behavior.

## Side Effects

- The script attempts to modify the properties of a UI component, which may have side effects depending on the implementation of the Marimo framework. Specifically, it tests the immutability of the `value` and `on_change` properties of a text component.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `marimo`   | Used to create and manage the application and UI components. |

## Error Handling

The script does not explicitly handle errors. It relies on the Marimo framework to manage any exceptions that occur during the execution of the cell functions.

## Logging

The script uses the `print` function as a simple logging mechanism to output changes to the text component. This is used to observe the behavior of the `on_change` event handler.

## Conclusion

The `no_mutating.py` script is a smoke test for the Marimo framework, focusing on the immutability of UI component properties. It uses the Marimo framework's `App` and `cell` decorators to define a sequence of operations that test the behavior of a text component when its properties are accessed or modified. The script is part of a suite of tests designed to ensure the stability and correctness of the Marimo framework.