---
title: "grid.py"
---

## High-level description

The target file `marimo/_smoke_tests/grid.py` is a script that sets up a graphical user interface (GUI) using the Marimo framework. It defines a series of UI components such as dropdowns, sliders, and checkboxes to control the layout properties of a grid, specifically focusing on horizontal and vertical stacking of elements. The script is designed to be run as a standalone application, allowing users to interactively adjust layout parameters and observe the effects on a set of dynamically generated boxes.

## Code Structure

The code is structured around the Marimo framework's `App` and `cell` constructs. The `App` object is initialized with a layout file, and several `@app.cell` decorated functions define the UI components and their behavior. These functions are responsible for creating UI elements, arranging them in horizontal and vertical stacks, and generating content dynamically based on user input.

## Symbols

### `app`
#### Description
The `app` is an instance of the `marimo.App` class, initialized with a layout file `layouts/grid.grid.json`. It serves as the main application object that manages the UI layout and execution flow.

### `@app.cell`
#### Description
The `@app.cell` decorator is used to define functions that represent individual components or logic blocks within the Marimo application. Each decorated function contributes to the UI or the application's behavior.

### `__`
#### Description
The `__` functions are anonymous functions defined using the `@app.cell` decorator. Each function is responsible for a specific part of the UI or logic:

1. **UI Controls Setup**: Creates dropdowns for alignment and justification, a number input for gap, a slider for size, and a checkbox for wrap. These controls allow users to adjust layout properties.
   
2. **Horizontal Stack Header**: Displays a markdown header for the horizontal stack section.

3. **Horizontal Stack Layout**: Arranges boxes in a horizontal stack based on user-selected alignment, justification, gap, and wrap settings.

4. **Vertical Stack Header**: Displays a markdown header for the vertical stack section.

5. **Vertical Stack Layout**: Arranges boxes in a vertical stack based on user-selected alignment and gap settings.

6. **Box Creation**: Dynamically generates a list of HTML boxes with varying sizes based on a slider input. These boxes are used in the stack layouts.

7. **Marimo Import**: Imports the Marimo module, likely for use in other cells or for dynamic execution.

#### Inputs
The inputs for these functions vary, including:
- `mo`: The Marimo object used to create UI elements.
- `align`, `justify`, `gap`, `size`, `wrap`: UI components whose values are used to control layout properties.
- `boxes`: A list of dynamically created HTML boxes.

#### Outputs
The outputs also vary:
- UI components like `align`, `gap`, `justify`, `size`, `wrap`.
- Lists of HTML boxes and functions to create them.

#### Internal Logic
- **UI Controls Setup**: Uses Marimo's UI methods to create interactive components.
- **Box Creation**: Uses a nested function `create_box` to generate HTML content with specific styles and dimensions.

## Side Effects

- The script modifies the UI state by creating and arranging UI components and dynamically generated content.
- It runs a Marimo application when executed as a standalone script.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `marimo`   | Used to create and manage the UI components and application logic. |

## Error Handling

The script does not explicitly handle errors beyond the basic functionality provided by the Marimo framework.

## Logging

The script does not implement any logging mechanisms.

## API/Interface Reference

The script does not expose an API or public interface beyond the UI components defined within the Marimo application.

## TODOs

There are no TODOs or notes left in the code.