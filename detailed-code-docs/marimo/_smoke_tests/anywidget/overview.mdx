---
title: "Overview"
---

## High-level description

The `marimo/_smoke_tests/anywidget` directory contains scripts and configuration files designed to create interactive applications using the `marimo` framework. These applications leverage custom widgets and external libraries to visualize data and provide user interaction capabilities. The main components include:

- **`maplibre.py`**: A script for creating an interactive map using the `maplibre` library, with features like zooming, clicking, and adding controls.
- **`mosaic.py`**: A script for visualizing weather data using a custom `MosaicWidget`, processing data with Pandas, and configuring the widget with a YAML file.
- **`weather.yaml`**: A configuration file defining visualizations for weather data, specifying data sources, interactivity parameters, and visual properties.

## What does it do?

The directory provides functionality for building interactive applications with visual components:

- **Interactive Map**: The `maplibre.py` script sets up a map widget that users can interact with. It allows users to zoom in and out, click on the map for more information, and add additional controls like a scale. This is achieved by configuring map options, adding layers, and handling user interactions through the `marimo` framework.

- **Weather Data Visualization**: The `mosaic.py` script processes weather data from a CSV file and visualizes it using a custom widget. The data is read and manipulated using Pandas, and the visualization is configured using specifications from a YAML file. The application is run within the `marimo` framework, providing a structured and interactive way to explore the weather data.

- **Visualization Configuration**: The `weather.yaml` file provides a detailed configuration for visualizing weather data. It specifies the data source, interactive parameters, and layout of plots. This configuration is used to render visualizations that can be interacted with, such as selecting different weather conditions and viewing corresponding data.

## Entry points

The main files in the directory are `maplibre.py` and `mosaic.py`, each serving as an entry point for different types of applications:

- **`maplibre.py`**: This file is organized into cells using the `marimo` framework, where each cell performs a specific task like setting up map options, creating the map widget, and handling user interactions. The data flow involves configuring the map and adding controls and layers, while the control flow is managed by the sequence of cell executions.

- **`mosaic.py`**: This file also uses the `marimo` framework to define application behavior through cells. It focuses on data processing and widget configuration, with data flowing from the CSV file through Pandas processing to the widget instantiation. The control flow involves loading data, reading configuration, and setting up the widget for display.

## Key Files

- **`weather.yaml`**: This configuration file is crucial for defining the visualizations used in the `mosaic.py` application. It specifies the data source, interactive parameters, and layout of plots, enabling the creation of detailed and interactive visualizations.

## Dependencies

The directory relies on several external libraries and frameworks:

- **`marimo`**: Provides the framework for building applications and managing UI components. It is essential for organizing the application into cells and handling the lifecycle of the application.

- **`maplibre`**: Used in `maplibre.py` for creating and managing the interactive map widget and its controls.

- **`pandas`**: Utilized in `mosaic.py` for data manipulation and processing of the weather dataset.

- **`yaml`**: Used in `mosaic.py` to load configuration specifications from a YAML file.

These dependencies are chosen for their capabilities in handling UI components, data visualization, and data processing, making them suitable for the interactive applications developed in this directory.