---
title: "completion_option.py"
---

## High-level description

The target file `completion_option.py` defines a data structure for representing a code completion result in the Marimo system. It uses a dataclass to encapsulate information about a code symbol, including its name, type, and optional additional information such as a docstring or type hint.

## Code Structure

The main symbol in the code is the `CompletionOption` class, which is a dataclass. This class is used to store information about a code completion suggestion, including the name of the symbol, its type, and any additional completion information. The `CompletionOption` class is referenced in other parts of the codebase, particularly in the `ops.py` and `complete.py` files, where it is used to handle code completion results.

## Symbols

### `CompletionOption`
#### Description
The `CompletionOption` class is a dataclass that represents a single code completion suggestion. It stores the name of the symbol being suggested, its type, and any additional information that might be useful for the user, such as a docstring or type hint.

#### Inputs
| Name            | Type         | Description                                      |
|:----------------|:-------------|:-------------------------------------------------|
| `name`          | `str`        | The name of the completed symbol.                |
| `type`          | `str`        | The type of the symbol (e.g., function, class).  |
| `completion_info` | `Optional[str]` | Additional information about the completion, such as a docstring or type hint. |

#### Outputs
There are no direct outputs from this class as it is a data structure used to encapsulate information.

## References

- The `CompletionOption` class is used in the `marimo/_messaging/ops.py` file, particularly in the `CompletionResult` class, which represents a code completion result that includes a list of `CompletionOption` instances.
- It is also used in the `marimo/_runtime/complete.py` file, where it is part of the logic for generating and handling code completion suggestions.

## Dependencies

The code uses the `dataclasses` module to define the `CompletionOption` as a dataclass, which simplifies the creation of classes that are primarily used to store data. It also uses the `typing` module for type hinting, specifically the `Optional` type to indicate that the `completion_info` field may be `None`.

| Dependency | Purpose |
|:-----------|:--------|
| `dataclasses` | Used to define the `CompletionOption` as a dataclass. |
| `typing` | Provides type hinting capabilities, specifically `Optional`. |

## Error Handling

There is no explicit error handling in the `completion_option.py` file, as it is a simple data structure definition. Error handling related to code completion is likely managed in the parts of the codebase where `CompletionOption` instances are created and used, such as in the `complete.py` file.

## Logging

There is no logging implemented in the `completion_option.py` file. Logging related to code completion is handled in other parts of the codebase, such as in the `complete.py` file, where logging is used to debug issues with generating completion suggestions.

## API/Interface Reference

The `CompletionOption` class does not expose an API or interface directly. It is used internally within the Marimo system to represent code completion suggestions.