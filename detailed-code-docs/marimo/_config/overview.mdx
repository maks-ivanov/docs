---
title: "Overview"
---

## High-level description

The `marimo/_config` directory is part of the Marimo project and is responsible for managing configuration settings for the Marimo editor. It includes modules for defining configuration structures, managing user configurations, and providing utility functions for configuration file handling. The directory is designed to handle various aspects of the editor's configuration, such as code completion, display settings, runtime behavior, and integration with external services.

## What does it do?

The `marimo/_config` directory provides a comprehensive system for managing the configuration of the Marimo editor. It allows users to customize their editor experience by defining settings in a configuration file (`.marimo.toml`). The system supports merging user-defined configurations with default settings, ensuring that all necessary configuration options are present. It also includes mechanisms for handling sensitive information securely, such as API keys, by masking them when necessary.

The configuration system is structured around several key components:

1. **Configuration Classes**: These classes define the structure of different configuration sections, such as code completion, display settings, and server configurations. Each section is represented by a `TypedDict` class that specifies the available options and their types.

2. **User Configuration Management**: The `UserConfigManager` class is responsible for loading, saving, and retrieving user configurations. It interacts with the configuration file, merging user settings with defaults and ensuring that sensitive information is handled securely.

3. **Utility Functions**: Utility functions are provided to locate and load configuration files, merge configurations, and handle errors during configuration file access. These functions ensure that the configuration system is robust and user-friendly.

Overall, the `marimo/_config` directory provides a flexible and secure way for users to customize their Marimo editor experience, while also ensuring that default settings are applied where necessary.

## Entry points

The main files in the `marimo/_config` directory are:

- **`__init__.py`**: This file is currently empty and serves as a placeholder for the `marimo._config` package. It indicates that the directory is intended to be treated as a package by Python.

- **`config.py`**: This file defines the configuration classes and utilities for managing the Marimo editor's configuration. It includes structured configuration options for various aspects of the editor and functions for merging and securing configurations.

- **`manager.py`**: This file contains the `UserConfigManager` class, which manages user configuration settings. It provides functionality to load, save, and retrieve configurations, handling sensitive information securely.

- **`utils.py`**: This file provides utility functions for managing configuration files, including locating, loading, and merging configuration settings. It also handles potential errors during configuration file access and logs relevant information.

## Key Files

- **`config.py`**: Defines the structure and default values for the Marimo editor's configuration. It includes classes for different configuration sections and functions for merging and securing configurations.

- **`manager.py`**: Manages user configuration settings, providing functionality to load, save, and retrieve configurations. It ensures that configurations are merged with default settings and that sensitive information is masked when necessary.

- **`utils.py`**: Provides utility functions for locating and loading configuration files, merging configurations, and handling errors during configuration file access. It logs relevant information to assist with troubleshooting.

## Dependencies

The `marimo/_config` directory uses several external libraries and modules:

- **`dataclasses`**: Used for defining configuration classes.
- **`typing`**: Provides type hints and `TypedDict` for structured configurations.
- **`tomlkit`**: Used for reading and writing TOML configuration files.
- **`os`**: Used for file and directory path operations.
- **`marimo._output.rich_help`**: Used for documentation generation.
- **`marimo._utils.deep_merge`**: Provides the `deep_merge` function for merging configurations.

These dependencies are chosen to provide a robust and flexible configuration management system, with support for structured data types, file operations, and TOML file handling.