---
title: "input_override.py"
---

## High-level description

The target file, `input_override.py`, defines a function `input_override` that serves as a wrapper around the built-in `input` function. This function is designed to override the standard input mechanism by utilizing a custom method `_readline_with_prompt` from `sys.stdin`. This allows for customized input handling, potentially integrating with other systems or environments where the standard input behavior needs to be modified.

## Code Structure

The main symbol in this file is the `input_override` function. It is a standalone function that wraps the built-in `input` function to provide custom input handling. The function is decorated with `functools.wraps` to preserve the metadata of the original `input` function.

## Symbols

### `input_override`
#### Description
The `input_override` function is a custom implementation of the built-in `input` function. It is designed to override the standard input behavior by using a custom method `_readline_with_prompt` from `sys.stdin`. This allows for a different way of reading input, which can be useful in environments where the default input method is not suitable.

#### Inputs
| Name   | Type   | Description                      |
|:-------|:-------|:---------------------------------|
| prompt | str    | A string to display as a prompt. |

#### Outputs
| Name   | Type   | Description                      |
|:-------|:-------|:---------------------------------|
| result | str    | The input read from the user.    |

#### Internal Logic
The function uses `sys.stdin._readline_with_prompt(prompt)` to read input from the user. This method is assumed to be a custom implementation that handles input differently than the standard `input` function. The use of `functools.wraps(input)` ensures that the `input_override` function retains the original `input` function's metadata, such as its name and docstring.

## References

- The `input_override` function is referenced in the `marimo/_pyodide/pyodide_session.py` and `marimo/_runtime/runtime.py` files. In these files, it is used to replace the standard input mechanism with the custom input handling provided by `input_override`.

## Dependencies

The file imports the following modules:
| Dependency | Purpose |
|:-----------|:--------|
| `functools` | Used to apply the `wraps` decorator to preserve the metadata of the original `input` function. |
| `sys` | Used to access `sys.stdin` for custom input handling. |

## Error Handling

The function does not implement any specific error handling mechanisms. It relies on the assumption that `sys.stdin._readline_with_prompt` is a valid method and will function correctly.

## Logging

There are no logging mechanisms implemented in this code.

## TODOs

There are no TODOs or notes left in the code.