---
title: "altair-6.py"
---

## High-level description

The target file is a Python script that uses the Marimo framework to create a simple interactive visualization using Altair. It demonstrates the concept of linked brushing, where selections made in one panel of a chart are reflected in another. The script loads a dataset of cars, creates an Altair chart with linked selections, and runs the application using Marimo.

## Code Structure

The script is structured using the Marimo framework, which organizes code into cells. Each cell is a function decorated with `@app.cell`, indicating that it is a part of the Marimo application. The script consists of three main cells: one for markdown documentation, one for creating the Altair visualization, and one for importing the Marimo module.

## Symbols

### `app`
#### Description
`app` is an instance of the `marimo.App` class, which serves as the main application object for the Marimo framework. It is used to define and run the application.

### `@app.cell`
#### Description
The `@app.cell` decorator is used to define a function as a cell within the Marimo application. Each cell can contain code that performs a specific task, such as rendering a chart or displaying markdown.

### `__`
#### Description
The `__` function is a placeholder name used for multiple cells in the script. Each instance of `__` serves a different purpose based on its content.

#### Inputs
- For the first cell: `mo` (Marimo module)
- For the second cell: None
- For the third cell: None

#### Outputs
- For the first cell: None
- For the second cell: `alt`, `base`, `cars`, `data`, `interval`
- For the third cell: `mo`

#### Internal Logic
- **First Cell**: Displays markdown documentation about linked brushing in Altair.
- **Second Cell**: 
  - Imports the `vega_datasets` module to load the `cars` dataset.
  - Creates an Altair selection interval for linked brushing.
  - Constructs a base Altair chart with points, encoding the y-axis with "Miles_per_Gallon" and color based on the selection.
  - Combines two charts using the `|` operator to show linked brushing between "Acceleration" and "Horsepower".
- **Third Cell**: Imports the Marimo module and returns it.

## Side Effects

- The script modifies the global state by creating and running a Marimo application.
- It also imports several modules and datasets, which are used within the cells.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `marimo` | Framework for organizing and running the application. |
| `vega_datasets` | Provides example datasets for use with Altair. |
| `altair` | Visualization library used to create interactive charts. |

## Error Handling

The script does not include explicit error handling mechanisms. It assumes that the necessary modules and datasets are available and correctly configured.

## Logging

The script does not implement any logging mechanisms.

## API/Interface Reference

The script does not expose an API or public interface. It is intended to be run as a standalone application using the Marimo framework.

## TODOs

There are no TODOs or notes left in the code.