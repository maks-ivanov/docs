---
title: "utils.py"
---

## High-level description
The code in `marimo/_cli/config/utils.py` provides a utility function to highlight TOML headers in a given TOML string. It identifies lines that are TOML headers and applies a specific color formatting to them using a helper function from another module.

## Code Structure
The main function in this file is `highlight_toml_headers`, which utilizes the `orange` function from the `marimo._cli.print` module to apply color formatting to TOML headers. The function processes a TOML string line by line, checking for headers and applying the formatting as needed.

## References
- `orange`: A function from `marimo._cli.print` used to apply orange color formatting to text.

## Symbols

### `highlight_toml_headers`
#### Description
The `highlight_toml_headers` function is designed to process a TOML string and highlight its headers by applying an orange color format. This is useful for visually distinguishing headers from other content in the TOML configuration files.

#### Inputs
| Name        | Type   | Description                  |
|:------------|:-------|:-----------------------------|
| toml_string | str    | A string containing TOML data.|

#### Outputs
| Name              | Type   | Description                                      |
|:------------------|:-------|:-------------------------------------------------|
| highlighted_toml  | str    | The input TOML string with headers highlighted.  |

#### Internal Logic
1. The function splits the input `toml_string` into individual lines.
2. It iterates over each line, stripping leading and trailing whitespace.
3. If a line starts with `[` and ends with `]`, it is identified as a TOML header.
4. The `orange` function is applied to these header lines to add color formatting.
5. Non-header lines are added to the result without modification.
6. The processed lines are joined back into a single string, which is returned.

## Dependencies
| Dependency          | Purpose                                      |
|:--------------------|:---------------------------------------------|
| `marimo._cli.print` | Provides the `orange` function for formatting.|

## Error Handling
The function does not include explicit error handling. It assumes that the input is a valid TOML string and that the `orange` function will correctly format the text.

## Logging
There is no logging implemented in this code.

## Side Effects
There are no side effects; the function only processes and returns a modified string.

## Performance Considerations
The function processes the TOML string line by line, which is efficient for typical configuration file sizes. However, for very large TOML files, the line-by-line processing could be optimized further if necessary.