---
title: "Overview"
---

## High-level description

The `tests/_ast` directory is a comprehensive suite of test scripts designed to validate various functionalities of the `marimo` library. This library is used to create and manage applications composed of computational cells, which are essentially functions that can be executed in a controlled manner. The tests cover a wide range of scenarios, including the creation of interactive applications, the execution of computational cells, code generation, and the handling of imports and variable references. The directory is organized into several subdirectories and files, each focusing on specific aspects of the library, such as application data, cell data, code generation, and compiler functionalities.

## What does it do?

The test scripts in this directory demonstrate and validate the capabilities of the `marimo` library in building and managing applications. Here's a breakdown of the key functionalities:

1. **Interactive Applications**: 
   - Scripts like `calculator.py` and `ui_element_dropdown.py` showcase the creation of simple interactive applications using `marimo`. These applications allow users to interact with UI elements like number inputs and dropdown menus, demonstrating the library's cell-based approach to structuring application logic.

2. **Computational Cells**: 
   - The `named_cells.py` script demonstrates the use of `marimo` to define and manage computational cells. Each cell is a function that performs a specific operation, and the library manages the execution and dependencies of these cells.

3. **Code Generation and Compilation**: 
   - The `test_codegen.py` and `test_compiler.py` files test the generation and compilation of code cells. They ensure that the library can generate Python code from a sequence of cells, handle syntax errors, and manage import statements correctly.

4. **Error Handling and Edge Cases**: 
   - Several scripts are designed to test the framework's handling of errors and edge cases, such as cyclic dependencies, multiple definitions, and unparsable cells. These tests ensure that the library can handle both typical use cases and potential edge cases effectively.

5. **Variable and Import Management**: 
   - The `test_visitor.py` file tests the `ScopedVisitor` class, which is responsible for identifying and categorizing variable definitions, references, and imports within code snippets. This ensures that the library can correctly manage variable scopes and dependencies.

Overall, these test scripts serve as a comprehensive suite to validate the functionality of the `marimo` library across various scenarios, ensuring that it can handle both typical use cases and potential edge cases effectively.

## Entry points

The main files in this directory are:

- **`calculator.py`**: An entry point for a simple calculator application that takes two numbers as input and calculates their sum. It demonstrates the use of `marimo`'s cell-based approach to structure the application workflow.

- **`ui_element_dropdown.py`**: An entry point for a test script that creates a dropdown UI element. It demonstrates how to set up and display a dropdown menu with predefined options using the `marimo` library.

- **`test_app.py`**: Contains a suite of unit tests for the `App` class and its related functionalities within the Marimo framework. It tests various aspects of the `App` class, such as running cells, handling errors, and managing configurations.

- **`test_codegen.py`**: A test suite for the code generation functionality of the `marimo` library. It tests the generation of Python code from a sequence of code cells, ensuring that the generated code matches expected outputs.

- **`test_compiler.py`**: Contains unit tests for the `compile_cell` function and related functionalities from the `marimo._ast.compiler` module. It verifies the behavior of the `compile_cell` function, which compiles code cells and manages import statements.

- **`test_visitor.py`**: Contains a suite of unit tests designed to validate the functionality of the `ScopedVisitor` class. It verifies the correct identification and categorization of variable definitions, references, and imports within Python code snippets.

## Dependencies

The primary dependency for the scripts in this directory is the `marimo` library, which provides the framework for creating and managing interactive applications and computational cells. The tests also use `pytest` for writing and executing test cases. Additionally, some tests may require the `duckdb` dependency for SQL-related functionalities.