---
title: "Overview"
---

## High-level description

The directory `tests/_server/api/endpoints` contains a comprehensive suite of unit tests for various API endpoints in a server application. These tests are designed to verify the functionality and behavior of endpoints related to AI operations, asset management, configuration, documentation, editing, execution, export, file management, health checks, home functionality, kiosk mode, session management, terminal interactions, and WebSocket connections. The tests utilize the `pytest` framework and the `TestClient` from the `starlette` or `fastapi` library to simulate HTTP requests and WebSocket interactions, ensuring that the server responds correctly under different scenarios and configurations.

## What does it do?

The tests in this directory simulate real-world interactions with the server's API endpoints to ensure they function as expected. Here's a breakdown of the workflows and processes tested:

- **AI Operations**: Tests verify the behavior of AI-related endpoints, ensuring they handle various configurations and scenarios, such as missing API keys and custom models.

- **Asset Management**: Tests ensure the server correctly responds to requests for homepage assets, favicons, and virtual files, handling different file routing scenarios.

- **Configuration Management**: Tests verify the functionality of saving user configurations, both with and without an active session.

- **Documentation**: Tests ensure the documentation snippets endpoint consistently returns the same set of snippets.

- **Code Editing**: Tests verify endpoints related to code editing functionalities, such as autocomplete, cell deletion, code formatting, and package installation.

- **Kernel Execution**: Tests ensure the correct behavior of endpoints handling UI element value setting, instantiation, function calls, session interruptions, and cell execution.

- **Export Functionality**: Tests verify the export functionality for HTML, scripts, and markdown, including handling of session management and token-based authentication.

- **File Management**: Tests ensure the correct behavior of file operations, such as listing files, retrieving file details, creating and deleting files, updating file contents, and moving files.

- **Health Checks**: Tests verify the health and status endpoints, ensuring they return the expected responses and handle authorization correctly.

- **Home Functionality**: Tests verify the behavior of endpoints related to workspace files, running notebooks, and session management.

- **Kiosk Mode**: Tests ensure the application behaves correctly when switching between regular and kiosk sessions, handling operations like syncing cell IDs and running code cells.

- **Session Management**: Tests verify the functionality of session management, ensuring sessions can be resumed, saved, and restarted correctly.

- **Terminal Interactions**: Tests verify WebSocket interactions with a terminal endpoint, ensuring connections can be established and messages can be sent and received correctly.

- **WebSocket Connections**: Tests verify the behavior of WebSocket connections, including connection establishment, message handling, session management, and error handling.

Overall, these tests ensure that the server's API endpoints are robust, reliable, and capable of handling various scenarios and configurations.