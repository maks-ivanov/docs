---
title: "test_cli_development.py"
---

## High-level description
The target file `test_cli_development.py` contains a test function designed to verify the functionality of a command-line interface (CLI) command related to the "development" mode of a software application named "Marimo". Specifically, it tests the `openapi` subcommand to ensure it executes successfully and checks for the presence of a specific API endpoint in the output.

## Code Structure
The file consists of a single test function, `test_cli_development_openapi`, which uses the `subprocess` module to execute a CLI command and then performs assertions on the command's output.

## Symbols

### `test_cli_development_openapi`
#### Description
This function tests the `marimo development openapi` CLI command to ensure it runs without errors and that the output contains a specific API endpoint, indicating that the OpenAPI specification is correctly generated or accessible.

#### Inputs
This function does not take any inputs.

#### Outputs
This function does not return any outputs. It uses assertions to validate the expected behavior.

#### Internal Logic
1. The function uses `subprocess.run` to execute the CLI command `marimo development openapi`.
2. It captures the command's output using the `capture_output=True` parameter.
3. It asserts that the command's return code is `0`, indicating successful execution.
4. It checks that the string `"/api/export/html"` is present in the standard output, which suggests that a specific API endpoint is included in the OpenAPI documentation.

## Side Effects
- The function executes a subprocess that runs the `marimo development openapi` command, which may have side effects depending on the implementation of this command in the Marimo application.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| `subprocess` | Used to execute the CLI command and capture its output. |

## Error Handling
The function uses assertions to handle errors. If the command does not execute successfully or the expected output is not found, the test will fail, indicating an issue with the CLI command or its output.

## Logging
There is no explicit logging in this test function. However, the output of the subprocess is captured and checked through assertions.

## References
The test function indirectly references the CLI command `marimo development openapi`, which is part of the Marimo application. The specific implementation details of this command are not provided in the target file or related snippets.

## TODOs
There are no TODOs or notes left in the code.