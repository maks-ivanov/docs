---
title: "test_md.py"
---

## High-level description

The target file `tests/_output/test_md.py` contains a series of unit tests designed to verify the functionality of the `_md` function from the `marimo._output.md` module. This function is responsible for converting markdown text into HTML, with support for various markdown features such as bold and italic text, code blocks, LaTeX, links, and footnotes. The tests ensure that the markdown conversion behaves as expected under different scenarios.

## Code Structure

The main symbol in this file is the `test_md` function, which is a test function that checks the output of the `_md` function. Other test functions like `test_md_code_blocks`, `test_md_latex`, `test_md_links`, and `test_md_footnotes` are also present, each focusing on a specific aspect of markdown conversion. These functions use assertions to compare the actual output of `_md` with the expected HTML output.

## References

- `_md`: This function is imported from `marimo._output.md` and is the primary function being tested in this file. It converts markdown text to HTML.

## Symbols

### `test_md`
#### Description
This function tests the basic markdown conversion capabilities of the `_md` function, including the application of markdown classes and the conversion of bold and italic text.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not take any parameters. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not return any value. It uses assertions to validate the output. |

#### Internal Logic
- Converts a markdown string with bold and italic text to HTML.
- Asserts that the output matches the expected HTML with and without the markdown class applied.

### `test_md_code_blocks`
#### Description
Tests the conversion of code blocks from markdown to HTML.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not take any parameters. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not return any value. It uses assertions to validate the output. |

#### Internal Logic
- Converts a markdown code block to HTML.
- Asserts that the output matches the expected HTML representation of the code block.

### `test_md_latex`
#### Description
Tests the conversion of LaTeX expressions from markdown to HTML.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not take any parameters. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not return any value. It uses assertions to validate the output. |

#### Internal Logic
- Converts a markdown string containing a LaTeX expression to HTML.
- Asserts that the output matches the expected HTML representation.

### `test_md_links`
#### Description
Tests the conversion of external links from markdown to HTML.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not take any parameters. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not return any value. It uses assertions to validate the output. |

#### Internal Logic
- Converts a markdown string containing an external link to HTML.
- Asserts that the output matches the expected HTML representation of the link.

### `test_md_footnotes`
#### Description
Tests the conversion of footnotes from markdown to HTML.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not take any parameters. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This function does not return any value. It uses assertions to validate the output. |

#### Internal Logic
- Converts a markdown string containing a footnote to HTML.
- Asserts that the output matches the expected HTML representation of the footnote.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `marimo._output.md` | Provides the `_md` function for markdown to HTML conversion. |

## Error Handling

The test functions use assertions to handle errors. If the output of the `_md` function does not match the expected output, an `AssertionError` will be raised, indicating a failure in the test.

## Logging

There is no explicit logging implemented in this code. The test framework used (likely `pytest` or similar) would handle the output of test results.

## TODOs

There is a commented-out test function `test_md_size` that suggests there might be additional functionality related to markdown size that is not currently being tested. This could be a potential area for further development or testing.