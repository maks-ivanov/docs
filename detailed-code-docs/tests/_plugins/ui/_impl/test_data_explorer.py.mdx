---
title: "test_data_explorer.py"
---

## High-level description

The target file `test_data_explorer.py` is a test module designed to verify the functionality of the `data_explorer` component within the `marimo` framework. It uses the `pytest` framework to run a test that checks if the `data_explorer` can be instantiated and used with a sample `pandas` DataFrame. The test is conditionally skipped if the necessary dependencies, specifically `pandas`, are not installed.

## Code Structure

The main function in this file is `test_data_explorer`, which is decorated with `pytest.mark.skipif` to conditionally skip the test based on the availability of the `pandas` library. The function uses a `Kernel` object to provide an execution context, which is a side effect of the test setup.

## References

- `DependencyManager`: Used to check if the `pandas` library is installed.
- `data_explorer`: The component being tested, imported from `marimo._plugins.ui._impl.data_explorer`.
- `Kernel`: Provides an execution context for the test, imported from `marimo._runtime.runtime`.

## Symbols

### `test_data_explorer`
#### Description
This function tests the `data_explorer` component by creating a `pandas` DataFrame and passing it to the `data_explorer` function. It asserts that the `data_explorer` returns a truthy value, indicating successful instantiation and operation.

#### Inputs
| Name             | Type   | Description                                      |
|:-----------------|:-------|:-------------------------------------------------|
| executing_kernel | Kernel | An instance of the `Kernel` class, used to provide an execution context. |

#### Outputs
None. The function uses assertions to validate behavior.

#### Internal Logic
1. The function begins by deleting the `executing_kernel` variable, which is only used for its side effect of providing an execution context.
2. It imports `pandas` and creates a simple DataFrame with two columns, "A" and "B".
3. It calls the `data_explorer` function with the DataFrame and asserts that the result is truthy, indicating that the `data_explorer` was successfully created.

## Side Effects
- The function provides an execution context to the `Kernel`, which might affect global state or other tests if not isolated properly.

## Dependencies

| Dependency | Purpose                                      |
|:-----------|:---------------------------------------------|
| `pytest`   | Used for writing and executing the test case. |
| `pandas`   | Required for creating the DataFrame used in the test. |

## Error Handling
The test is skipped if the `pandas` library is not installed, using `pytest.mark.skipif`.

## Logging
No explicit logging is implemented in this test file.

## TODOs
None.