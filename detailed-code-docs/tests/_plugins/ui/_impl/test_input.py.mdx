---
title: "test_input.py"
---

## High-level description

The target file `test_input.py` contains a suite of unit tests for various UI components provided by the `marimo` library. These components include number inputs, sliders, range sliders, text inputs, checkboxes, radio buttons, dropdowns, multiselects, buttons, and date pickers. The tests verify the initialization, boundary conditions, and functionality of these UI components, ensuring they behave as expected under different scenarios.

## Code Structure

The main symbols in the code are test functions, each dedicated to testing a specific UI component or a particular aspect of a component's behavior. These functions utilize the `pytest` framework to assert expected outcomes and handle exceptions. The tests are organized to cover initialization, boundary conditions, invalid inputs, and specific functionalities like updating values and handling data from pandas DataFrames.

## References

- `DependencyManager`: Used to check if the `pandas` library is installed, which is necessary for some tests.
- `ui`: The module from which various UI components are imported and tested.

## Symbols

### `test_number_init`
#### Description
Tests the initialization and basic functionality of the `number` UI component, including setting and updating values.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `number` component with different parameters.
- Asserts the initial state and updates the value to verify correct behavior.

### `test_number_out_of_bounds`
#### Description
Tests the `number` component for handling out-of-bounds values during initialization.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `number` component with a value outside the specified bounds.
- Expects a `ValueError` to be raised.

### `test_number_invalid_bounds`
#### Description
Tests the `number` component for invalid bounds where the stop value is less than the start value.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `number` component with invalid bounds.
- Expects a `ValueError` to be raised.

### `test_number_from_dataframe`
#### Description
Tests the creation of a `number` component from a pandas DataFrame series.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Checks if `pandas` is installed.
- Creates a `number` component from a DataFrame series and verifies its properties.

### `test_slider_init`
#### Description
Tests the initialization and basic functionality of the `slider` UI component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `slider` component with various parameters.
- Asserts the initial state and updates the value to verify correct behavior.

### `test_slider_invalid_steps`
#### Description
Tests the `slider` component for handling invalid steps.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `slider` with invalid steps (empty or non-numeric).
- Expects a `TypeError` to be raised.

### `test_slider_invalid_bounds`
#### Description
Tests the `slider` component for invalid bounds where the stop value is less than the start value.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `slider` component with invalid bounds.
- Expects a `ValueError` to be raised.

### `test_slider_exclusive_args`
#### Description
Tests the `slider` component for mutually exclusive arguments.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `slider` with conflicting arguments.
- Expects a `ValueError` to be raised.

### `test_slider_out_of_bounds`
#### Description
Tests the `slider` component for handling out-of-bounds values during initialization.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `slider` component with a value outside the specified bounds.
- Expects a `ValueError` to be raised.

### `test_slider_from_dataframe`
#### Description
Tests the creation of a `slider` component from a pandas DataFrame series.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Checks if `pandas` is installed.
- Creates a `slider` component from a DataFrame series and verifies its properties.

### `test_range_slider_init`
#### Description
Tests the initialization and basic functionality of the `range_slider` UI component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `range_slider` component with various parameters.
- Asserts the initial state and updates the value to verify correct behavior.

### `test_range_slider_invalid_steps`
#### Description
Tests the `range_slider` component for handling invalid steps.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `range_slider` with invalid steps (empty or non-numeric).
- Expects a `TypeError` to be raised.

### `test_range_slider_invalid_bounds`
#### Description
Tests the `range_slider` component for invalid bounds where the stop value is less than the start value.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `range_slider` component with invalid bounds.
- Expects a `ValueError` to be raised.

### `test_range_slider_exclusive_args`
#### Description
Tests the `range_slider` component for mutually exclusive arguments.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `range_slider` with conflicting arguments.
- Expects a `ValueError` to be raised.

### `test_range_slider_out_of_bounds`
#### Description
Tests the `range_slider` component for handling out-of-bounds values during initialization.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `range_slider` component with a value outside the specified bounds.
- Expects a `ValueError` to be raised.

### `test_range_slider_from_dataframe`
#### Description
Tests the creation of a `range_slider` component from a pandas DataFrame series.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Checks if `pandas` is installed.
- Creates a `range_slider` component from a DataFrame series and verifies its properties.

### `test_text`
#### Description
Tests the initialization and basic functionality of the `text` UI component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `text` component and updates its value.
- Asserts the initial and updated states.

### `test_checkbox_init`
#### Description
Tests the initialization of the `checkbox` UI component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `checkbox` component with different default values.
- Asserts the initial state.

### `test_radio`
#### Description
Tests the initialization and basic functionality of the `radio` UI component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `radio` component with various options.
- Updates the selected value and asserts the state.

### `test_radio_from_dataframe`
#### Description
Tests the creation of a `radio` component from a pandas DataFrame series.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Checks if `pandas` is installed.
- Creates a `radio` component from a DataFrame series and verifies its properties.

### `test_dropdown`
#### Description
Tests the initialization and basic functionality of the `dropdown` UI component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `dropdown` component with various options.
- Updates the selected value and asserts the state.

### `test_dropdown_too_many_options`
#### Description
Tests the `dropdown` component for handling too many options.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `dropdown` with more options than allowed.
- Expects a `ValueError` to be raised.

### `test_dropdown_from_dataframe`
#### Description
Tests the creation of a `dropdown` component from a pandas DataFrame series.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Checks if `pandas` is installed.
- Creates a `dropdown` component from a DataFrame series and verifies its properties.

### `test_multiselect`
#### Description
Tests the initialization and basic functionality of the `multiselect` UI component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `multiselect` component with various options.
- Updates the selected values and asserts the state.

### `test_multiselect_too_many_options`
#### Description
Tests the `multiselect` component for handling too many options.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Attempts to initialize a `multiselect` with more options than allowed.
- Expects a `ValueError` to be raised.

### `test_multiselect_from_dataframe`
#### Description
Tests the creation of a `multiselect` component from a pandas DataFrame series.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Checks if `pandas` is installed.
- Creates a `multiselect` component from a DataFrame series and verifies its properties.

### `test_button`
#### Description
Tests the initialization and basic functionality of the `button` UI component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `button` component with and without a callback.
- Updates the value and asserts the state.

### `test_on_change`
#### Description
Tests the `on_change` callback functionality for a `checkbox` component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `checkbox` with an `on_change` callback.
- Updates the value and verifies the callback execution.

### `test_form_in_array_retains_on_change`
#### Description
Tests that a form within an array retains its `on_change` callback.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Creates a form with a checkbox and verifies the `on_change` callback is retained.

### `test_form_in_dictionary_allowed`
#### Description
Tests that a form can be included in a dictionary.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Creates a form with a checkbox and includes it in a dictionary.
- Asserts the form's properties.

### `test_date`
#### Description
Tests the initialization and basic functionality of the `date` UI component.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Initializes a `date` component with various parameters.
- Updates the date and asserts the state.

### `test_date_from_dataframe`
#### Description
Tests the creation of a `date` component from a pandas DataFrame series.

#### Inputs
None

#### Outputs
None

#### Internal Logic
- Checks if `pandas` is installed.
- Creates a `date` component from a DataFrame series and verifies its properties.

## Dependencies

| Dependency | Purpose |
|:-----------|:--------|
| `pytest` | Used for writing and executing test cases. |
| `pandas` | Used in tests that involve creating UI components from DataFrame series. |

## TODOs

- There is a TODO comment indicating a need for a test file, suggesting that additional tests or a separate test file might be planned for future implementation.