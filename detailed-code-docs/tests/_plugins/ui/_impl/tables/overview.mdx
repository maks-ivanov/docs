---
title: "Overview"
---

## High-level description

The directory `tests/_plugins/ui/_impl/tables` is focused on testing various table management systems and utilities within a UI plugin context. It includes tests for different table managers that handle data using libraries like Polars, Pandas, PyArrow, and a DataFrame-like protocol. The directory also contains JSON files used for testing and reference purposes, particularly in relation to the Polars library. The main components include unit tests for table managers, utility functions for table formatting, and JSON files for data type mapping and testing snapshots.

## What does it do?

The directory serves multiple purposes:

1. **Unit Testing for Table Managers**: It contains a suite of unit tests for different table managers, each designed to handle data using a specific library or protocol. These tests ensure that the table managers can perform operations like data conversion to CSV/JSON, row and column selection, sorting, searching, and applying formatting. The tests cover a wide range of functionalities to ensure that the table managers behave as expected when interacting with complex data types and structures.

2. **Utility Testing**: The directory includes tests for utility functions related to table formatting and management. These tests verify the functionality of determining if an object is "dataframe-like", the behavior of a DataFrameProtocolTableManager when initialized with a "dataframe-like" object, and the formatting of values, rows, and columns using specified format mappings.

3. **Data Type Mapping and Testing Snapshots**: The JSON files in the directory provide mappings between general data types and their Polars equivalents, as well as snapshots of diverse data records for testing. These files are used to verify and understand how different data types are handled or displayed in a UI component or data processing module.

## Entry points

The main files in the directory are the test files for different table managers and utilities. These include:

- `test_default_table.py`: Tests for the `DefaultTableManager`, focusing on row-major and column-major data structures.
- `test_df_protocol.py`: Tests for the `DataFrameProtocolTableManager`, verifying its functionality with a DataFrame-like protocol.
- `test_pandas_table.py`: Tests for the `PandasTableManager`, ensuring it correctly handles data using Pandas DataFrames.
- `test_polars_table.py`: Tests for the `PolarsTableManager`, focusing on data manipulation using the Polars library.
- `test_pyarrow.py`: Tests for the `PyArrowTableManager`, verifying its functionality with `pyarrow` tables and record batches.
- `test_table_utils.py`: Tests for utility functions related to table formatting and management.

The JSON files, `polars.field_types.json` and `polars.json`, are used as reference and testing data for the Polars library.

## Key Files

- **`polars.field_types.json`**: Maps general data types to their Polars equivalents, used for understanding data type handling in Polars.
- **`polars.json`**: A snapshot of diverse data records used for testing the handling of various data types in a UI or data processing context.

## Dependencies

The directory relies on several external libraries for testing and data manipulation:

- **`unittest`**: Provides the framework for writing and running tests.
- **`pytest`**: Used for marking tests and handling assertions.
- **`numpy`**: Utilized in tests for creating arrays within DataFrames.
- **`pandas`**: Used for creating and manipulating DataFrames in tests.
- **`pyarrow`**: Used for creating and manipulating data tables and record batches.
- **`polars`**: The library being tested for data manipulation capabilities.

These dependencies are chosen for their ability to handle specific data types and structures, ensuring comprehensive testing of the table managers and utilities.