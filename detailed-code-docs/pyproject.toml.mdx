---
title: "pyproject.toml"
---

## High-level description

The `pyproject.toml` file is a configuration file for the Python project named "marimo". It specifies the build system requirements, project metadata, dependencies, and various tool configurations. This file is essential for setting up the project environment, managing dependencies, and configuring development tools like linters, formatters, and testing frameworks.

## Code Structure

The `pyproject.toml` file is structured into several sections, each serving a specific purpose:

1. **[build-system]**: Defines the build system requirements, specifying `setuptools` as the required package and `setuptools.build_meta` as the build backend.

2. **[project]**: Contains metadata about the project, such as its name, description, dependencies, and Python version requirements. It also includes classifiers for categorizing the project.

3. **[project.scripts]**: Defines command-line scripts that can be executed, mapping the `marimo` command to the `main` function in the `marimo._cli.cli` module.

4. **[project.optional-dependencies]**: Lists optional dependencies for different use cases like SQL support and development.

5. **[project.urls]**: Provides URLs related to the project, such as the homepage.

6. **[tool.setuptools.dynamic]**: Specifies dynamic versioning using an attribute from the `marimo` package.

7. **[tool.setuptools.packages.find]**: Configures package discovery, indicating that the project source is contained within the `marimo` package.

8. **[tool.ruff]**: Configures the `ruff` linter, including line length, exclusions, and linting rules.

9. **[tool.mypy]**: Configures the `mypy` type checker, setting strict mode and specifying exclusions.

10. **[tool.pytest.ini_options]**: Configures `pytest` options, including minimum version, additional options, and test paths.

11. **[tool.coverage.run]**: Configures code coverage settings, specifying files to omit.

12. **[tool.typos]**: Configures the `typos` tool for spell checking, extending the default word list and specifying files to exclude.

13. **[tool.black]**: Configures the `black` code formatter, setting the line length.

## References

- The `marimo` package is referenced multiple times for scripts, dynamic versioning, and package discovery.
- The `setuptools` package is used for the build system.
- Various dependencies are specified, such as `click`, `jedi`, `markdown`, `uvicorn`, `starlette`, and more.

## Dependencies

The file lists several dependencies required for the project, both mandatory and optional. These dependencies are crucial for the project's functionality and development environment.

| Dependency | Purpose |
|:-----------|:--------|
| `setuptools` | Used for building the project. |
| `click` | For creating command-line interfaces. |
| `jedi` | For code completion. |
| `markdown` | For compiling markdown to HTML. |
| `uvicorn` | For running the web server. |
| `starlette` | As a web framework. |
| `websockets` | For websocket support with Starlette. |
| `typing_extensions` | For compatibility with older Python versions. |
| `docutils` | For parsing reStructuredText. |
| `psutil` | For system utilities like RAM and CPU usage. |
| `itsdangerous` | Required by Starlette for session middleware support. |
| `ruff` | For cell formatting. |
| `packaging` | For version handling. |

## Configuration

The file defines several configuration options for tools like `ruff`, `mypy`, `pytest`, `coverage`, `typos`, and `black`. These configurations are essential for maintaining code quality, style, and testing standards.

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `line-length` | int | 79 | Sets the maximum line length for `ruff` and `black`. |
| `strict` | bool | true | Enables strict type checking in `mypy`. |
| `minversion` | str | "6.0" | Sets the minimum version for `pytest`. |

## Error Handling

The file does not directly implement error handling but specifies dependencies and configurations that may influence error handling in the project, such as `itsdangerous` for session management and `pytest` for testing.

## Logging

The file itself does not implement logging but configures dependencies and tools that may include logging capabilities, such as `uvicorn` and `starlette`.

## TODOs

The file contains a TODO comment related to enabling a specific linting rule in `ruff`:

- `PT011`: The comment suggests fixing issues related to broad exception handling in `pytest.raises` and enabling the rule once resolved.