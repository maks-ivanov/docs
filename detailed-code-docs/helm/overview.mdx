---
title: "Overview"
---

## High-level description
This directory contains Helm charts for deploying the Trieve application, a comprehensive system that includes various components such as analytics, chat, search, and embedding services. The Helm charts provide a flexible and customizable way to deploy Trieve on Kubernetes environments, with support for different databases (PostgreSQL, Qdrant, Redis) and deployment configurations.

## What does it do?
The Helm charts in this directory automate the deployment and management of the Trieve application in Kubernetes environments. Key functionalities include:

1. Deploying multiple microservices (analytics, chat, dashboard, search, server, etc.) as Kubernetes Deployments.
2. Setting up necessary databases (PostgreSQL, Qdrant, Redis) either as subcharts or connecting to external instances.
3. Configuring ingress for different environments (local, AWS, Google Cloud) to manage external traffic.
4. Implementing authentication and authorization using Keycloak.
5. Setting up cron jobs for periodic tasks like clustering.
6. Configuring embedding services with support for multiple models.
7. Managing environment-specific configurations and secrets.
8. Integrating with external services like OpenAI, Stripe, and S3 for storage.
9. Setting up monitoring and analytics using ClickHouse.
10. Configuring network policies and security settings.

## Entry points
The main entry points for these Helm charts are:

1. `Chart.yaml`: Defines the chart metadata and dependencies.
2. `values.yaml` and `local-values.yaml`: The primary configuration files for customizing the Trieve deployment.
3. `templates/` directory: Contains the Kubernetes manifest templates for various resources.

Key deployment files include:
- `templates/server-deployment.yaml` and `templates/server-service.yaml` for the main server component.
- `templates/ingress-*.yaml` files for different environment-specific ingress configurations.
- Various `*-deployment.yaml` and `*-service.yaml` files for different microservices.

## Key Files
1. `Chart.yaml`: Defines the Trieve Helm chart, its version, and dependencies.
2. `local-values.yaml`: Provides configuration values for local deployment, including environment settings, database configurations, and external service integrations.
3. `templates/` directory:
   - Deployment and Service definitions for various components (analytics, chat, dashboard, search, etc.)
   - Ingress configurations for different environments (AWS, Google Cloud, local)
   - Keycloak deployment and configuration for authentication
   - CronJob definitions for periodic tasks
   - ConfigMap definitions for various configurations

## Dependencies
The Trieve Helm chart has the following main dependencies:

1. Kubernetes: The underlying container orchestration platform.
2. Helm: The package manager used for deploying the charts.
3. PostgreSQL: Used as the primary relational database.
4. Qdrant: Vector database for efficient similarity search.
5. Redis: In-memory data structure store used for caching and message brokering.
6. Keycloak: For authentication and authorization.
7. ClickHouse: For analytics and monitoring.
8. External services: OpenAI API, Stripe for payments, S3 for storage.

## Configuration
The Trieve application is highly configurable through the `values.yaml` and `local-values.yaml` files. Key configuration options include:

1. Environment settings (local, AWS, Google Cloud)
2. Database connections (PostgreSQL, Qdrant, Redis)
3. Container image tags for various services
4. Authentication settings (Keycloak, OIDC)
5. External service integrations (OpenAI, Stripe, S3)
6. Embedding model configurations
7. SMTP settings for email notifications
8. Analytics and monitoring configurations

Users can customize these settings to tailor the Trieve deployment to their specific requirements and environment. The configuration allows for flexible deployment options, such as using subcharts for databases or connecting to external instances.

The Helm charts provide a comprehensive and flexible solution for deploying the Trieve application, allowing for easy customization and management across different Kubernetes environments.