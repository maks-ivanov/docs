---
title: "secret.yaml"
---

## High-level description
This Kubernetes YAML template defines a Secret resource for storing API keys used by Qdrant, a vector database. The Secret is conditionally created based on the presence of API key values in the Helm chart.

## Table of contents
- Secret resource definition
- Conditional creation
- Data inclusion

## Code Structure
The template uses Helm functions and conditionals to dynamically generate a Kubernetes Secret resource. It references a helper template `qdrant.fullname` for naming and includes another template `qdrant.secret` for the actual secret data.

## Symbols

### Secret Resource
#### Description
Defines a Kubernetes Secret resource to store API keys for Qdrant.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| .Values.apiKey | string | The main API key for Qdrant |
| .Values.readOnlyApiKey | string | A read-only API key for Qdrant |

#### Internal Logic
1. Checks if either `apiKey` or `readOnlyApiKey` is provided in the Helm values.
2. If either key is present, creates a Secret resource.
3. Uses the `qdrant.fullname` template to generate the Secret name.
4. Includes the `qdrant.secret` template to populate the Secret's data.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| qdrant.fullname | Helper template to generate the full name of the Secret |
| qdrant.secret | Helper template to generate the Secret's data |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| apiKey | string | nil | The main API key for Qdrant |
| readOnlyApiKey | string | nil | A read-only API key for Qdrant |

## Future Improvements
- Consider adding annotations or labels to the Secret for better management.
- Implement a mechanism to rotate the API keys periodically for enhanced security.
- Add support for additional types of secrets or configuration data that Qdrant might require in future versions.