---
title: "rolebinding.yaml"
---

## High-level description
This YAML file defines a Kubernetes RoleBinding resource. It creates a binding between a Role and a ServiceAccount within a specific namespace, granting the ServiceAccount the permissions defined in the Role.

## Table of contents
- Metadata
- RoleRef
- Subjects

## Code Structure
The file defines a single RoleBinding resource with metadata, a roleRef, and subjects. The roleRef specifies the Role to bind to, while the subjects list contains the ServiceAccount to which the Role is being bound.

## Symbols
### RoleBinding
#### Description
Defines a Kubernetes RoleBinding resource that associates a Role with a ServiceAccount.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| .Values.rbac.create | boolean | Determines whether to create the RoleBinding |

#### Internal Logic
- Uses conditional logic to create the RoleBinding only if `.Values.rbac.create` is true
- Utilizes Helm templating functions to populate various fields dynamically

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| common.capabilities.rbac.apiVersion | Determines the appropriate apiVersion for RBAC resources |
| common.names.fullname | Generates the full name for the resource |
| common.names.namespace | Retrieves the namespace |
| common.labels.standard | Generates standard labels |
| common.tplvalues.render | Renders template values |
| redis.serviceAccountName | Retrieves the ServiceAccount name |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| .Values.rbac.create | boolean | - | Controls whether to create the RoleBinding |
| .Values.commonLabels | object | - | Additional labels to add to the resource |
| .Values.commonAnnotations | object | - | Additional annotations to add to the resource |

## Future Improvements
- Consider adding support for multiple subjects or roles
- Implement more flexible role binding configurations, such as ClusterRoleBindings
- Add validation for required values to prevent potential errors during deployment